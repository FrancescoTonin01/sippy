(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function LS(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function BS(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var t=a.default;if(typeof t=="function"){var s=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(r){var o=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return a[r]}})}),s}var Ju={exports:{}},gr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function VS(){if(Qg)return gr;Qg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:r,key:u,ref:o!==void 0?o:null,props:c}}return gr.Fragment=t,gr.jsx=s,gr.jsxs=s,gr}var Wg;function zS(){return Wg||(Wg=1,Ju.exports=VS()),Ju.exports}var h=zS(),ed={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function PS(){if(Zg)return me;Zg=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function N(E,$,W){this.props=E,this.context=$,this.refs=T,this.updater=W||S}N.prototype.isReactComponent={},N.prototype.setState=function(E,$){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,$,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function C(){}C.prototype=N.prototype;function O(E,$,W){this.props=E,this.context=$,this.refs=T,this.updater=W||S}var D=O.prototype=new C;D.constructor=O,j(D,N.prototype),D.isPureReactComponent=!0;var Y=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function P(E,$,W,X,ne,de){return W=de.ref,{$$typeof:a,type:E,key:$,ref:W!==void 0?W:null,props:de}}function F(E,$){return P(E.type,$,void 0,void 0,void 0,E.props)}function J(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function ie(E){var $={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return $[W]})}var Se=/\/+/g;function ke(E,$){return typeof E=="object"&&E!==null&&E.key!=null?ie(""+E.key):$.toString(36)}function ct(){}function je(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ct,ct):(E.status="pending",E.then(function($){E.status==="pending"&&(E.status="fulfilled",E.value=$)},function($){E.status==="pending"&&(E.status="rejected",E.reason=$)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function we(E,$,W,X,ne){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var oe=!1;if(E===null)oe=!0;else switch(de){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(E.$$typeof){case a:case t:oe=!0;break;case y:return oe=E._init,we(oe(E._payload),$,W,X,ne)}}if(oe)return ne=ne(E),oe=X===""?"."+ke(E,0):X,Y(ne)?(W="",oe!=null&&(W=oe.replace(Se,"$&/")+"/"),we(ne,$,W,"",function(Je){return Je})):ne!=null&&(J(ne)&&(ne=F(ne,W+(ne.key==null||E&&E.key===ne.key?"":(""+ne.key).replace(Se,"$&/")+"/")+oe)),$.push(ne)),1;oe=0;var ut=X===""?".":X+":";if(Y(E))for(var De=0;De<E.length;De++)X=E[De],de=ut+ke(X,De),oe+=we(X,$,W,de,ne);else if(De=b(E),typeof De=="function")for(E=De.call(E),De=0;!(X=E.next()).done;)X=X.value,de=ut+ke(X,De++),oe+=we(X,$,W,de,ne);else if(de==="object"){if(typeof E.then=="function")return we(je(E),$,W,X,ne);throw $=String(E),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return oe}function q(E,$,W){if(E==null)return E;var X=[],ne=0;return we(E,X,"","",function(de){return $.call(W,de,ne++)}),X}function I(E){if(E._status===-1){var $=E._result;$=$(),$.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=$)}if(E._status===1)return E._result.default;throw E._result}var te=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function fe(){}return me.Children={map:q,forEach:function(E,$,W){q(E,function(){$.apply(this,arguments)},W)},count:function(E){var $=0;return q(E,function(){$++}),$},toArray:function(E){return q(E,function($){return $})||[]},only:function(E){if(!J(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},me.Component=N,me.Fragment=s,me.Profiler=o,me.PureComponent=O,me.StrictMode=r,me.Suspense=g,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,me.__COMPILER_RUNTIME={__proto__:null,c:function(E){return B.H.useMemoCache(E)}},me.cache=function(E){return function(){return E.apply(null,arguments)}},me.cloneElement=function(E,$,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var X=j({},E.props),ne=E.key,de=void 0;if($!=null)for(oe in $.ref!==void 0&&(de=void 0),$.key!==void 0&&(ne=""+$.key),$)!M.call($,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&$.ref===void 0||(X[oe]=$[oe]);var oe=arguments.length-2;if(oe===1)X.children=W;else if(1<oe){for(var ut=Array(oe),De=0;De<oe;De++)ut[De]=arguments[De+2];X.children=ut}return P(E.type,ne,void 0,void 0,de,X)},me.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},me.createElement=function(E,$,W){var X,ne={},de=null;if($!=null)for(X in $.key!==void 0&&(de=""+$.key),$)M.call($,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=$[X]);var oe=arguments.length-2;if(oe===1)ne.children=W;else if(1<oe){for(var ut=Array(oe),De=0;De<oe;De++)ut[De]=arguments[De+2];ne.children=ut}if(E&&E.defaultProps)for(X in oe=E.defaultProps,oe)ne[X]===void 0&&(ne[X]=oe[X]);return P(E,de,void 0,void 0,null,ne)},me.createRef=function(){return{current:null}},me.forwardRef=function(E){return{$$typeof:m,render:E}},me.isValidElement=J,me.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:I}},me.memo=function(E,$){return{$$typeof:p,type:E,compare:$===void 0?null:$}},me.startTransition=function(E){var $=B.T,W={};B.T=W;try{var X=E(),ne=B.S;ne!==null&&ne(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(fe,te)}catch(de){te(de)}finally{B.T=$}},me.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},me.use=function(E){return B.H.use(E)},me.useActionState=function(E,$,W){return B.H.useActionState(E,$,W)},me.useCallback=function(E,$){return B.H.useCallback(E,$)},me.useContext=function(E){return B.H.useContext(E)},me.useDebugValue=function(){},me.useDeferredValue=function(E,$){return B.H.useDeferredValue(E,$)},me.useEffect=function(E,$,W){var X=B.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(E,$)},me.useId=function(){return B.H.useId()},me.useImperativeHandle=function(E,$,W){return B.H.useImperativeHandle(E,$,W)},me.useInsertionEffect=function(E,$){return B.H.useInsertionEffect(E,$)},me.useLayoutEffect=function(E,$){return B.H.useLayoutEffect(E,$)},me.useMemo=function(E,$){return B.H.useMemo(E,$)},me.useOptimistic=function(E,$){return B.H.useOptimistic(E,$)},me.useReducer=function(E,$,W){return B.H.useReducer(E,$,W)},me.useRef=function(E){return B.H.useRef(E)},me.useState=function(E){return B.H.useState(E)},me.useSyncExternalStore=function(E,$,W){return B.H.useSyncExternalStore(E,$,W)},me.useTransition=function(){return B.H.useTransition()},me.version="19.1.1",me}var Jg;function hh(){return Jg||(Jg=1,ed.exports=PS()),ed.exports}var k=hh(),td={exports:{}},pr={},nd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function qS(){return ep||(ep=1,(function(a){function t(q,I){var te=q.length;q.push(I);e:for(;0<te;){var fe=te-1>>>1,E=q[fe];if(0<o(E,I))q[fe]=I,q[te]=E,te=fe;else break e}}function s(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var I=q[0],te=q.pop();if(te!==I){q[0]=te;e:for(var fe=0,E=q.length,$=E>>>1;fe<$;){var W=2*(fe+1)-1,X=q[W],ne=W+1,de=q[ne];if(0>o(X,te))ne<E&&0>o(de,X)?(q[fe]=de,q[ne]=te,fe=ne):(q[fe]=X,q[W]=te,fe=W);else if(ne<E&&0>o(de,te))q[fe]=de,q[ne]=te,fe=ne;else break e}}return I}function o(q,I){var te=q.sortIndex-I.sortIndex;return te!==0?te:q.id-I.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();a.unstable_now=function(){return u.now()-m}}var g=[],p=[],y=1,x=null,b=3,S=!1,j=!1,T=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Y(q){for(var I=s(p);I!==null;){if(I.callback===null)r(p);else if(I.startTime<=q)r(p),I.sortIndex=I.expirationTime,t(g,I);else break;I=s(p)}}function B(q){if(T=!1,Y(q),!j)if(s(g)!==null)j=!0,M||(M=!0,ke());else{var I=s(p);I!==null&&we(B,I.startTime-q)}}var M=!1,P=-1,F=5,J=-1;function ie(){return N?!0:!(a.unstable_now()-J<F)}function Se(){if(N=!1,M){var q=a.unstable_now();J=q;var I=!0;try{e:{j=!1,T&&(T=!1,O(P),P=-1),S=!0;var te=b;try{t:{for(Y(q),x=s(g);x!==null&&!(x.expirationTime>q&&ie());){var fe=x.callback;if(typeof fe=="function"){x.callback=null,b=x.priorityLevel;var E=fe(x.expirationTime<=q);if(q=a.unstable_now(),typeof E=="function"){x.callback=E,Y(q),I=!0;break t}x===s(g)&&r(g),Y(q)}else r(g);x=s(g)}if(x!==null)I=!0;else{var $=s(p);$!==null&&we(B,$.startTime-q),I=!1}}break e}finally{x=null,b=te,S=!1}I=void 0}}finally{I?ke():M=!1}}}var ke;if(typeof D=="function")ke=function(){D(Se)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,je=ct.port2;ct.port1.onmessage=Se,ke=function(){je.postMessage(null)}}else ke=function(){C(Se,0)};function we(q,I){P=C(function(){q(a.unstable_now())},I)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(q){q.callback=null},a.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(q){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var te=b;b=I;try{return q()}finally{b=te}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(q,I){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=b;b=q;try{return I()}finally{b=te}},a.unstable_scheduleCallback=function(q,I,te){var fe=a.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,q){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=te+E,q={id:y++,callback:I,priorityLevel:q,startTime:te,expirationTime:E,sortIndex:-1},te>fe?(q.sortIndex=te,t(p,q),s(g)===null&&q===s(p)&&(T?(O(P),P=-1):T=!0,we(B,te-fe))):(q.sortIndex=E,t(g,q),j||S||(j=!0,M||(M=!0,ke()))),q},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(q){var I=b;return function(){var te=b;b=I;try{return q.apply(this,arguments)}finally{b=te}}}})(ad)),ad}var tp;function HS(){return tp||(tp=1,nd.exports=qS()),nd.exports}var sd={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function $S(){if(np)return xt;np=1;var a=hh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:p,implementation:y}}var u=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xt.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(g,p,null,y)},xt.flushSync=function(g){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=p,r.p=y,r.d.f()}},xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},xt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,x=m(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:S}):y==="script"&&r.d.X(g,{crossOrigin:x,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,x=m(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},xt.requestFormReset=function(g){r.d.r(g)},xt.unstable_batchedUpdates=function(g,p){return g(p)},xt.useFormState=function(g,p,y){return u.H.useFormState(g,p,y)},xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},xt.version="19.1.1",xt}var ap;function GS(){if(ap)return sd.exports;ap=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),sd.exports=$S(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function YS(){if(sp)return pr;sp=1;var a=HS(),t=hh(),s=GS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function u(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,l=n;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return m(d),e;if(f===l)return m(d),n;f=f.sibling}throw Error(r(188))}if(i.return!==l.return)i=d,l=f;else{for(var v=!1,w=d.child;w;){if(w===i){v=!0,i=d,l=f;break}if(w===l){v=!0,l=d,i=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===i){v=!0,i=f,l=d;break}if(w===l){v=!0,l=f,i=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ke(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Symbol.for("react.client.reference");function je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case M:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:je(e.type)||"Memo";case F:n=e._payload,e=e._init;try{return je(e(n))}catch{}}return null}var we=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},fe=[],E=-1;function $(e){return{current:e}}function W(e){0>E||(e.current=fe[E],fe[E]=null,E--)}function X(e,n){E++,fe[E]=e.current,e.current=n}var ne=$(null),de=$(null),oe=$(null),ut=$(null);function De(e,n){switch(X(oe,n),X(de,e),X(ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?jg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=jg(n),e=_g(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ne),X(ne,e)}function Je(){W(ne),W(de),W(oe)}function xa(e){e.memoizedState!==null&&X(ut,e);var n=ne.current,i=_g(n,e.type);n!==i&&(X(de,e),X(ne,i))}function zn(e){de.current===e&&(W(ne),W(de)),ut.current===e&&(W(ut),ur._currentValue=te)}var va=Object.prototype.hasOwnProperty,fi=a.unstable_scheduleCallback,mi=a.unstable_cancelCallback,qo=a.unstable_shouldYield,gi=a.unstable_requestPaint,jt=a.unstable_now,pi=a.unstable_getCurrentPriorityLevel,Qa=a.unstable_ImmediatePriority,yi=a.unstable_UserBlockingPriority,ba=a.unstable_NormalPriority,Kr=a.unstable_LowPriority,xi=a.unstable_IdlePriority,Z=a.log,ee=a.unstable_setDisableYieldValue,bt=null,Ie=null;function Wt(e){if(typeof Z=="function"&&ee(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(bt,e)}catch{}}var gt=Math.clz32?Math.clz32:Sb,bb=Math.log,wb=Math.LN2;function Sb(e){return e>>>=0,e===0?32:31-(bb(e)/wb|0)|0}var Xr=256,Fr=4194304;function wa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,n,i){var l=e.pendingLanes;if(l===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=wa(l):(v&=w,v!==0?d=wa(v):i||(i=w&~e,i!==0&&(d=wa(i))))):(w=l&~f,w!==0?d=wa(w):v!==0?d=wa(v):i||(i=l&~e,i!==0&&(d=wa(i)))),d===0?0:n!==0&&n!==d&&(n&f)===0&&(f=d&-d,i=n&-n,f>=i||f===32&&(i&4194048)!==0)?n:d}function vi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(){var e=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),e}function of(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function Ho(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function bi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jb(e,n,i,l,d,f){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,_=e.expirationTimes,L=e.hiddenUpdates;for(i=v&~i;0<i;){var H=31-gt(i),K=1<<H;w[H]=0,_[H]=-1;var V=L[H];if(V!==null)for(L[H]=null,H=0;H<V.length;H++){var z=V[H];z!==null&&(z.lane&=-536870913)}i&=~K}l!==0&&cf(e,l,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function cf(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-gt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function uf(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var l=31-gt(i),d=1<<l;d&n|e[l]&n&&(e[l]|=n),i&=~d}}function $o(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function df(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Gg(e.type))}function _b(e,n){var i=I.p;try{return I.p=e,n()}finally{I.p=i}}var Pn=Math.random().toString(36).slice(2),pt="__reactFiber$"+Pn,_t="__reactProps$"+Pn,Wa="__reactContainer$"+Pn,Yo="__reactEvents$"+Pn,Tb="__reactListeners$"+Pn,Nb="__reactHandles$"+Pn,hf="__reactResources$"+Pn,wi="__reactMarker$"+Pn;function Ko(e){delete e[pt],delete e[_t],delete e[Yo],delete e[Tb],delete e[Nb]}function Za(e){var n=e[pt];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Wa]||i[pt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Ag(e);e!==null;){if(i=e[pt])return i;e=Ag(e)}return n}e=i,i=e.parentNode}return null}function Ja(e){if(e=e[pt]||e[Wa]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Si(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function es(e){var n=e[hf];return n||(n=e[hf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function st(e){e[wi]=!0}var ff=new Set,mf={};function Sa(e,n){ts(e,n),ts(e+"Capture",n)}function ts(e,n){for(mf[e]=n,e=0;e<n.length;e++)ff.add(n[e])}var Eb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gf={},pf={};function Ab(e){return va.call(pf,e)?!0:va.call(gf,e)?!1:Eb.test(e)?pf[e]=!0:(gf[e]=!0,!1)}function Qr(e,n,i){if(Ab(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Wr(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function xn(e,n,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+l)}}var Xo,yf;function ns(e){if(Xo===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Xo=n&&n[1]||"",yf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xo+e+yf}var Fo=!1;function Io(e,n){if(!e||Fo)return"";Fo=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(z){var V=z}Reflect.construct(e,[],K)}else{try{K.call()}catch(z){V=z}e.call(K.prototype)}}else{try{throw Error()}catch(z){V=z}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(z){if(z&&V&&typeof z.stack=="string")return[z.stack,V.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var _=v.split(`
`),L=w.split(`
`);for(d=l=0;l<_.length&&!_[l].includes("DetermineComponentFrameRoot");)l++;for(;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;if(l===_.length||d===L.length)for(l=_.length-1,d=L.length-1;1<=l&&0<=d&&_[l]!==L[d];)d--;for(;1<=l&&0<=d;l--,d--)if(_[l]!==L[d]){if(l!==1||d!==1)do if(l--,d--,0>d||_[l]!==L[d]){var H=`
`+_[l].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=l&&0<=d);break}}}finally{Fo=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ns(i):""}function Db(e){switch(e.tag){case 26:case 27:case 5:return ns(e.type);case 16:return ns("Lazy");case 13:return ns("Suspense");case 19:return ns("SuspenseList");case 0:case 15:return Io(e.type,!1);case 11:return Io(e.type.render,!1);case 1:return Io(e.type,!0);case 31:return ns("Activity");default:return""}}function xf(e){try{var n="";do n+=Db(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cb(e){var n=vf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zr(e){e._valueTracker||(e._valueTracker=Cb(e))}function bf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return e&&(l=vf(e)?e.checked?"true":"false":e.value),e=l,e!==i?(n.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rb=/[\n"\\]/g;function Pt(e){return e.replace(Rb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qo(e,n,i,l,d,f,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+zt(n)):e.value!==""+zt(n)&&(e.value=""+zt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Wo(e,v,zt(n)):i!=null?Wo(e,v,zt(i)):l!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+zt(w):e.removeAttribute("name")}function wf(e,n,i,l,d,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;i=i!=null?""+zt(i):"",n=n!=null?""+zt(n):i,w||n===e.value||(e.value=n),e.defaultValue=n}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Wo(e,n,i){n==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function as(e,n,i,l){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+zt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Sf(e,n,i){if(n!=null&&(n=""+zt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+zt(i):""}function kf(e,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=zt(n),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function ss(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Ob=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jf(e,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,i):typeof i!="number"||i===0||Ob.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function _f(e,n,i){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var d in n)l=n[d],n.hasOwnProperty(d)&&i[d]!==l&&jf(e,d,l)}else for(var f in n)n.hasOwnProperty(f)&&jf(e,f,n[f])}function Zo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ub=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(e){return Ub.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Jo=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var is=null,rs=null;function Tf(e){var n=Ja(e);if(n&&(e=n.stateNode)){var i=e[_t]||null;e:switch(e=n.stateNode,n.type){case"input":if(Qo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Pt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==e&&l.form===e.form){var d=l[_t]||null;if(!d)throw Error(r(90));Qo(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===e.form&&bf(l)}break e;case"textarea":Sf(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&as(e,!!i.multiple,n,!1)}}}var tc=!1;function Nf(e,n,i){if(tc)return e(n,i);tc=!0;try{var l=e(n);return l}finally{if(tc=!1,(is!==null||rs!==null)&&(zl(),is&&(n=is,e=rs,rs=is=null,Tf(n),e)))for(n=0;n<e.length;n++)Tf(e[n])}}function ki(e,n){var i=e.stateNode;if(i===null)return null;var l=i[_t]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(vn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){nc=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{nc=!1}var qn=null,ac=null,tl=null;function Ef(){if(tl)return tl;var e,n=ac,i=n.length,l,d="value"in qn?qn.value:qn.textContent,f=d.length;for(e=0;e<i&&n[e]===d[e];e++);var v=i-e;for(l=1;l<=v&&n[i-l]===d[f-l];l++);return tl=d.slice(e,1<l?1-l:void 0)}function nl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function Af(){return!1}function Tt(e){function n(i,l,d,f,v){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?al:Af,this.isPropagationStopped=Af,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),n}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=Tt(ka),_i=y({},ka,{view:0,detail:0}),Lb=Tt(_i),sc,ic,Ti,il=y({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(sc=e.screenX-Ti.screenX,ic=e.screenY-Ti.screenY):ic=sc=0,Ti=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ic}}),Df=Tt(il),Bb=y({},il,{dataTransfer:0}),Vb=Tt(Bb),zb=y({},_i,{relatedTarget:0}),rc=Tt(zb),Pb=y({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=Tt(Pb),Hb=y({},ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$b=Tt(Hb),Gb=y({},ka,{data:0}),Cf=Tt(Gb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Xb[e])?!!n[e]:!1}function lc(){return Fb}var Ib=y({},_i,{key:function(e){if(e.key){var n=Yb[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qb=Tt(Ib),Wb=y({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rf=Tt(Wb),Zb=y({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),Jb=Tt(Zb),ew=y({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),tw=Tt(ew),nw=y({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),aw=Tt(nw),sw=y({},ka,{newState:0,oldState:0}),iw=Tt(sw),rw=[9,13,27,32],oc=vn&&"CompositionEvent"in window,Ni=null;vn&&"documentMode"in document&&(Ni=document.documentMode);var lw=vn&&"TextEvent"in window&&!Ni,Of=vn&&(!oc||Ni&&8<Ni&&11>=Ni),Mf=" ",Uf=!1;function Lf(e,n){switch(e){case"keyup":return rw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ls=!1;function ow(e,n){switch(e){case"compositionend":return Bf(n);case"keypress":return n.which!==32?null:(Uf=!0,Mf);case"textInput":return e=n.data,e===Mf&&Uf?null:e;default:return null}}function cw(e,n){if(ls)return e==="compositionend"||!oc&&Lf(e,n)?(e=Ef(),tl=ac=qn=null,ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Of&&n.locale!=="ko"?null:n.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!uw[e.type]:n==="textarea"}function zf(e,n,i,l){is?rs?rs.push(l):rs=[l]:is=l,n=Yl(n,"onChange"),0<n.length&&(i=new sl("onChange","change",null,i,l),e.push({event:i,listeners:n}))}var Ei=null,Ai=null;function dw(e){vg(e,0)}function rl(e){var n=Si(e);if(bf(n))return e}function Pf(e,n){if(e==="change")return n}var qf=!1;if(vn){var cc;if(vn){var uc="oninput"in document;if(!uc){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),uc=typeof Hf.oninput=="function"}cc=uc}else cc=!1;qf=cc&&(!document.documentMode||9<document.documentMode)}function $f(){Ei&&(Ei.detachEvent("onpropertychange",Gf),Ai=Ei=null)}function Gf(e){if(e.propertyName==="value"&&rl(Ai)){var n=[];zf(n,Ai,e,ec(e)),Nf(dw,n)}}function hw(e,n,i){e==="focusin"?($f(),Ei=n,Ai=i,Ei.attachEvent("onpropertychange",Gf)):e==="focusout"&&$f()}function fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rl(Ai)}function mw(e,n){if(e==="click")return rl(n)}function gw(e,n){if(e==="input"||e==="change")return rl(n)}function pw(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rt=typeof Object.is=="function"?Object.is:pw;function Di(e,n){if(Rt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!va.call(n,d)||!Rt(e[d],n[d]))return!1}return!0}function Yf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kf(e,n){var i=Yf(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=n&&l>=n)return{node:i,offset:n-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yf(i)}}function Xf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ff(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Jr(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Jr(e.document)}return n}function dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yw=vn&&"documentMode"in document&&11>=document.documentMode,os=null,hc=null,Ci=null,fc=!1;function If(e,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fc||os==null||os!==Jr(l)||(l=os,"selectionStart"in l&&dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ci&&Di(Ci,l)||(Ci=l,l=Yl(hc,"onSelect"),0<l.length&&(n=new sl("onSelect","select",null,n,i),e.push({event:n,listeners:l}),n.target=os)))}function ja(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var cs={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},mc={},Qf={};vn&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function _a(e){if(mc[e])return mc[e];if(!cs[e])return e;var n=cs[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Qf)return mc[e]=n[i];return e}var Wf=_a("animationend"),Zf=_a("animationiteration"),Jf=_a("animationstart"),xw=_a("transitionrun"),vw=_a("transitionstart"),bw=_a("transitioncancel"),em=_a("transitionend"),tm=new Map,gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gc.push("scrollEnd");function Zt(e,n){tm.set(e,n),Sa(n,[e])}var nm=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var i=nm.get(e);return i!==void 0?i:(n={value:e,source:n,stack:xf(n)},nm.set(e,n),n)}return{value:e,source:n,stack:xf(n)}}var Ht=[],us=0,pc=0;function ll(){for(var e=us,n=pc=us=0;n<e;){var i=Ht[n];Ht[n++]=null;var l=Ht[n];Ht[n++]=null;var d=Ht[n];Ht[n++]=null;var f=Ht[n];if(Ht[n++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}f!==0&&am(i,d,f)}}function ol(e,n,i,l){Ht[us++]=e,Ht[us++]=n,Ht[us++]=i,Ht[us++]=l,pc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,n,i,l){return ol(e,n,i,l),cl(e)}function ds(e,n){return ol(e,null,null,n),cl(e)}function am(e,n,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var d=!1,f=e.return;f!==null;)f.childLanes|=i,l=f.alternate,l!==null&&(l.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&n!==null&&(d=31-gt(i),e=f.hiddenUpdates,l=e[d],l===null?e[d]=[n]:l.push(n),n.lane=i|536870912),f):null}function cl(e){if(50<nr)throw nr=0,ku=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var hs={};function ww(e,n,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,n,i,l){return new ww(e,n,i,l)}function xc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var i=e.alternate;return i===null?(i=Ot(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function sm(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ul(e,n,i,l,d,f){var v=0;if(l=e,typeof e=="function")xc(e)&&(v=1);else if(typeof e=="string")v=kS(e,i,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Ot(31,i,n,d),e.elementType=J,e.lanes=f,e;case j:return Ta(i.children,d,f,n);case T:v=8,d|=24;break;case N:return e=Ot(12,i,n,d|2),e.elementType=N,e.lanes=f,e;case B:return e=Ot(13,i,n,d),e.elementType=B,e.lanes=f,e;case M:return e=Ot(19,i,n,d),e.elementType=M,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case D:v=10;break e;case O:v=9;break e;case Y:v=11;break e;case P:v=14;break e;case F:v=16,l=null;break e}v=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Ot(v,i,n,d),n.elementType=e,n.type=l,n.lanes=f,n}function Ta(e,n,i,l){return e=Ot(7,e,l,n),e.lanes=i,e}function vc(e,n,i){return e=Ot(6,e,null,n),e.lanes=i,e}function bc(e,n,i){return n=Ot(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fs=[],ms=0,dl=null,hl=0,$t=[],Gt=0,Na=null,wn=1,Sn="";function Ea(e,n){fs[ms++]=hl,fs[ms++]=dl,dl=e,hl=n}function im(e,n,i){$t[Gt++]=wn,$t[Gt++]=Sn,$t[Gt++]=Na,Na=e;var l=wn;e=Sn;var d=32-gt(l)-1;l&=~(1<<d),i+=1;var f=32-gt(n)+d;if(30<f){var v=d-d%5;f=(l&(1<<v)-1).toString(32),l>>=v,d-=v,wn=1<<32-gt(n)+d|i<<d|l,Sn=f+e}else wn=1<<f|i<<d|l,Sn=e}function wc(e){e.return!==null&&(Ea(e,1),im(e,1,0))}function Sc(e){for(;e===dl;)dl=fs[--ms],fs[ms]=null,hl=fs[--ms],fs[ms]=null;for(;e===Na;)Na=$t[--Gt],$t[Gt]=null,Sn=$t[--Gt],$t[Gt]=null,wn=$t[--Gt],$t[Gt]=null}var wt=null,$e=null,Ne=!1,Aa=null,on=!1,kc=Error(r(519));function Da(e){var n=Error(r(418,""));throw Mi(qt(n,e)),kc}function rm(e){var n=e.stateNode,i=e.type,l=e.memoizedProps;switch(n[pt]=e,n[_t]=l,i){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(i=0;i<sr.length;i++)ve(sr[i],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ve("invalid",n),wf(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zr(n);break;case"select":ve("invalid",n);break;case"textarea":ve("invalid",n),kf(n,l.value,l.defaultValue,l.children),Zr(n)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||kg(n.textContent,i)?(l.popover!=null&&(ve("beforetoggle",n),ve("toggle",n)),l.onScroll!=null&&ve("scroll",n),l.onScrollEnd!=null&&ve("scrollend",n),l.onClick!=null&&(n.onclick=Kl),n=!0):n=!1,n||Da(e)}function lm(e){for(wt=e.return;wt;)switch(wt.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:wt=wt.return}}function Ri(e){if(e!==wt)return!1;if(!Ne)return lm(e),Ne=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||zu(e.type,e.memoizedProps)),i=!i),i&&$e&&Da(e),lm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){$e=en(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}$e=null}}else n===27?(n=$e,aa(e.type)?(e=$u,$u=null,$e=e):$e=n):$e=wt?en(e.stateNode.nextSibling):null;return!0}function Oi(){$e=wt=null,Ne=!1}function om(){var e=Aa;return e!==null&&(At===null?At=e:At.push.apply(At,e),Aa=null),e}function Mi(e){Aa===null?Aa=[e]:Aa.push(e)}var jc=$(null),Ca=null,kn=null;function Hn(e,n,i){X(jc,n._currentValue),n._currentValue=i}function jn(e){e._currentValue=jc.current,W(jc)}function _c(e,n,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===i)break;e=e.return}}function Tc(e,n,i,l){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var _=0;_<n.length;_++)if(w.context===n[_]){f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),_c(f.return,i,e),l||(v=null);break e}f=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=i,f=v.alternate,f!==null&&(f.lanes|=i),_c(v,i,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Ui(e,n,i,l){e=null;for(var d=n,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=d.type;Rt(d.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(d===ut.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ur):e=[ur])}d=d.return}e!==null&&Tc(n,e,i,l),n.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!Rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){Ca=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return cm(Ca,e)}function ml(e,n){return Ca===null&&Ra(e),cm(e,n)}function cm(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},kn===null){if(e===null)throw Error(r(308));kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else kn=kn.next=n;return i}var Sw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},kw=a.unstable_scheduleCallback,jw=a.unstable_NormalPriority,et={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Sw,data:new Map,refCount:0}}function Li(e){e.refCount--,e.refCount===0&&kw(jw,function(){e.controller.abort()})}var Bi=null,Ec=0,gs=0,ps=null;function _w(e,n){if(Bi===null){var i=Bi=[];Ec=0,gs=Du(),ps={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Ec++,n.then(um,um),n}function um(){if(--Ec===0&&Bi!==null){ps!==null&&(ps.status="fulfilled");var e=Bi;Bi=null,gs=0,ps=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Tw(e,n){var i=[],l={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(l.status="rejected",l.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),l}var dm=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&_w(e,n),dm!==null&&dm(e,n)};var Oa=$(null);function Ac(){var e=Oa.current;return e!==null?e:Ue.pooledCache}function gl(e,n){n===null?X(Oa,Oa.current):X(Oa,n.pool)}function hm(){var e=Ac();return e===null?null:{parent:et._currentValue,pool:e}}var Vi=Error(r(460)),fm=Error(r(474)),pl=Error(r(542)),Dc={then:function(){}};function mm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function gm(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(yl,yl),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ym(e),e;default:if(typeof n.status=="string")n.then(yl,yl);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=l}},function(l){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ym(e),e}throw zi=n,Vi}}var zi=null;function pm(){if(zi===null)throw Error(r(459));var e=zi;return zi=null,e}function ym(e){if(e===Vi||e===pl)throw Error(r(483))}var $n=!1;function Cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,n,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,n=cl(e),am(e,null,i),n}return ol(e,l,n,i),cl(e)}function Pi(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,uf(e,i)}}function Oc(e,n){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,i=i.next}while(i!==null);f===null?d=f=n:f=f.next=n}else d=f=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Mc=!1;function qi(){if(Mc){var e=ps;if(e!==null)throw e}}function Hi(e,n,i,l){Mc=!1;var d=e.updateQueue;$n=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var _=w,L=_.next;_.next=null,v===null?f=L:v.next=L,v=_;var H=e.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==v&&(w===null?H.firstBaseUpdate=L:w.next=L,H.lastBaseUpdate=_))}if(f!==null){var K=d.baseState;v=0,H=L=_=null,w=f;do{var V=w.lane&-536870913,z=V!==w.lane;if(z?(_e&V)===V:(l&V)===V){V!==0&&V===gs&&(Mc=!0),H!==null&&(H=H.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ce=e,re=w;V=n;var Oe=i;switch(re.tag){case 1:if(ce=re.payload,typeof ce=="function"){K=ce.call(Oe,K,V);break e}K=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=re.payload,V=typeof ce=="function"?ce.call(Oe,K,V):ce,V==null)break e;K=y({},K,V);break e;case 2:$n=!0}}V=w.callback,V!==null&&(e.flags|=64,z&&(e.flags|=8192),z=d.callbacks,z===null?d.callbacks=[V]:z.push(V))}else z={lane:V,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(L=H=z,_=K):H=H.next=z,v|=V;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;z=w,w=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);H===null&&(_=K),d.baseState=_,d.firstBaseUpdate=L,d.lastBaseUpdate=H,f===null&&(d.shared.lanes=0),Jn|=v,e.lanes=v,e.memoizedState=K}}function xm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function vm(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)xm(i[e],n)}var ys=$(null),xl=$(0);function bm(e,n){e=Cn,X(xl,e),X(ys,n),Cn=e|n.baseLanes}function Uc(){X(xl,Cn),X(ys,ys.current)}function Lc(){Cn=xl.current,W(ys),W(xl)}var Kn=0,ge=null,Ce=null,Qe=null,vl=!1,xs=!1,Ma=!1,bl=0,$i=0,vs=null,Nw=0;function Ke(){throw Error(r(321))}function Bc(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Rt(e[i],n[i]))return!1;return!0}function Vc(e,n,i,l,d,f){return Kn=f,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?a0:s0,Ma=!1,f=i(l,d),Ma=!1,xs&&(f=Sm(n,i,l,d)),wm(e),f}function wm(e){q.H=Tl;var n=Ce!==null&&Ce.next!==null;if(Kn=0,Qe=Ce=ge=null,vl=!1,$i=0,vs=null,n)throw Error(r(300));e===null||it||(e=e.dependencies,e!==null&&fl(e)&&(it=!0))}function Sm(e,n,i,l){ge=e;var d=0;do{if(xs&&(vs=null),$i=0,xs=!1,25<=d)throw Error(r(301));if(d+=1,Qe=Ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Mw,f=n(i,l)}while(xs);return f}function Ew(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Gi(n):n,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(ge.flags|=1024),n}function zc(){var e=bl!==0;return bl=0,e}function Pc(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function qc(e){if(vl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}vl=!1}Kn=0,Qe=Ce=ge=null,xs=!1,$i=bl=0,vs=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?ge.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function We(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var n=Qe===null?ge.memoizedState:Qe.next;if(n!==null)Qe=n,Ce=e;else{if(e===null)throw ge.alternate===null?Error(r(467)):Error(r(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Qe===null?ge.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(e){var n=$i;return $i+=1,vs===null&&(vs=[]),e=gm(vs,e,n),n=ge,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?a0:s0),e}function wl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gi(e);if(e.$$typeof===D)return yt(e)}throw Error(r(438,String(e)))}function $c(e){var n=null,i=ge.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Hc(),ge.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),l=0;l<e;l++)i[l]=ie;return n.index++,i}function _n(e,n){return typeof n=="function"?n(e):n}function Sl(e){var n=We();return Gc(n,Ce,e)}function Gc(e,n,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var d=e.baseQueue,f=l.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}n.baseQueue=d=f,l.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{n=d.next;var w=v=null,_=null,L=n,H=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(_e&K)===K:(Kn&K)===K){var V=L.revertLane;if(V===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===gs&&(H=!0);else if((Kn&V)===V){L=L.next,V===gs&&(H=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(w=_=K,v=f):_=_.next=K,ge.lanes|=V,Jn|=V;K=L.action,Ma&&i(f,K),f=L.hasEagerState?L.eagerState:i(f,K)}else V={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},_===null?(w=_=V,v=f):_=_.next=V,ge.lanes|=K,Jn|=K;L=L.next}while(L!==null&&L!==n);if(_===null?v=f:_.next=w,!Rt(f,e.memoizedState)&&(it=!0,H&&(i=ps,i!==null)))throw i;e.memoizedState=f,e.baseState=v,e.baseQueue=_,l.lastRenderedState=f}return d===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yc(e){var n=We(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=n.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);Rt(f,n.memoizedState)||(it=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),i.lastRenderedState=f}return[f,l]}function km(e,n,i){var l=ge,d=We(),f=Ne;if(f){if(i===void 0)throw Error(r(407));i=i()}else i=n();var v=!Rt((Ce||d).memoizedState,i);v&&(d.memoizedState=i,it=!0),d=d.queue;var w=Tm.bind(null,l,d,e);if(Yi(2048,8,w,[e]),d.getSnapshot!==n||v||Qe!==null&&Qe.memoizedState.tag&1){if(l.flags|=2048,bs(9,kl(),_m.bind(null,l,d,i,n),null),Ue===null)throw Error(r(349));f||(Kn&124)!==0||jm(l,n,i)}return i}function jm(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ge.updateQueue,n===null?(n=Hc(),ge.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function _m(e,n,i,l){n.value=i,n.getSnapshot=l,Nm(n)&&Em(e)}function Tm(e,n,i){return i(function(){Nm(n)&&Em(e)})}function Nm(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Rt(e,i)}catch{return!0}}function Em(e){var n=ds(e,2);n!==null&&Vt(n,e,2)}function Kc(e){var n=Nt();if(typeof e=="function"){var i=e;if(e=i(),Ma){Wt(!0);try{i()}finally{Wt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},n}function Am(e,n,i,l){return e.baseState=i,Gc(e,Ce,typeof l=="function"?l:_n)}function Aw(e,n,i,l,d){if(_l(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};q.T!==null?i(!0):f.isTransition=!1,l(f),i=n.pending,i===null?(f.next=n.pending=f,Dm(n,f)):(f.next=i.next,n.pending=i.next=f)}}function Dm(e,n){var i=n.action,l=n.payload,d=e.state;if(n.isTransition){var f=q.T,v={};q.T=v;try{var w=i(d,l),_=q.S;_!==null&&_(v,w),Cm(e,n,w)}catch(L){Xc(e,n,L)}finally{q.T=f}}else try{f=i(d,l),Cm(e,n,f)}catch(L){Xc(e,n,L)}}function Cm(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Rm(e,n,l)},function(l){return Xc(e,n,l)}):Rm(e,n,i)}function Rm(e,n,i){n.status="fulfilled",n.value=i,Om(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,Dm(e,i)))}function Xc(e,n,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,Om(n),n=n.next;while(n!==l)}e.action=null}function Om(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mm(e,n){return n}function Um(e,n){if(Ne){var i=Ue.formState;if(i!==null){e:{var l=ge;if(Ne){if($e){t:{for(var d=$e,f=on;d.nodeType!==8;){if(!f){d=null;break t}if(d=en(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){$e=en(d.nextSibling),l=d.data==="F!";break e}}Da(l)}l=!1}l&&(n=i[0])}}return i=Nt(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},i.queue=l,i=e0.bind(null,ge,l),l.dispatch=i,l=Kc(!1),f=Zc.bind(null,ge,!1,l.queue),l=Nt(),d={state:n,dispatch:null,action:e,pending:null},l.queue=d,i=Aw.bind(null,ge,d,f,i),d.dispatch=i,l.memoizedState=e,[n,i,!1]}function Lm(e){var n=We();return Bm(n,Ce,e)}function Bm(e,n,i){if(n=Gc(e,n,Mm)[0],e=Sl(_n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Gi(n)}catch(v){throw v===Vi?pl:v}else l=n;n=We();var d=n.queue,f=d.dispatch;return i!==n.memoizedState&&(ge.flags|=2048,bs(9,kl(),Dw.bind(null,d,i),null)),[l,f,e]}function Dw(e,n){e.action=n}function Vm(e){var n=We(),i=Ce;if(i!==null)return Bm(n,i,e);We(),n=n.memoizedState,i=We();var l=i.queue.dispatch;return i.memoizedState=e,[n,l,!1]}function bs(e,n,i,l){return e={tag:e,create:i,deps:l,inst:n,next:null},n=ge.updateQueue,n===null&&(n=Hc(),ge.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,n.lastEffect=e),e}function kl(){return{destroy:void 0,resource:void 0}}function zm(){return We().memoizedState}function jl(e,n,i,l){var d=Nt();l=l===void 0?null:l,ge.flags|=e,d.memoizedState=bs(1|n,kl(),i,l)}function Yi(e,n,i,l){var d=We();l=l===void 0?null:l;var f=d.memoizedState.inst;Ce!==null&&l!==null&&Bc(l,Ce.memoizedState.deps)?d.memoizedState=bs(n,f,i,l):(ge.flags|=e,d.memoizedState=bs(1|n,f,i,l))}function Pm(e,n){jl(8390656,8,e,n)}function qm(e,n){Yi(2048,8,e,n)}function Hm(e,n){return Yi(4,2,e,n)}function $m(e,n){return Yi(4,4,e,n)}function Gm(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ym(e,n,i){i=i!=null?i.concat([e]):null,Yi(4,4,Gm.bind(null,n,e),i)}function Fc(){}function Km(e,n){var i=We();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&Bc(n,l[1])?l[0]:(i.memoizedState=[e,n],e)}function Xm(e,n){var i=We();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&Bc(n,l[1]))return l[0];if(l=e(),Ma){Wt(!0);try{e()}finally{Wt(!1)}}return i.memoizedState=[l,n],l}function Ic(e,n,i){return i===void 0||(Kn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=Q0(),ge.lanes|=e,Jn|=e,i)}function Fm(e,n,i,l){return Rt(i,n)?i:ys.current!==null?(e=Ic(e,i,l),Rt(e,n)||(it=!0),e):(Kn&42)===0?(it=!0,e.memoizedState=i):(e=Q0(),ge.lanes|=e,Jn|=e,n)}function Im(e,n,i,l,d){var f=I.p;I.p=f!==0&&8>f?f:8;var v=q.T,w={};q.T=w,Zc(e,!1,n,i);try{var _=d(),L=q.S;if(L!==null&&L(w,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var H=Tw(_,l);Ki(e,n,H,Bt(e))}else Ki(e,n,l,Bt(e))}catch(K){Ki(e,n,{then:function(){},status:"rejected",reason:K},Bt())}finally{I.p=f,q.T=v}}function Cw(){}function Qc(e,n,i,l){if(e.tag!==5)throw Error(r(476));var d=Qm(e).queue;Im(e,d,n,te,i===null?Cw:function(){return Wm(e),i(l)})}function Qm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:te},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Wm(e){var n=Qm(e).next.queue;Ki(e,n,{},Bt())}function Wc(){return yt(ur)}function Zm(){return We().memoizedState}function Jm(){return We().memoizedState}function Rw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Bt();e=Gn(i);var l=Yn(n,e,i);l!==null&&(Vt(l,n,i),Pi(l,n,i)),n={cache:Nc()},e.payload=n;return}n=n.return}}function Ow(e,n,i){var l=Bt();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},_l(e)?t0(n,i):(i=yc(e,n,i,l),i!==null&&(Vt(i,e,l),n0(i,n,l)))}function e0(e,n,i){var l=Bt();Ki(e,n,i,l)}function Ki(e,n,i,l){var d={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(_l(e))t0(n,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,w=f(v,i);if(d.hasEagerState=!0,d.eagerState=w,Rt(w,v))return ol(e,n,d,0),Ue===null&&ll(),!1}catch{}finally{}if(i=yc(e,n,d,l),i!==null)return Vt(i,e,l),n0(i,n,l),!0}return!1}function Zc(e,n,i,l){if(l={lane:2,revertLane:Du(),action:l,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(n)throw Error(r(479))}else n=yc(e,i,l,2),n!==null&&Vt(n,e,2)}function _l(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function t0(e,n){xs=vl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function n0(e,n,i){if((i&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,i|=l,n.lanes=i,uf(e,i)}}var Tl={readContext:yt,use:wl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},a0={readContext:yt,use:wl,useCallback:function(e,n){return Nt().memoizedState=[e,n===void 0?null:n],e},useContext:yt,useEffect:Pm,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,jl(4194308,4,Gm.bind(null,n,e),i)},useLayoutEffect:function(e,n){return jl(4194308,4,e,n)},useInsertionEffect:function(e,n){jl(4,2,e,n)},useMemo:function(e,n){var i=Nt();n=n===void 0?null:n;var l=e();if(Ma){Wt(!0);try{e()}finally{Wt(!1)}}return i.memoizedState=[l,n],l},useReducer:function(e,n,i){var l=Nt();if(i!==void 0){var d=i(n);if(Ma){Wt(!0);try{i(n)}finally{Wt(!1)}}}else d=n;return l.memoizedState=l.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},l.queue=e,e=e.dispatch=Ow.bind(null,ge,e),[l.memoizedState,e]},useRef:function(e){var n=Nt();return e={current:e},n.memoizedState=e},useState:function(e){e=Kc(e);var n=e.queue,i=e0.bind(null,ge,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Fc,useDeferredValue:function(e,n){var i=Nt();return Ic(i,e,n)},useTransition:function(){var e=Kc(!1);return e=Im.bind(null,ge,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var l=ge,d=Nt();if(Ne){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),Ue===null)throw Error(r(349));(_e&124)!==0||jm(l,n,i)}d.memoizedState=i;var f={value:i,getSnapshot:n};return d.queue=f,Pm(Tm.bind(null,l,f,e),[e]),l.flags|=2048,bs(9,kl(),_m.bind(null,l,f,i,n),null),i},useId:function(){var e=Nt(),n=Ue.identifierPrefix;if(Ne){var i=Sn,l=wn;i=(l&~(1<<32-gt(l)-1)).toString(32)+i,n=""+n+"R"+i,i=bl++,0<i&&(n+="H"+i.toString(32)),n+=""}else i=Nw++,n=""+n+"r"+i.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Wc,useFormState:Um,useActionState:Um,useOptimistic:function(e){var n=Nt();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Zc.bind(null,ge,!0,i),i.dispatch=n,[e,n]},useMemoCache:$c,useCacheRefresh:function(){return Nt().memoizedState=Rw.bind(null,ge)}},s0={readContext:yt,use:wl,useCallback:Km,useContext:yt,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:$m,useMemo:Xm,useReducer:Sl,useRef:zm,useState:function(){return Sl(_n)},useDebugValue:Fc,useDeferredValue:function(e,n){var i=We();return Fm(i,Ce.memoizedState,e,n)},useTransition:function(){var e=Sl(_n)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Gi(e),n]},useSyncExternalStore:km,useId:Zm,useHostTransitionStatus:Wc,useFormState:Lm,useActionState:Lm,useOptimistic:function(e,n){var i=We();return Am(i,Ce,e,n)},useMemoCache:$c,useCacheRefresh:Jm},Mw={readContext:yt,use:wl,useCallback:Km,useContext:yt,useEffect:qm,useImperativeHandle:Ym,useInsertionEffect:Hm,useLayoutEffect:$m,useMemo:Xm,useReducer:Yc,useRef:zm,useState:function(){return Yc(_n)},useDebugValue:Fc,useDeferredValue:function(e,n){var i=We();return Ce===null?Ic(i,e,n):Fm(i,Ce.memoizedState,e,n)},useTransition:function(){var e=Yc(_n)[0],n=We().memoizedState;return[typeof e=="boolean"?e:Gi(e),n]},useSyncExternalStore:km,useId:Zm,useHostTransitionStatus:Wc,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,n){var i=We();return Ce!==null?Am(i,Ce,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:$c,useCacheRefresh:Jm},ws=null,Xi=0;function Nl(e){var n=Xi;return Xi+=1,ws===null&&(ws=[]),gm(ws,e,n)}function Fi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function El(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function i0(e){var n=e._init;return n(e._payload)}function r0(e){function n(R,A){if(e){var U=R.deletions;U===null?(R.deletions=[A],R.flags|=16):U.push(A)}}function i(R,A){if(!e)return null;for(;A!==null;)n(R,A),A=A.sibling;return null}function l(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function d(R,A){return R=bn(R,A),R.index=0,R.sibling=null,R}function f(R,A,U){return R.index=U,e?(U=R.alternate,U!==null?(U=U.index,U<A?(R.flags|=67108866,A):U):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function v(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function w(R,A,U,G){return A===null||A.tag!==6?(A=vc(U,R.mode,G),A.return=R,A):(A=d(A,U),A.return=R,A)}function _(R,A,U,G){var ae=U.type;return ae===j?H(R,A,U.props.children,G,U.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&i0(ae)===A.type)?(A=d(A,U.props),Fi(A,U),A.return=R,A):(A=ul(U.type,U.key,U.props,null,R.mode,G),Fi(A,U),A.return=R,A)}function L(R,A,U,G){return A===null||A.tag!==4||A.stateNode.containerInfo!==U.containerInfo||A.stateNode.implementation!==U.implementation?(A=bc(U,R.mode,G),A.return=R,A):(A=d(A,U.children||[]),A.return=R,A)}function H(R,A,U,G,ae){return A===null||A.tag!==7?(A=Ta(U,R.mode,G,ae),A.return=R,A):(A=d(A,U),A.return=R,A)}function K(R,A,U){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=vc(""+A,R.mode,U),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return U=ul(A.type,A.key,A.props,null,R.mode,U),Fi(U,A),U.return=R,U;case S:return A=bc(A,R.mode,U),A.return=R,A;case F:var G=A._init;return A=G(A._payload),K(R,A,U)}if(we(A)||ke(A))return A=Ta(A,R.mode,U,null),A.return=R,A;if(typeof A.then=="function")return K(R,Nl(A),U);if(A.$$typeof===D)return K(R,ml(R,A),U);El(R,A)}return null}function V(R,A,U,G){var ae=A!==null?A.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:w(R,A,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===ae?_(R,A,U,G):null;case S:return U.key===ae?L(R,A,U,G):null;case F:return ae=U._init,U=ae(U._payload),V(R,A,U,G)}if(we(U)||ke(U))return ae!==null?null:H(R,A,U,G,null);if(typeof U.then=="function")return V(R,A,Nl(U),G);if(U.$$typeof===D)return V(R,A,ml(R,U),G);El(R,U)}return null}function z(R,A,U,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(U)||null,w(A,R,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return R=R.get(G.key===null?U:G.key)||null,_(A,R,G,ae);case S:return R=R.get(G.key===null?U:G.key)||null,L(A,R,G,ae);case F:var ye=G._init;return G=ye(G._payload),z(R,A,U,G,ae)}if(we(G)||ke(G))return R=R.get(U)||null,H(A,R,G,ae,null);if(typeof G.then=="function")return z(R,A,U,Nl(G),ae);if(G.$$typeof===D)return z(R,A,U,ml(A,G),ae);El(A,G)}return null}function ce(R,A,U,G){for(var ae=null,ye=null,se=A,le=A=0,lt=null;se!==null&&le<U.length;le++){se.index>le?(lt=se,se=null):lt=se.sibling;var Te=V(R,se,U[le],G);if(Te===null){se===null&&(se=lt);break}e&&se&&Te.alternate===null&&n(R,se),A=f(Te,A,le),ye===null?ae=Te:ye.sibling=Te,ye=Te,se=lt}if(le===U.length)return i(R,se),Ne&&Ea(R,le),ae;if(se===null){for(;le<U.length;le++)se=K(R,U[le],G),se!==null&&(A=f(se,A,le),ye===null?ae=se:ye.sibling=se,ye=se);return Ne&&Ea(R,le),ae}for(se=l(se);le<U.length;le++)lt=z(se,R,le,U[le],G),lt!==null&&(e&&lt.alternate!==null&&se.delete(lt.key===null?le:lt.key),A=f(lt,A,le),ye===null?ae=lt:ye.sibling=lt,ye=lt);return e&&se.forEach(function(oa){return n(R,oa)}),Ne&&Ea(R,le),ae}function re(R,A,U,G){if(U==null)throw Error(r(151));for(var ae=null,ye=null,se=A,le=A=0,lt=null,Te=U.next();se!==null&&!Te.done;le++,Te=U.next()){se.index>le?(lt=se,se=null):lt=se.sibling;var oa=V(R,se,Te.value,G);if(oa===null){se===null&&(se=lt);break}e&&se&&oa.alternate===null&&n(R,se),A=f(oa,A,le),ye===null?ae=oa:ye.sibling=oa,ye=oa,se=lt}if(Te.done)return i(R,se),Ne&&Ea(R,le),ae;if(se===null){for(;!Te.done;le++,Te=U.next())Te=K(R,Te.value,G),Te!==null&&(A=f(Te,A,le),ye===null?ae=Te:ye.sibling=Te,ye=Te);return Ne&&Ea(R,le),ae}for(se=l(se);!Te.done;le++,Te=U.next())Te=z(se,R,le,Te.value,G),Te!==null&&(e&&Te.alternate!==null&&se.delete(Te.key===null?le:Te.key),A=f(Te,A,le),ye===null?ae=Te:ye.sibling=Te,ye=Te);return e&&se.forEach(function(US){return n(R,US)}),Ne&&Ea(R,le),ae}function Oe(R,A,U,G){if(typeof U=="object"&&U!==null&&U.type===j&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var ae=U.key;A!==null;){if(A.key===ae){if(ae=U.type,ae===j){if(A.tag===7){i(R,A.sibling),G=d(A,U.props.children),G.return=R,R=G;break e}}else if(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===F&&i0(ae)===A.type){i(R,A.sibling),G=d(A,U.props),Fi(G,U),G.return=R,R=G;break e}i(R,A);break}else n(R,A);A=A.sibling}U.type===j?(G=Ta(U.props.children,R.mode,G,U.key),G.return=R,R=G):(G=ul(U.type,U.key,U.props,null,R.mode,G),Fi(G,U),G.return=R,R=G)}return v(R);case S:e:{for(ae=U.key;A!==null;){if(A.key===ae)if(A.tag===4&&A.stateNode.containerInfo===U.containerInfo&&A.stateNode.implementation===U.implementation){i(R,A.sibling),G=d(A,U.children||[]),G.return=R,R=G;break e}else{i(R,A);break}else n(R,A);A=A.sibling}G=bc(U,R.mode,G),G.return=R,R=G}return v(R);case F:return ae=U._init,U=ae(U._payload),Oe(R,A,U,G)}if(we(U))return ce(R,A,U,G);if(ke(U)){if(ae=ke(U),typeof ae!="function")throw Error(r(150));return U=ae.call(U),re(R,A,U,G)}if(typeof U.then=="function")return Oe(R,A,Nl(U),G);if(U.$$typeof===D)return Oe(R,A,ml(R,U),G);El(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,A!==null&&A.tag===6?(i(R,A.sibling),G=d(A,U),G.return=R,R=G):(i(R,A),G=vc(U,R.mode,G),G.return=R,R=G),v(R)):i(R,A)}return function(R,A,U,G){try{Xi=0;var ae=Oe(R,A,U,G);return ws=null,ae}catch(se){if(se===Vi||se===pl)throw se;var ye=Ot(29,se,null,R.mode);return ye.lanes=G,ye.return=R,ye}finally{}}}var Ss=r0(!0),l0=r0(!1),Yt=$(null),cn=null;function Xn(e){var n=e.alternate;X(tt,tt.current&1),X(Yt,e),cn===null&&(n===null||ys.current!==null||n.memoizedState!==null)&&(cn=e)}function o0(e){if(e.tag===22){if(X(tt,tt.current),X(Yt,e),cn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(cn=e)}}else Fn()}function Fn(){X(tt,tt.current),X(Yt,Yt.current)}function Tn(e){W(Yt),cn===e&&(cn=null),W(tt)}var tt=$(0);function Al(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Hu(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Jc(e,n,i,l){n=e.memoizedState,i=i(l,n),i=i==null?n:y({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eu={enqueueSetState:function(e,n,i){e=e._reactInternals;var l=Bt(),d=Gn(l);d.payload=n,i!=null&&(d.callback=i),n=Yn(e,d,l),n!==null&&(Vt(n,e,l),Pi(n,e,l))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var l=Bt(),d=Gn(l);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Yn(e,d,l),n!==null&&(Vt(n,e,l),Pi(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Bt(),l=Gn(i);l.tag=2,n!=null&&(l.callback=n),n=Yn(e,l,i),n!==null&&(Vt(n,e,i),Pi(n,e,i))}};function c0(e,n,i,l,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!Di(i,l)||!Di(d,f):!0}function u0(e,n,i,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==e&&eu.enqueueReplaceState(n,n.state,null)}function Ua(e,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(e=e.defaultProps){i===n&&(i=y({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var Dl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function d0(e){Dl(e)}function h0(e){console.error(e)}function f0(e){Dl(e)}function Cl(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function m0(e,n,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tu(e,n,i){return i=Gn(i),i.tag=3,i.payload={element:null},i.callback=function(){Cl(e,n)},i}function g0(e){return e=Gn(e),e.tag=3,e}function p0(e,n,i,l){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;e.payload=function(){return d(f)},e.callback=function(){m0(n,i,l)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){m0(n,i,l),typeof d!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Uw(e,n,i,l,d){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Ui(n,i,d,!0),i=Yt.current,i!==null){switch(i.tag){case 13:return cn===null?_u():i.alternate===null&&Ge===0&&(Ge=3),i.flags&=-257,i.flags|=65536,i.lanes=d,l===Dc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),Nu(e,l,d)),!1;case 22:return i.flags|=65536,l===Dc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),Nu(e,l,d)),!1}throw Error(r(435,i.tag))}return Nu(e,l,d),_u(),!1}if(Ne)return n=Yt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,l!==kc&&(e=Error(r(422),{cause:l}),Mi(qt(e,i)))):(l!==kc&&(n=Error(r(423),{cause:l}),Mi(qt(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,l=qt(l,i),d=tu(e.stateNode,l,d),Oc(e,d),Ge!==4&&(Ge=2)),!1;var f=Error(r(520),{cause:l});if(f=qt(f,i),tr===null?tr=[f]:tr.push(f),Ge!==4&&(Ge=2),n===null)return!0;l=qt(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=tu(i.stateNode,l,e),Oc(i,e),!1;case 1:if(n=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))))return i.flags|=65536,d&=-d,i.lanes|=d,d=g0(d),p0(d,e,i,l),Oc(i,d),!1}i=i.return}while(i!==null);return!1}var y0=Error(r(461)),it=!1;function dt(e,n,i,l){n.child=e===null?l0(n,null,i,l):Ss(n,e.child,i,l)}function x0(e,n,i,l,d){i=i.render;var f=n.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return Ra(n),l=Vc(e,n,i,v,f,d),w=zc(),e!==null&&!it?(Pc(e,n,d),Nn(e,n,d)):(Ne&&w&&wc(n),n.flags|=1,dt(e,n,l,d),n.child)}function v0(e,n,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!xc(f)&&f.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=f,b0(e,n,f,l,d)):(e=ul(i.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!cu(e,d)){var v=f.memoizedProps;if(i=i.compare,i=i!==null?i:Di,i(v,l)&&e.ref===n.ref)return Nn(e,n,d)}return n.flags|=1,e=bn(f,l),e.ref=n.ref,e.return=n,n.child=e}function b0(e,n,i,l,d){if(e!==null){var f=e.memoizedProps;if(Di(f,l)&&e.ref===n.ref)if(it=!1,n.pendingProps=l=f,cu(e,d))(e.flags&131072)!==0&&(it=!0);else return n.lanes=e.lanes,Nn(e,n,d)}return nu(e,n,i,l,d)}function w0(e,n,i){var l=n.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|i:i,e!==null){for(d=n.child=e.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return S0(e,n,l,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(n,f!==null?f.cachePool:null),f!==null?bm(n,f):Uc(),o0(n);else return n.lanes=n.childLanes=536870912,S0(e,n,f!==null?f.baseLanes|i:i,i)}else f!==null?(gl(n,f.cachePool),bm(n,f),Fn(),n.memoizedState=null):(e!==null&&gl(n,null),Uc(),Fn());return dt(e,n,d,i),n.child}function S0(e,n,i,l){var d=Ac();return d=d===null?null:{parent:et._currentValue,pool:d},n.memoizedState={baseLanes:i,cachePool:d},e!==null&&gl(n,null),Uc(),o0(n),e!==null&&Ui(e,n,l,!0),null}function Rl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function nu(e,n,i,l,d){return Ra(n),i=Vc(e,n,i,l,void 0,d),l=zc(),e!==null&&!it?(Pc(e,n,d),Nn(e,n,d)):(Ne&&l&&wc(n),n.flags|=1,dt(e,n,i,d),n.child)}function k0(e,n,i,l,d,f){return Ra(n),n.updateQueue=null,i=Sm(n,l,i,d),wm(e),l=zc(),e!==null&&!it?(Pc(e,n,f),Nn(e,n,f)):(Ne&&l&&wc(n),n.flags|=1,dt(e,n,i,f),n.child)}function j0(e,n,i,l,d){if(Ra(n),n.stateNode===null){var f=hs,v=i.contextType;typeof v=="object"&&v!==null&&(f=yt(v)),f=new i(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eu,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Cc(n),v=i.contextType,f.context=typeof v=="object"&&v!==null?yt(v):hs,f.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Jc(n,i,v,l),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&eu.enqueueReplaceState(f,f.state,null),Hi(n,l,f,d),qi(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var w=n.memoizedProps,_=Ua(i,w);f.props=_;var L=f.context,H=i.contextType;v=hs,typeof H=="object"&&H!==null&&(v=yt(H));var K=i.getDerivedStateFromProps;H=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||L!==v)&&u0(n,f,l,v),$n=!1;var V=n.memoizedState;f.state=V,Hi(n,l,f,d),qi(),L=n.memoizedState,w||V!==L||$n?(typeof K=="function"&&(Jc(n,i,K,l),L=n.memoizedState),(_=$n||c0(n,i,_,l,V,L,v))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=v,l=_):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Rc(e,n),v=n.memoizedProps,H=Ua(i,v),f.props=H,K=n.pendingProps,V=f.context,L=i.contextType,_=hs,typeof L=="object"&&L!==null&&(_=yt(L)),w=i.getDerivedStateFromProps,(L=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||V!==_)&&u0(n,f,l,_),$n=!1,V=n.memoizedState,f.state=V,Hi(n,l,f,d),qi();var z=n.memoizedState;v!==K||V!==z||$n||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof w=="function"&&(Jc(n,i,w,l),z=n.memoizedState),(H=$n||c0(n,i,H,l,V,z,_)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,z,_),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,z,_)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=_,l=H):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Rl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ss(n,e.child,null,d),n.child=Ss(n,null,i,d)):dt(e,n,i,d),n.memoizedState=f.state,e=n.child):e=Nn(e,n,d),e}function _0(e,n,i,l){return Oi(),n.flags|=256,dt(e,n,i,l),n.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:hm()}}function iu(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Kt),e}function T0(e,n,i){var l=n.pendingProps,d=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ne){if(d?Xn(n):Fn(),Ne){var w=$e,_;if(_=w){e:{for(_=w,w=on;_.nodeType!==8;){if(!w){w=null;break e}if(_=en(_.nextSibling),_===null){w=null;break e}}w=_}w!==null?(n.memoizedState={dehydrated:w,treeContext:Na!==null?{id:wn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},_=Ot(18,null,null,0),_.stateNode=w,_.return=n,n.child=_,wt=n,$e=null,_=!0):_=!1}_||Da(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Hu(w)?n.lanes=32:n.lanes=536870912,null;Tn(n)}return w=l.children,l=l.fallback,d?(Fn(),d=n.mode,w=Ol({mode:"hidden",children:w},d),l=Ta(l,d,i,null),w.return=n,l.return=n,w.sibling=l,n.child=w,d=n.child,d.memoizedState=su(i),d.childLanes=iu(e,v,i),n.memoizedState=au,l):(Xn(n),ru(n,w))}if(_=e.memoizedState,_!==null&&(w=_.dehydrated,w!==null)){if(f)n.flags&256?(Xn(n),n.flags&=-257,n=lu(e,n,i)):n.memoizedState!==null?(Fn(),n.child=e.child,n.flags|=128,n=null):(Fn(),d=l.fallback,w=n.mode,l=Ol({mode:"visible",children:l.children},w),d=Ta(d,w,i,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,Ss(n,e.child,null,i),l=n.child,l.memoizedState=su(i),l.childLanes=iu(e,v,i),n.memoizedState=au,n=d);else if(Xn(n),Hu(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(r(419)),l.stack="",l.digest=v,Mi({value:l,source:null,stack:null}),n=lu(e,n,i)}else if(it||Ui(e,n,i,!1),v=(i&e.childLanes)!==0,it||v){if(v=Ue,v!==null&&(l=i&-i,l=(l&42)!==0?1:$o(l),l=(l&(v.suspendedLanes|i))!==0?0:l,l!==0&&l!==_.retryLane))throw _.retryLane=l,ds(e,l),Vt(v,e,l),y0;w.data==="$?"||_u(),n=lu(e,n,i)}else w.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,$e=en(w.nextSibling),wt=n,Ne=!0,Aa=null,on=!1,e!==null&&($t[Gt++]=wn,$t[Gt++]=Sn,$t[Gt++]=Na,wn=e.id,Sn=e.overflow,Na=n),n=ru(n,l.children),n.flags|=4096);return n}return d?(Fn(),d=l.fallback,w=n.mode,_=e.child,L=_.sibling,l=bn(_,{mode:"hidden",children:l.children}),l.subtreeFlags=_.subtreeFlags&65011712,L!==null?d=bn(L,d):(d=Ta(d,w,i,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,w=e.child.memoizedState,w===null?w=su(i):(_=w.cachePool,_!==null?(L=et._currentValue,_=_.parent!==L?{parent:L,pool:L}:_):_=hm(),w={baseLanes:w.baseLanes|i,cachePool:_}),d.memoizedState=w,d.childLanes=iu(e,v,i),n.memoizedState=au,l):(Xn(n),i=e.child,e=i.sibling,i=bn(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function ru(e,n){return n=Ol({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ol(e,n){return e=Ot(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function lu(e,n,i){return Ss(n,e.child,null,i),e=ru(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function N0(e,n,i){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),_c(e.return,n,i)}function ou(e,n,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function E0(e,n,i){var l=n.pendingProps,d=l.revealOrder,f=l.tail;if(dt(e,n,l.children,i),l=tt.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&N0(e,i,n);else if(e.tag===19)N0(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(X(tt,l),d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Al(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),ou(n,!1,d,i,f);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Al(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}ou(n,!0,i,null,f);break;case"together":ou(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nn(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Jn|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Ui(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=bn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=bn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function cu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function Lw(e,n,i){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Hn(n,et,e.memoizedState.cache),Oi();break;case 27:case 5:xa(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Hn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Xn(n),n.flags|=128,null):(i&n.child.childLanes)!==0?T0(e,n,i):(Xn(n),e=Nn(e,n,i),e!==null?e.sibling:null);Xn(n);break;case 19:var d=(e.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Ui(e,n,i,!1),l=(i&n.childLanes)!==0),d){if(l)return E0(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(tt,tt.current),l)break;return null;case 22:case 23:return n.lanes=0,w0(e,n,i);case 24:Hn(n,et,e.memoizedState.cache)}return Nn(e,n,i)}function A0(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)it=!0;else{if(!cu(e,i)&&(n.flags&128)===0)return it=!1,Lw(e,n,i);it=(e.flags&131072)!==0}else it=!1,Ne&&(n.flags&1048576)!==0&&im(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,d=l._init;if(l=d(l._payload),n.type=l,typeof l=="function")xc(l)?(e=Ua(l,e),n.tag=1,n=j0(null,n,l,e,i)):(n.tag=0,n=nu(null,n,l,e,i));else{if(l!=null){if(d=l.$$typeof,d===Y){n.tag=11,n=x0(null,n,l,e,i);break e}else if(d===P){n.tag=14,n=v0(null,n,l,e,i);break e}}throw n=je(l)||l,Error(r(306,n,""))}}return n;case 0:return nu(e,n,n.type,n.pendingProps,i);case 1:return l=n.type,d=Ua(l,n.pendingProps),j0(e,n,l,d,i);case 3:e:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;d=f.element,Rc(e,n),Hi(n,l,null,i);var v=n.memoizedState;if(l=v.cache,Hn(n,et,l),l!==f.cache&&Tc(n,[et],i,!0),qi(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=_0(e,n,l,i);break e}else if(l!==d){d=qt(Error(r(424)),n),Mi(d),n=_0(e,n,l,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=en(e.firstChild),wt=n,Ne=!0,Aa=null,on=!0,i=l0(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Oi(),l===d){n=Nn(e,n,i);break e}dt(e,n,l,i)}n=n.child}return n;case 26:return Rl(e,n),e===null?(i=Og(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ne||(i=n.type,e=n.pendingProps,l=Xl(oe.current).createElement(i),l[pt]=n,l[_t]=e,ft(l,i,e),st(l),n.stateNode=l):n.memoizedState=Og(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return xa(n),e===null&&Ne&&(l=n.stateNode=Dg(n.type,n.pendingProps,oe.current),wt=n,on=!0,d=$e,aa(n.type)?($u=d,$e=en(l.firstChild)):$e=d),dt(e,n,n.pendingProps.children,i),Rl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ne&&((d=l=$e)&&(l=uS(l,n.type,n.pendingProps,on),l!==null?(n.stateNode=l,wt=n,$e=en(l.firstChild),on=!1,d=!0):d=!1),d||Da(n)),xa(n),d=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,zu(d,f)?l=null:v!==null&&zu(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=Vc(e,n,Ew,null,null,i),ur._currentValue=d),Rl(e,n),dt(e,n,l,i),n.child;case 6:return e===null&&Ne&&((e=i=$e)&&(i=dS(i,n.pendingProps,on),i!==null?(n.stateNode=i,wt=n,$e=null,e=!0):e=!1),e||Da(n)),null;case 13:return T0(e,n,i);case 4:return De(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ss(n,null,l,i):dt(e,n,l,i),n.child;case 11:return x0(e,n,n.type,n.pendingProps,i);case 7:return dt(e,n,n.pendingProps,i),n.child;case 8:return dt(e,n,n.pendingProps.children,i),n.child;case 12:return dt(e,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Hn(n,n.type,l.value),dt(e,n,l.children,i),n.child;case 9:return d=n.type._context,l=n.pendingProps.children,Ra(n),d=yt(d),l=l(d),n.flags|=1,dt(e,n,l,i),n.child;case 14:return v0(e,n,n.type,n.pendingProps,i);case 15:return b0(e,n,n.type,n.pendingProps,i);case 19:return E0(e,n,i);case 31:return l=n.pendingProps,i=n.mode,l={mode:l.mode,children:l.children},e===null?(i=Ol(l,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=bn(e.child,l),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return w0(e,n,i);case 24:return Ra(n),l=yt(et),e===null?(d=Ac(),d===null&&(d=Ue,f=Nc(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=i),d=f),n.memoizedState={parent:l,cache:d},Cc(n),Hn(n,et,d)):((e.lanes&i)!==0&&(Rc(e,n),Hi(n,null,null,i),qi()),d=e.memoizedState,f=n.memoizedState,d.parent!==l?(d={parent:l,cache:l},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Hn(n,et,l)):(l=f.cache,Hn(n,et,l),l!==d.cache&&Tc(n,[et],i,!0))),dt(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function En(e){e.flags|=4}function D0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vg(n)){if(n=Yt.current,n!==null&&((_e&4194048)===_e?cn!==null:(_e&62914560)!==_e&&(_e&536870912)===0||n!==cn))throw zi=Dc,fm;e.flags|=8192}}function Ml(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?of():536870912,e.lanes|=n,Ts|=n)}function Ii(e,n){if(!Ne)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function qe(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,n}function Bw(e,n,i){var l=n.pendingProps;switch(Sc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return i=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),jn(et),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ri(n)?En(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),qe(n),null;case 26:return i=n.memoizedState,e===null?(En(n),i!==null?(qe(n),D0(n,i)):(qe(n),n.flags&=-16777217)):i?i!==e.memoizedState?(En(n),qe(n),D0(n,i)):(qe(n),n.flags&=-16777217):(e.memoizedProps!==l&&En(n),qe(n),n.flags&=-16777217),null;case 27:zn(n),i=oe.current;var d=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return qe(n),null}e=ne.current,Ri(n)?rm(n):(e=Dg(d,l,i),n.stateNode=e,En(n))}return qe(n),null;case 5:if(zn(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return qe(n),null}if(e=ne.current,Ri(n))rm(n);else{switch(d=Xl(oe.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?d.createElement(i,{is:l.is}):d.createElement(i)}}e[pt]=n,e[_t]=l;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=e;e:switch(ft(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&En(n)}}return qe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&En(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=oe.current,Ri(n)){if(e=n.stateNode,i=n.memoizedProps,l=null,d=wt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}e[pt]=n,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||kg(e.nodeValue,i)),e||Da(n)}else e=Xl(e).createTextNode(l),e[pt]=n,n.stateNode=e}return qe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ri(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[pt]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),d=!1}else d=om(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Tn(n),n):(Tn(n),null)}if(Tn(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=n.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),Ml(n,n.updateQueue),qe(n),null;case 4:return Je(),e===null&&Mu(n.stateNode.containerInfo),qe(n),null;case 10:return jn(n.type),qe(n),null;case 19:if(W(tt),d=n.memoizedState,d===null)return qe(n),null;if(l=(n.flags&128)!==0,f=d.rendering,f===null)if(l)Ii(d,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Al(e),f!==null){for(n.flags|=128,Ii(d,!1),e=f.updateQueue,n.updateQueue=e,Ml(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)sm(i,e),i=i.sibling;return X(tt,tt.current&1|2),n.child}e=e.sibling}d.tail!==null&&jt()>Bl&&(n.flags|=128,l=!0,Ii(d,!1),n.lanes=4194304)}else{if(!l)if(e=Al(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Ml(n,e),Ii(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ne)return qe(n),null}else 2*jt()-d.renderingStartTime>Bl&&i!==536870912&&(n.flags|=128,l=!0,Ii(d,!1),n.lanes=4194304);d.isBackwards?(f.sibling=n.child,n.child=f):(e=d.last,e!==null?e.sibling=f:n.child=f,d.last=f)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=jt(),n.sibling=null,e=tt.current,X(tt,l?e&1|2:e&1),n):(qe(n),null);case 22:case 23:return Tn(n),Lc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),i=n.updateQueue,i!==null&&Ml(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),e!==null&&W(Oa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),jn(et),qe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Vw(e,n){switch(Sc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return jn(et),Je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return zn(n),null;case 13:if(Tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(tt),null;case 4:return Je(),null;case 10:return jn(n.type),null;case 22:case 23:return Tn(n),Lc(),e!==null&&W(Oa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return jn(et),null;case 25:return null;default:return null}}function C0(e,n){switch(Sc(n),n.tag){case 3:jn(et),Je();break;case 26:case 27:case 5:zn(n);break;case 4:Je();break;case 13:Tn(n);break;case 19:W(tt);break;case 10:jn(n.type);break;case 22:case 23:Tn(n),Lc(),e!==null&&W(Oa);break;case 24:jn(et)}}function Qi(e,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var d=l.next;i=d;do{if((i.tag&e)===e){l=void 0;var f=i.create,v=i.inst;l=f(),v.destroy=l}i=i.next}while(i!==d)}}catch(w){Me(n,n.return,w)}}function In(e,n,i){try{var l=n.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&e)===e){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=n;var _=i,L=w;try{L()}catch(H){Me(d,_,H)}}}l=l.next}while(l!==f)}}catch(H){Me(n,n.return,H)}}function R0(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{vm(n,i)}catch(l){Me(e,e.return,l)}}}function O0(e,n,i){i.props=Ua(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Me(e,n,l)}}function Wi(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(d){Me(e,n,d)}}function un(e,n){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(d){Me(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Me(e,n,d)}else i.current=null}function M0(e){var n=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(d){Me(e,e.return,d)}}function uu(e,n,i){try{var l=e.stateNode;iS(l,e.type,i,n),l[_t]=n}catch(d){Me(e,e.return,d)}}function U0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||U0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hu(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Kl));else if(l!==4&&(l===27&&aa(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(hu(e,n,i),e=e.sibling;e!==null;)hu(e,n,i),e=e.sibling}function Ul(e,n,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(l!==4&&(l===27&&aa(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ul(e,n,i),e=e.sibling;e!==null;)Ul(e,n,i),e=e.sibling}function L0(e){var n=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ft(n,l,i),n[pt]=e,n[_t]=i}catch(f){Me(e,e.return,f)}}var An=!1,Xe=!1,fu=!1,B0=typeof WeakSet=="function"?WeakSet:Set,rt=null;function zw(e,n){if(e=e.containerInfo,Bu=Jl,e=Ff(e),dc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var v=0,w=-1,_=-1,L=0,H=0,K=e,V=null;t:for(;;){for(var z;K!==i||d!==0&&K.nodeType!==3||(w=v+d),K!==f||l!==0&&K.nodeType!==3||(_=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(z=K.firstChild)!==null;)V=K,K=z;for(;;){if(K===e)break t;if(V===i&&++L===d&&(w=v),V===f&&++H===l&&(_=v),(z=K.nextSibling)!==null)break;K=V,V=K.parentNode}K=z}i=w===-1||_===-1?null:{start:w,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Vu={focusedElem:e,selectionRange:i},Jl=!1,rt=n;rt!==null;)if(n=rt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,rt=e;else for(;rt!==null;){switch(n=rt,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=n,d=f.memoizedProps,f=f.memoizedState,l=i.stateNode;try{var ce=Ua(i.type,d,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(re){Me(i,i.return,re)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,rt=e;break}rt=n.return}}function V0(e,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Qn(e,i),l&4&&Qi(5,i);break;case 1:if(Qn(e,i),l&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){Me(i,i.return,v)}else{var d=Ua(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Me(i,i.return,v)}}l&64&&R0(i),l&512&&Wi(i,i.return);break;case 3:if(Qn(e,i),l&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{vm(e,n)}catch(v){Me(i,i.return,v)}}break;case 27:n===null&&l&4&&L0(i);case 26:case 5:Qn(e,i),n===null&&l&4&&M0(i),l&512&&Wi(i,i.return);break;case 12:Qn(e,i);break;case 13:Qn(e,i),l&4&&q0(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Fw.bind(null,i),hS(e,i))));break;case 22:if(l=i.memoizedState!==null||An,!l){n=n!==null&&n.memoizedState!==null||Xe,d=An;var f=Xe;An=l,(Xe=n)&&!f?Wn(e,i,(i.subtreeFlags&8772)!==0):Qn(e,i),An=d,Xe=f}break;case 30:break;default:Qn(e,i)}}function z0(e){var n=e.alternate;n!==null&&(e.alternate=null,z0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ko(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Et=!1;function Dn(e,n,i){for(i=i.child;i!==null;)P0(e,n,i),i=i.sibling}function P0(e,n,i){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(bt,i)}catch{}switch(i.tag){case 26:Xe||un(i,n),Dn(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Xe||un(i,n);var l=Ve,d=Et;aa(i.type)&&(Ve=i.stateNode,Et=!1),Dn(e,n,i),rr(i.stateNode),Ve=l,Et=d;break;case 5:Xe||un(i,n);case 6:if(l=Ve,d=Et,Ve=null,Dn(e,n,i),Ve=l,Et=d,Ve!==null)if(Et)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(i.stateNode)}catch(f){Me(i,n,f)}else try{Ve.removeChild(i.stateNode)}catch(f){Me(i,n,f)}break;case 18:Ve!==null&&(Et?(e=Ve,Eg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),mr(e)):Eg(Ve,i.stateNode));break;case 4:l=Ve,d=Et,Ve=i.stateNode.containerInfo,Et=!0,Dn(e,n,i),Ve=l,Et=d;break;case 0:case 11:case 14:case 15:Xe||In(2,i,n),Xe||In(4,i,n),Dn(e,n,i);break;case 1:Xe||(un(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&O0(i,n,l)),Dn(e,n,i);break;case 21:Dn(e,n,i);break;case 22:Xe=(l=Xe)||i.memoizedState!==null,Dn(e,n,i),Xe=l;break;default:Dn(e,n,i)}}function q0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mr(e)}catch(i){Me(n,n.return,i)}}function Pw(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new B0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new B0),n;default:throw Error(r(435,e.tag))}}function mu(e,n){var i=Pw(e);n.forEach(function(l){var d=Iw.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}function Mt(e,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l],f=e,v=n,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(aa(w.type)){Ve=w.stateNode,Et=!1;break e}break;case 5:Ve=w.stateNode,Et=!1;break e;case 3:case 4:Ve=w.stateNode.containerInfo,Et=!0;break e}w=w.return}if(Ve===null)throw Error(r(160));P0(f,v,d),Ve=null,Et=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)H0(n,e),n=n.sibling}var Jt=null;function H0(e,n){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(n,e),Ut(e),l&4&&(In(3,e,e.return),Qi(3,e),In(5,e,e.return));break;case 1:Mt(n,e),Ut(e),l&512&&(Xe||i===null||un(i,i.return)),l&64&&An&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var d=Jt;if(Mt(n,e),Ut(e),l&512&&(Xe||i===null||un(i,i.return)),l&4){var f=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[wi]||f[pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),ft(f,l,i),f[pt]=e,st(f),l=f;break e;case"link":var v=Lg("link","href",d).get(l+(i.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(w,1);break t}}f=d.createElement(l),ft(f,l,i),d.head.appendChild(f);break;case"meta":if(v=Lg("meta","content",d).get(l+(i.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(w,1);break t}}f=d.createElement(l),ft(f,l,i),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[pt]=e,st(f),l=f}e.stateNode=l}else Bg(d,e.type,e.stateNode);else e.stateNode=Ug(d,l,e.memoizedProps);else f!==l?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,l===null?Bg(d,e.type,e.stateNode):Ug(d,l,e.memoizedProps)):l===null&&e.stateNode!==null&&uu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Mt(n,e),Ut(e),l&512&&(Xe||i===null||un(i,i.return)),i!==null&&l&4&&uu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Mt(n,e),Ut(e),l&512&&(Xe||i===null||un(i,i.return)),e.flags&32){d=e.stateNode;try{ss(d,"")}catch(z){Me(e,e.return,z)}}l&4&&e.stateNode!=null&&(d=e.memoizedProps,uu(e,d,i!==null?i.memoizedProps:d)),l&1024&&(fu=!0);break;case 6:if(Mt(n,e),Ut(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(z){Me(e,e.return,z)}}break;case 3:if(Ql=null,d=Jt,Jt=Fl(n.containerInfo),Mt(n,e),Jt=d,Ut(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{mr(n.containerInfo)}catch(z){Me(e,e.return,z)}fu&&(fu=!1,$0(e));break;case 4:l=Jt,Jt=Fl(e.stateNode.containerInfo),Mt(n,e),Ut(e),Jt=l;break;case 12:Mt(n,e),Ut(e);break;case 13:Mt(n,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(bu=jt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mu(e,l)));break;case 22:d=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,L=An,H=Xe;if(An=L||d,Xe=H||_,Mt(n,e),Xe=H,An=L,Ut(e),l&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||_||An||Xe||La(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){_=i=n;try{if(f=_.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=_.stateNode;var K=_.memoizedProps.style,V=K!=null&&K.hasOwnProperty("display")?K.display:null;w.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(z){Me(_,_.return,z)}}}else if(n.tag===6){if(i===null){_=n;try{_.stateNode.nodeValue=d?"":_.memoizedProps}catch(z){Me(_,_.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,mu(e,i))));break;case 19:Mt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mu(e,l)));break;case 30:break;case 21:break;default:Mt(n,e),Ut(e)}}function Ut(e){var n=e.flags;if(n&2){try{for(var i,l=e.return;l!==null;){if(U0(l)){i=l;break}l=l.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var d=i.stateNode,f=du(e);Ul(e,f,d);break;case 5:var v=i.stateNode;i.flags&32&&(ss(v,""),i.flags&=-33);var w=du(e);Ul(e,w,v);break;case 3:case 4:var _=i.stateNode.containerInfo,L=du(e);hu(e,L,_);break;default:throw Error(r(161))}}catch(H){Me(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)V0(e,n.alternate,n),n=n.sibling}function La(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),La(n);break;case 1:un(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&O0(n,n.return,i),La(n);break;case 27:rr(n.stateNode);case 26:case 5:un(n,n.return),La(n);break;case 22:n.memoizedState===null&&La(n);break;case 30:La(n);break;default:La(n)}e=e.sibling}}function Wn(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,d=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Wn(d,f,i),Qi(4,f);break;case 1:if(Wn(d,f,i),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(L){Me(l,l.return,L)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var _=d.shared.hiddenCallbacks;if(_!==null)for(d.shared.hiddenCallbacks=null,d=0;d<_.length;d++)xm(_[d],w)}catch(L){Me(l,l.return,L)}}i&&v&64&&R0(f),Wi(f,f.return);break;case 27:L0(f);case 26:case 5:Wn(d,f,i),i&&l===null&&v&4&&M0(f),Wi(f,f.return);break;case 12:Wn(d,f,i);break;case 13:Wn(d,f,i),i&&v&4&&q0(d,f);break;case 22:f.memoizedState===null&&Wn(d,f,i),Wi(f,f.return);break;case 30:break;default:Wn(d,f,i)}n=n.sibling}}function gu(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Li(i))}function pu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Li(e))}function dn(e,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)G0(e,n,i,l),n=n.sibling}function G0(e,n,i,l){var d=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n,i,l),d&2048&&Qi(9,n);break;case 1:dn(e,n,i,l);break;case 3:dn(e,n,i,l),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Li(e)));break;case 12:if(d&2048){dn(e,n,i,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Me(n,n.return,_)}}else dn(e,n,i,l);break;case 13:dn(e,n,i,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?dn(e,n,i,l):Zi(e,n):f._visibility&2?dn(e,n,i,l):(f._visibility|=2,ks(e,n,i,l,(n.subtreeFlags&10256)!==0)),d&2048&&gu(v,n);break;case 24:dn(e,n,i,l),d&2048&&pu(n.alternate,n);break;default:dn(e,n,i,l)}}function ks(e,n,i,l,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,w=i,_=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:ks(f,v,w,_,d),Qi(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?ks(f,v,w,_,d):Zi(f,v):(H._visibility|=2,ks(f,v,w,_,d)),d&&L&2048&&gu(v.alternate,v);break;case 24:ks(f,v,w,_,d),d&&L&2048&&pu(v.alternate,v);break;default:ks(f,v,w,_,d)}n=n.sibling}}function Zi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,l=n,d=l.flags;switch(l.tag){case 22:Zi(i,l),d&2048&&gu(l.alternate,l);break;case 24:Zi(i,l),d&2048&&pu(l.alternate,l);break;default:Zi(i,l)}n=n.sibling}}var Ji=8192;function js(e){if(e.subtreeFlags&Ji)for(e=e.child;e!==null;)Y0(e),e=e.sibling}function Y0(e){switch(e.tag){case 26:js(e),e.flags&Ji&&e.memoizedState!==null&&_S(Jt,e.memoizedState,e.memoizedProps);break;case 5:js(e);break;case 3:case 4:var n=Jt;Jt=Fl(e.stateNode.containerInfo),js(e),Jt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ji,Ji=16777216,js(e),Ji=n):js(e));break;default:js(e)}}function K0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function er(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];rt=l,F0(l,e)}K0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)X0(e),e=e.sibling}function X0(e){switch(e.tag){case 0:case 11:case 15:er(e),e.flags&2048&&In(9,e,e.return);break;case 3:er(e);break;case 12:er(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ll(e)):er(e);break;default:er(e)}}function Ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];rt=l,F0(l,e)}K0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:In(8,n,n.return),Ll(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Ll(n));break;default:Ll(n)}e=e.sibling}}function F0(e,n){for(;rt!==null;){var i=rt;switch(i.tag){case 0:case 11:case 15:In(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Li(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,rt=l;else e:for(i=e;rt!==null;){l=rt;var d=l.sibling,f=l.return;if(z0(l),l===i){rt=null;break e}if(d!==null){d.return=f,rt=d;break e}rt=f}}}var qw={getCacheForType:function(e){var n=yt(et),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},Hw=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ue=null,xe=null,_e=0,Ae=0,Lt=null,Zn=!1,_s=!1,yu=!1,Cn=0,Ge=0,Jn=0,Ba=0,xu=0,Kt=0,Ts=0,tr=null,At=null,vu=!1,bu=0,Bl=1/0,Vl=null,ea=null,ht=0,ta=null,Ns=null,Es=0,wu=0,Su=null,I0=null,nr=0,ku=null;function Bt(){if((Ee&2)!==0&&_e!==0)return _e&-_e;if(q.T!==null){var e=gs;return e!==0?e:Du()}return df()}function Q0(){Kt===0&&(Kt=(_e&536870912)===0||Ne?lf():536870912);var e=Yt.current;return e!==null&&(e.flags|=32),Kt}function Vt(e,n,i){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(As(e,0),na(e,_e,Kt,!1)),bi(e,i),((Ee&2)===0||e!==Ue)&&(e===Ue&&((Ee&2)===0&&(Ba|=i),Ge===4&&na(e,_e,Kt,!1)),hn(e))}function W0(e,n,i){if((Ee&6)!==0)throw Error(r(327));var l=!i&&(n&124)===0&&(n&e.expiredLanes)===0||vi(e,n),d=l?Yw(e,n):Tu(e,n,!0),f=l;do{if(d===0){_s&&!l&&na(e,n,0,!1);break}else{if(i=e.current.alternate,f&&!$w(i)){d=Tu(e,n,!1),f=!1;continue}if(d===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var w=e;d=tr;var _=w.current.memoizedState.isDehydrated;if(_&&(As(w,v).flags|=256),v=Tu(w,v,!1),v!==2){if(yu&&!_){w.errorRecoveryDisabledLanes|=f,Ba|=f,d=4;break e}f=At,At=d,f!==null&&(At===null?At=f:At.push.apply(At,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){As(e,0),na(e,n,0,!0);break}e:{switch(l=e,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:na(l,n,Kt,!Zn);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=bu+300-jt(),10<d)){if(na(l,n,Kt,!Zn),Ir(l,0,!0)!==0)break e;l.timeoutHandle=Tg(Z0.bind(null,l,i,At,Vl,vu,n,Kt,Ba,Ts,Zn,f,2,-0,0),d);break e}Z0(l,i,At,Vl,vu,n,Kt,Ba,Ts,Zn,f,0,-0,0)}}break}while(!0);hn(e)}function Z0(e,n,i,l,d,f,v,w,_,L,H,K,V,z){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(cr={stylesheets:null,count:0,unsuspend:jS},Y0(n),K=TS(),K!==null)){e.cancelPendingCommit=K(ig.bind(null,e,n,f,i,l,d,v,w,_,H,1,V,z)),na(e,f,v,!L);return}ig(e,n,f,i,l,d,v,w,_)}function $w(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!Rt(f(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function na(e,n,i,l){n&=~xu,n&=~Ba,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var d=n;0<d;){var f=31-gt(d),v=1<<f;l[f]=-1,d&=~v}i!==0&&cf(e,i,n)}function zl(){return(Ee&6)===0?(ar(0),!1):!0}function ju(){if(xe!==null){if(Ae===0)var e=xe.return;else e=xe,kn=Ca=null,qc(e),ws=null,Xi=0,e=xe;for(;e!==null;)C0(e.alternate,e),e=e.return;xe=null}}function As(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,lS(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ju(),Ue=e,xe=i=bn(e.current,null),_e=n,Ae=0,Lt=null,Zn=!1,_s=vi(e,n),yu=!1,Ts=Kt=xu=Ba=Jn=Ge=0,At=tr=null,vu=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var d=31-gt(l),f=1<<d;n|=e[d],l&=~f}return Cn=n,ll(),i}function J0(e,n){ge=null,q.H=Tl,n===Vi||n===pl?(n=pm(),Ae=3):n===fm?(n=pm(),Ae=4):Ae=n===y0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,xe===null&&(Ge=1,Cl(e,qt(n,e.current)))}function eg(){var e=q.H;return q.H=Tl,e===null?Tl:e}function tg(){var e=q.A;return q.A=qw,e}function _u(){Ge=4,Zn||(_e&4194048)!==_e&&Yt.current!==null||(_s=!0),(Jn&134217727)===0&&(Ba&134217727)===0||Ue===null||na(Ue,_e,Kt,!1)}function Tu(e,n,i){var l=Ee;Ee|=2;var d=eg(),f=tg();(Ue!==e||_e!==n)&&(Vl=null,As(e,n)),n=!1;var v=Ge;e:do try{if(Ae!==0&&xe!==null){var w=xe,_=Lt;switch(Ae){case 8:ju(),v=6;break e;case 3:case 2:case 9:case 6:Yt.current===null&&(n=!0);var L=Ae;if(Ae=0,Lt=null,Ds(e,w,_,L),i&&_s){v=0;break e}break;default:L=Ae,Ae=0,Lt=null,Ds(e,w,_,L)}}Gw(),v=Ge;break}catch(H){J0(e,H)}while(!0);return n&&e.shellSuspendCounter++,kn=Ca=null,Ee=l,q.H=d,q.A=f,xe===null&&(Ue=null,_e=0,ll()),v}function Gw(){for(;xe!==null;)ng(xe)}function Yw(e,n){var i=Ee;Ee|=2;var l=eg(),d=tg();Ue!==e||_e!==n?(Vl=null,Bl=jt()+500,As(e,n)):_s=vi(e,n);e:do try{if(Ae!==0&&xe!==null){n=xe;var f=Lt;t:switch(Ae){case 1:Ae=0,Lt=null,Ds(e,n,f,1);break;case 2:case 9:if(mm(f)){Ae=0,Lt=null,ag(n);break}n=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),hn(e)},f.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:mm(f)?(Ae=0,Lt=null,ag(n)):(Ae=0,Lt=null,Ds(e,n,f,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var w=xe;if(!v||Vg(v)){Ae=0,Lt=null;var _=w.sibling;if(_!==null)xe=_;else{var L=w.return;L!==null?(xe=L,Pl(L)):xe=null}break t}}Ae=0,Lt=null,Ds(e,n,f,5);break;case 6:Ae=0,Lt=null,Ds(e,n,f,6);break;case 8:ju(),Ge=6;break e;default:throw Error(r(462))}}Kw();break}catch(H){J0(e,H)}while(!0);return kn=Ca=null,q.H=l,q.A=d,Ee=i,xe!==null?0:(Ue=null,_e=0,ll(),Ge)}function Kw(){for(;xe!==null&&!qo();)ng(xe)}function ng(e){var n=A0(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,n===null?Pl(e):xe=n}function ag(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=k0(i,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=k0(i,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:qc(n);default:C0(i,n),n=xe=sm(n,Cn),n=A0(i,n,Cn)}e.memoizedProps=e.pendingProps,n===null?Pl(e):xe=n}function Ds(e,n,i,l){kn=Ca=null,qc(n),ws=null,Xi=0;var d=n.return;try{if(Uw(e,d,n,i,_e)){Ge=1,Cl(e,qt(i,e.current)),xe=null;return}}catch(f){if(d!==null)throw xe=d,f;Ge=1,Cl(e,qt(i,e.current)),xe=null;return}n.flags&32768?(Ne||l===1?e=!0:_s||(_e&536870912)!==0?e=!1:(Zn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Yt.current,l!==null&&l.tag===13&&(l.flags|=16384))),sg(n,e)):Pl(n)}function Pl(e){var n=e;do{if((n.flags&32768)!==0){sg(n,Zn);return}e=n.return;var i=Bw(n.alternate,n,Cn);if(i!==null){xe=i;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);Ge===0&&(Ge=5)}function sg(e,n){do{var i=Vw(e.alternate,e);if(i!==null){i.flags&=32767,xe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){xe=e;return}xe=e=i}while(e!==null);Ge=6,xe=null}function ig(e,n,i,l,d,f,v,w,_){e.cancelPendingCommit=null;do ql();while(ht!==0);if((Ee&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=pc,jb(e,i,f,v,w,_),e===Ue&&(xe=Ue=null,_e=0),Ns=n,ta=e,Es=i,wu=f,Su=d,I0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Qw(ba,function(){return ug(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,d=I.p,I.p=2,v=Ee,Ee|=4;try{zw(e,n,i)}finally{Ee=v,I.p=d,q.T=l}}ht=1,rg(),lg(),og()}}function rg(){if(ht===1){ht=0;var e=ta,n=Ns,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=q.T,q.T=null;var l=I.p;I.p=2;var d=Ee;Ee|=4;try{H0(n,e);var f=Vu,v=Ff(e.containerInfo),w=f.focusedElem,_=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Xf(w.ownerDocument.documentElement,w)){if(_!==null&&dc(w)){var L=_.start,H=_.end;if(H===void 0&&(H=L),"selectionStart"in w)w.selectionStart=L,w.selectionEnd=Math.min(H,w.value.length);else{var K=w.ownerDocument||document,V=K&&K.defaultView||window;if(V.getSelection){var z=V.getSelection(),ce=w.textContent.length,re=Math.min(_.start,ce),Oe=_.end===void 0?re:Math.min(_.end,ce);!z.extend&&re>Oe&&(v=Oe,Oe=re,re=v);var R=Kf(w,re),A=Kf(w,Oe);if(R&&A&&(z.rangeCount!==1||z.anchorNode!==R.node||z.anchorOffset!==R.offset||z.focusNode!==A.node||z.focusOffset!==A.offset)){var U=K.createRange();U.setStart(R.node,R.offset),z.removeAllRanges(),re>Oe?(z.addRange(U),z.extend(A.node,A.offset)):(U.setEnd(A.node,A.offset),z.addRange(U))}}}}for(K=[],z=w;z=z.parentNode;)z.nodeType===1&&K.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<K.length;w++){var G=K[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Jl=!!Bu,Vu=Bu=null}finally{Ee=d,I.p=l,q.T=i}}e.current=n,ht=2}}function lg(){if(ht===2){ht=0;var e=ta,n=Ns,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=q.T,q.T=null;var l=I.p;I.p=2;var d=Ee;Ee|=4;try{V0(e,n.alternate,n)}finally{Ee=d,I.p=l,q.T=i}}ht=3}}function og(){if(ht===4||ht===3){ht=0,gi();var e=ta,n=Ns,i=Es,l=I0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ht=5:(ht=0,Ns=ta=null,cg(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ea=null),Go(i),n=n.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(bt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,d=I.p,I.p=2,q.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var w=l[v];f(w.value,{componentStack:w.stack})}}finally{q.T=n,I.p=d}}(Es&3)!==0&&ql(),hn(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===ku?nr++:(nr=0,ku=e):nr=0,ar(0)}}function cg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Li(n)))}function ql(e){return rg(),lg(),og(),ug()}function ug(){if(ht!==5)return!1;var e=ta,n=wu;wu=0;var i=Go(Es),l=q.T,d=I.p;try{I.p=32>i?32:i,q.T=null,i=Su,Su=null;var f=ta,v=Es;if(ht=0,Ns=ta=null,Es=0,(Ee&6)!==0)throw Error(r(331));var w=Ee;if(Ee|=4,X0(f.current),G0(f,f.current,v,i),Ee=w,ar(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(bt,f)}catch{}return!0}finally{I.p=d,q.T=l,cg(e,n)}}function dg(e,n,i){n=qt(i,n),n=tu(e.stateNode,n,2),e=Yn(e,n,2),e!==null&&(bi(e,2),hn(e))}function Me(e,n,i){if(e.tag===3)dg(e,e,i);else for(;n!==null;){if(n.tag===3){dg(n,e,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){e=qt(i,e),i=g0(2),l=Yn(n,i,2),l!==null&&(p0(i,l,n,e),bi(l,2),hn(l));break}}n=n.return}}function Nu(e,n,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Hw;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(yu=!0,d.add(i),e=Xw.bind(null,e,n,i),n.then(e,e))}function Xw(e,n,i){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(_e&i)===i&&(Ge===4||Ge===3&&(_e&62914560)===_e&&300>jt()-bu?(Ee&2)===0&&As(e,0):xu|=i,Ts===_e&&(Ts=0)),hn(e)}function hg(e,n){n===0&&(n=of()),e=ds(e,n),e!==null&&(bi(e,n),hn(e))}function Fw(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),hg(e,i)}function Iw(e,n){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),hg(e,i)}function Qw(e,n){return fi(e,n)}var Hl=null,Cs=null,Eu=!1,$l=!1,Au=!1,Va=0;function hn(e){e!==Cs&&e.next===null&&(Cs===null?Hl=Cs=e:Cs=Cs.next=e),$l=!0,Eu||(Eu=!0,Zw())}function ar(e,n){if(!Au&&$l){Au=!0;do for(var i=!1,l=Hl;l!==null;){if(e!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var v=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-gt(42|e)+1)-1,f&=d&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,pg(l,f))}else f=_e,f=Ir(l,l===Ue?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||vi(l,f)||(i=!0,pg(l,f));l=l.next}while(i);Au=!1}}function Ww(){fg()}function fg(){$l=Eu=!1;var e=0;Va!==0&&(rS()&&(e=Va),Va=0);for(var n=jt(),i=null,l=Hl;l!==null;){var d=l.next,f=mg(l,n);f===0?(l.next=null,i===null?Hl=d:i.next=d,d===null&&(Cs=i)):(i=l,(e!==0||(f&3)!==0)&&($l=!0)),l=d}ar(e)}function mg(e,n){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-gt(f),w=1<<v,_=d[v];_===-1?((w&i)===0||(w&l)!==0)&&(d[v]=kb(w,n)):_<=n&&(e.expiredLanes|=w),f&=~w}if(n=Ue,i=_e,i=Ir(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===n&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||vi(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(l!==null&&mi(l),Go(i)){case 2:case 8:i=yi;break;case 32:i=ba;break;case 268435456:i=xi;break;default:i=ba}return l=gg.bind(null,e),i=fi(i,l),e.callbackPriority=n,e.callbackNode=i,n}return l!==null&&l!==null&&mi(l),e.callbackPriority=2,e.callbackNode=null,2}function gg(e,n){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ql()&&e.callbackNode!==i)return null;var l=_e;return l=Ir(e,e===Ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(W0(e,l,n),mg(e,jt()),e.callbackNode!=null&&e.callbackNode===i?gg.bind(null,e):null)}function pg(e,n){if(ql())return null;W0(e,n,!0)}function Zw(){oS(function(){(Ee&6)!==0?fi(Qa,Ww):fg()})}function Du(){return Va===0&&(Va=lf()),Va}function yg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:el(""+e)}function xg(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Jw(e,n,i,l,d){if(n==="submit"&&i&&i.stateNode===d){var f=yg((d[_t]||null).action),v=l.submitter;v&&(n=(n=v[_t]||null)?yg(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var w=new sl("action","action",null,l,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Va!==0){var _=v?xg(d,v):new FormData(d);Qc(i,{pending:!0,data:_,method:d.method,action:f},null,_)}}else typeof f=="function"&&(w.preventDefault(),_=v?xg(d,v):new FormData(d),Qc(i,{pending:!0,data:_,method:d.method,action:f},f,_))},currentTarget:d}]})}}for(var Cu=0;Cu<gc.length;Cu++){var Ru=gc[Cu],eS=Ru.toLowerCase(),tS=Ru[0].toUpperCase()+Ru.slice(1);Zt(eS,"on"+tS)}Zt(Wf,"onAnimationEnd"),Zt(Zf,"onAnimationIteration"),Zt(Jf,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(xw,"onTransitionRun"),Zt(vw,"onTransitionStart"),Zt(bw,"onTransitionCancel"),Zt(em,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sr));function vg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var w=l[v],_=w.instance,L=w.currentTarget;if(w=w.listener,_!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=L;try{f(d)}catch(H){Dl(H)}d.currentTarget=null,f=_}else for(v=0;v<l.length;v++){if(w=l[v],_=w.instance,L=w.currentTarget,w=w.listener,_!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=L;try{f(d)}catch(H){Dl(H)}d.currentTarget=null,f=_}}}}function ve(e,n){var i=n[Yo];i===void 0&&(i=n[Yo]=new Set);var l=e+"__bubble";i.has(l)||(bg(n,e,2,!1),i.add(l))}function Ou(e,n,i){var l=0;n&&(l|=4),bg(i,e,l,n)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[Gl]){e[Gl]=!0,ff.forEach(function(i){i!=="selectionchange"&&(nS.has(i)||Ou(i,!1,e),Ou(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gl]||(n[Gl]=!0,Ou("selectionchange",!1,n))}}function bg(e,n,i,l){switch(Gg(n)){case 2:var d=AS;break;case 8:d=DS;break;default:d=Fu}i=d.bind(null,n,i,e),d=void 0,!nc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Uu(e,n,i,l,d){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=l.return;v!==null;){var _=v.tag;if((_===3||_===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=Za(w),v===null)return;if(_=v.tag,_===5||_===6||_===26||_===27){l=f=v;continue e}w=w.parentNode}}l=l.return}Nf(function(){var L=f,H=ec(i),K=[];e:{var V=tm.get(e);if(V!==void 0){var z=sl,ce=e;switch(e){case"keypress":if(nl(i)===0)break e;case"keydown":case"keyup":z=Qb;break;case"focusin":ce="focus",z=rc;break;case"focusout":ce="blur",z=rc;break;case"beforeblur":case"afterblur":z=rc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Jb;break;case Wf:case Zf:case Jf:z=qb;break;case em:z=tw;break;case"scroll":case"scrollend":z=Lb;break;case"wheel":z=aw;break;case"copy":case"cut":case"paste":z=$b;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Rf;break;case"toggle":case"beforetoggle":z=iw}var re=(n&4)!==0,Oe=!re&&(e==="scroll"||e==="scrollend"),R=re?V!==null?V+"Capture":null:V;re=[];for(var A=L,U;A!==null;){var G=A;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||R===null||(G=ki(A,R),G!=null&&re.push(ir(A,G,U))),Oe)break;A=A.return}0<re.length&&(V=new z(V,ce,null,i,H),K.push({event:V,listeners:re}))}}if((n&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",V&&i!==Jo&&(ce=i.relatedTarget||i.fromElement)&&(Za(ce)||ce[Wa]))break e;if((z||V)&&(V=H.window===H?H:(V=H.ownerDocument)?V.defaultView||V.parentWindow:window,z?(ce=i.relatedTarget||i.toElement,z=L,ce=ce?Za(ce):null,ce!==null&&(Oe=c(ce),re=ce.tag,ce!==Oe||re!==5&&re!==27&&re!==6)&&(ce=null)):(z=null,ce=L),z!==ce)){if(re=Df,G="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(re=Rf,G="onPointerLeave",R="onPointerEnter",A="pointer"),Oe=z==null?V:Si(z),U=ce==null?V:Si(ce),V=new re(G,A+"leave",z,i,H),V.target=Oe,V.relatedTarget=U,G=null,Za(H)===L&&(re=new re(R,A+"enter",ce,i,H),re.target=U,re.relatedTarget=Oe,G=re),Oe=G,z&&ce)t:{for(re=z,R=ce,A=0,U=re;U;U=Rs(U))A++;for(U=0,G=R;G;G=Rs(G))U++;for(;0<A-U;)re=Rs(re),A--;for(;0<U-A;)R=Rs(R),U--;for(;A--;){if(re===R||R!==null&&re===R.alternate)break t;re=Rs(re),R=Rs(R)}re=null}else re=null;z!==null&&wg(K,V,z,re,!1),ce!==null&&Oe!==null&&wg(K,Oe,ce,re,!0)}}e:{if(V=L?Si(L):window,z=V.nodeName&&V.nodeName.toLowerCase(),z==="select"||z==="input"&&V.type==="file")var ae=Pf;else if(Vf(V))if(qf)ae=gw;else{ae=fw;var ye=hw}else z=V.nodeName,!z||z.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?L&&Zo(L.elementType)&&(ae=Pf):ae=mw;if(ae&&(ae=ae(e,L))){zf(K,ae,i,H);break e}ye&&ye(e,V,L),e==="focusout"&&L&&V.type==="number"&&L.memoizedProps.value!=null&&Wo(V,"number",V.value)}switch(ye=L?Si(L):window,e){case"focusin":(Vf(ye)||ye.contentEditable==="true")&&(os=ye,hc=L,Ci=null);break;case"focusout":Ci=hc=os=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,If(K,i,H);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":If(K,i,H)}var se;if(oc)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else ls?Lf(e,i)&&(le="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(le="onCompositionStart");le&&(Of&&i.locale!=="ko"&&(ls||le!=="onCompositionStart"?le==="onCompositionEnd"&&ls&&(se=Ef()):(qn=H,ac="value"in qn?qn.value:qn.textContent,ls=!0)),ye=Yl(L,le),0<ye.length&&(le=new Cf(le,e,null,i,H),K.push({event:le,listeners:ye}),se?le.data=se:(se=Bf(i),se!==null&&(le.data=se)))),(se=lw?ow(e,i):cw(e,i))&&(le=Yl(L,"onBeforeInput"),0<le.length&&(ye=new Cf("onBeforeInput","beforeinput",null,i,H),K.push({event:ye,listeners:le}),ye.data=se)),Jw(K,e,L,i,H)}vg(K,n)})}function ir(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Yl(e,n){for(var i=n+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ki(e,i),d!=null&&l.unshift(ir(e,d,f)),d=ki(e,n),d!=null&&l.push(ir(e,d,f))),e.tag===3)return l;e=e.return}return[]}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wg(e,n,i,l,d){for(var f=n._reactName,v=[];i!==null&&i!==l;){var w=i,_=w.alternate,L=w.stateNode;if(w=w.tag,_!==null&&_===l)break;w!==5&&w!==26&&w!==27||L===null||(_=L,d?(L=ki(i,f),L!=null&&v.unshift(ir(i,L,_))):d||(L=ki(i,f),L!=null&&v.push(ir(i,L,_)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var aS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function Sg(e){return(typeof e=="string"?e:""+e).replace(aS,`
`).replace(sS,"")}function kg(e,n){return n=Sg(n),Sg(e)===n}function Kl(){}function Re(e,n,i,l,d,f){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ss(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ss(e,""+l);break;case"className":Wr(e,"class",l);break;case"tabIndex":Wr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(e,i,l);break;case"style":_f(e,l,f);break;case"data":if(n!=="object"){Wr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=el(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(n!=="input"&&Re(e,n,"name",d.name,d,null),Re(e,n,"formEncType",d.formEncType,d,null),Re(e,n,"formMethod",d.formMethod,d,null),Re(e,n,"formTarget",d.formTarget,d,null)):(Re(e,n,"encType",d.encType,d,null),Re(e,n,"method",d.method,d,null),Re(e,n,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=el(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=el(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Qr(e,"popover",l);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Mb.get(i)||i,Qr(e,i,l))}}function Lu(e,n,i,l,d,f){switch(i){case"style":_f(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?ss(e,l):(typeof l=="number"||typeof l=="bigint")&&ss(e,""+l);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),f=e[_t]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(n,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,l,d);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Qr(e,i,l)}}}function ft(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var l=!1,d=!1,f;for(f in i)if(i.hasOwnProperty(f)){var v=i[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Re(e,n,f,v,i,null)}}d&&Re(e,n,"srcSet",i.srcSet,i,null),l&&Re(e,n,"src",i.src,i,null);return;case"input":ve("invalid",e);var w=f=v=d=null,_=null,L=null;for(l in i)if(i.hasOwnProperty(l)){var H=i[l];if(H!=null)switch(l){case"name":d=H;break;case"type":v=H;break;case"checked":_=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Re(e,n,l,H,i,null)}}wf(e,f,w,_,L,v,d,!1),Zr(e);return;case"select":ve("invalid",e),l=v=f=null;for(d in i)if(i.hasOwnProperty(d)&&(w=i[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:Re(e,n,d,w,i,null)}n=f,i=v,e.multiple=!!l,n!=null?as(e,!!l,n,!1):i!=null&&as(e,!!l,i,!0);return;case"textarea":ve("invalid",e),f=d=l=null;for(v in i)if(i.hasOwnProperty(v)&&(w=i[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Re(e,n,v,w,i,null)}kf(e,l,d,f),Zr(e);return;case"option":for(_ in i)if(i.hasOwnProperty(_)&&(l=i[_],l!=null))switch(_){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(e,n,_,l,i,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(l=0;l<sr.length;l++)ve(sr[l],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in i)if(i.hasOwnProperty(L)&&(l=i[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Re(e,n,L,l,i,null)}return;default:if(Zo(n)){for(H in i)i.hasOwnProperty(H)&&(l=i[H],l!==void 0&&Lu(e,n,H,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&Re(e,n,w,l,i,null))}function iS(e,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,w=null,_=null,L=null,H=null;for(z in i){var K=i[z];if(i.hasOwnProperty(z)&&K!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":_=K;default:l.hasOwnProperty(z)||Re(e,n,z,null,l,K)}}for(var V in l){var z=l[V];if(K=i[V],l.hasOwnProperty(V)&&(z!=null||K!=null))switch(V){case"type":f=z;break;case"name":d=z;break;case"checked":L=z;break;case"defaultChecked":H=z;break;case"value":v=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:z!==K&&Re(e,n,V,z,l,K)}}Qo(e,v,w,_,L,H,f,d);return;case"select":z=v=w=V=null;for(f in i)if(_=i[f],i.hasOwnProperty(f)&&_!=null)switch(f){case"value":break;case"multiple":z=_;default:l.hasOwnProperty(f)||Re(e,n,f,null,l,_)}for(d in l)if(f=l[d],_=i[d],l.hasOwnProperty(d)&&(f!=null||_!=null))switch(d){case"value":V=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==_&&Re(e,n,d,f,l,_)}n=w,i=v,l=z,V!=null?as(e,!!i,V,!1):!!l!=!!i&&(n!=null?as(e,!!i,n,!0):as(e,!!i,i?[]:"",!1));return;case"textarea":z=V=null;for(w in i)if(d=i[w],i.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Re(e,n,w,null,l,d)}for(v in l)if(d=l[v],f=i[v],l.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":V=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&Re(e,n,v,d,l,f)}Sf(e,V,z);return;case"option":for(var ce in i)if(V=i[ce],i.hasOwnProperty(ce)&&V!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":e.selected=!1;break;default:Re(e,n,ce,null,l,V)}for(_ in l)if(V=l[_],z=i[_],l.hasOwnProperty(_)&&V!==z&&(V!=null||z!=null))switch(_){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Re(e,n,_,V,l,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in i)V=i[re],i.hasOwnProperty(re)&&V!=null&&!l.hasOwnProperty(re)&&Re(e,n,re,null,l,V);for(L in l)if(V=l[L],z=i[L],l.hasOwnProperty(L)&&V!==z&&(V!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,n));break;default:Re(e,n,L,V,l,z)}return;default:if(Zo(n)){for(var Oe in i)V=i[Oe],i.hasOwnProperty(Oe)&&V!==void 0&&!l.hasOwnProperty(Oe)&&Lu(e,n,Oe,void 0,l,V);for(H in l)V=l[H],z=i[H],!l.hasOwnProperty(H)||V===z||V===void 0&&z===void 0||Lu(e,n,H,V,l,z);return}}for(var R in i)V=i[R],i.hasOwnProperty(R)&&V!=null&&!l.hasOwnProperty(R)&&Re(e,n,R,null,l,V);for(K in l)V=l[K],z=i[K],!l.hasOwnProperty(K)||V===z||V==null&&z==null||Re(e,n,K,V,l,z)}var Bu=null,Vu=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function jg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _g(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function zu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pu=null;function rS(){var e=window.event;return e&&e.type==="popstate"?e===Pu?!1:(Pu=e,!0):(Pu=null,!1)}var Tg=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Ng=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ng<"u"?function(e){return Ng.resolve(null).then(e).catch(cS)}:Tg;function cS(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function Eg(e,n){var i=n,l=0,d=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(0<l&&8>l){i=l;var v=e.ownerDocument;if(i&1&&rr(v.documentElement),i&2&&rr(v.body),i&4)for(i=v.head,rr(i),v=i.firstChild;v;){var w=v.nextSibling,_=v.nodeName;v[wi]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&v.rel.toLowerCase()==="stylesheet"||i.removeChild(v),v=w}}if(d===0){e.removeChild(f),mr(n);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:l=i.charCodeAt(0)-48;else l=0;i=f}while(i);mr(n)}function qu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":qu(i),Ko(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function uS(e,n,i,l){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function dS(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=en(e.nextSibling),e===null))return null;return e}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function hS(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $u=null;function Ag(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function Dg(e,n,i){switch(n=Xl(i),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function rr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ko(e)}var Xt=new Map,Cg=new Set;function Fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rn=I.d;I.d={f:fS,r:mS,D:gS,C:pS,L:yS,m:xS,X:bS,S:vS,M:wS};function fS(){var e=Rn.f(),n=zl();return e||n}function mS(e){var n=Ja(e);n!==null&&n.tag===5&&n.type==="form"?Wm(n):Rn.r(e)}var Os=typeof document>"u"?null:document;function Rg(e,n,i){var l=Os;if(l&&typeof n=="string"&&n){var d=Pt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),Cg.has(d)||(Cg.add(d),e={rel:e,crossOrigin:i,href:n},l.querySelector(d)===null&&(n=l.createElement("link"),ft(n,"link",e),st(n),l.head.appendChild(n)))}}function gS(e){Rn.D(e),Rg("dns-prefetch",e,null)}function pS(e,n){Rn.C(e,n),Rg("preconnect",e,n)}function yS(e,n,i){Rn.L(e,n,i);var l=Os;if(l&&e&&n){var d='link[rel="preload"][as="'+Pt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Pt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Pt(i.imageSizes)+'"]')):d+='[href="'+Pt(e)+'"]';var f=d;switch(n){case"style":f=Ms(e);break;case"script":f=Us(e)}Xt.has(f)||(e=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Xt.set(f,e),l.querySelector(d)!==null||n==="style"&&l.querySelector(lr(f))||n==="script"&&l.querySelector(or(f))||(n=l.createElement("link"),ft(n,"link",e),st(n),l.head.appendChild(n)))}}function xS(e,n){Rn.m(e,n);var i=Os;if(i&&e){var l=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(e)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Us(e)}if(!Xt.has(f)&&(e=y({rel:"modulepreload",href:e},n),Xt.set(f,e),i.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(or(f)))return}l=i.createElement("link"),ft(l,"link",e),st(l),i.head.appendChild(l)}}}function vS(e,n,i){Rn.S(e,n,i);var l=Os;if(l&&e){var d=es(l).hoistableStyles,f=Ms(e);n=n||"default";var v=d.get(f);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(lr(f)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Xt.get(f))&&Gu(e,i);var _=v=l.createElement("link");st(_),ft(_,"link",e),_._p=new Promise(function(L,H){_.onload=L,_.onerror=H}),_.addEventListener("load",function(){w.loading|=1}),_.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Il(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(f,v)}}}function bS(e,n){Rn.X(e,n);var i=Os;if(i&&e){var l=es(i).hoistableScripts,d=Us(e),f=l.get(d);f||(f=i.querySelector(or(d)),f||(e=y({src:e,async:!0},n),(n=Xt.get(d))&&Yu(e,n),f=i.createElement("script"),st(f),ft(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function wS(e,n){Rn.M(e,n);var i=Os;if(i&&e){var l=es(i).hoistableScripts,d=Us(e),f=l.get(d);f||(f=i.querySelector(or(d)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Xt.get(d))&&Yu(e,n),f=i.createElement("script"),st(f),ft(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Og(e,n,i,l){var d=(d=oe.current)?Fl(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Ms(i.href),i=es(d).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ms(i.href);var f=es(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(lr(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Xt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xt.set(e,i),f||SS(d,e,i,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Us(i),i=es(d).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ms(e){return'href="'+Pt(e)+'"'}function lr(e){return'link[rel="stylesheet"]['+e+"]"}function Mg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function SS(e,n,i,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ft(n,"link",i),st(n),e.head.appendChild(n))}function Us(e){return'[src="'+Pt(e)+'"]'}function or(e){return"script[async]"+e}function Ug(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Pt(i.href)+'"]');if(l)return n.instance=l,st(l),l;var d=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),ft(l,"style",d),Il(l,i.precedence,e),n.instance=l;case"stylesheet":d=Ms(i.href);var f=e.querySelector(lr(d));if(f)return n.state.loading|=4,n.instance=f,st(f),f;l=Mg(i),(d=Xt.get(d))&&Gu(l,d),f=(e.ownerDocument||e).createElement("link"),st(f);var v=f;return v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),ft(f,"link",l),n.state.loading|=4,Il(f,i.precedence,e),n.instance=f;case"script":return f=Us(i.src),(d=e.querySelector(or(f)))?(n.instance=d,st(d),d):(l=i,(d=Xt.get(f))&&(l=y({},i),Yu(l,d)),e=e.ownerDocument||e,d=e.createElement("script"),st(d),ft(d,"link",l),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Il(l,i.precedence,e));return n.instance}function Il(e,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===n)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ql=null;function Lg(e,n,i){if(Ql===null){var l=new Map,d=Ql=new Map;d.set(i,l)}else d=Ql,l=d.get(i),l||(l=new Map,d.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var f=i[d];if(!(f[wi]||f[pt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var w=l.get(v);w?w.push(f):l.set(v,[f])}}return l}function Bg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function kS(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var cr=null;function jS(){}function _S(e,n,i){if(cr===null)throw Error(r(475));var l=cr;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=Ms(i.href),f=e.querySelector(lr(d));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Wl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,st(f);return}f=e.ownerDocument||e,i=Mg(i),(d=Xt.get(d))&&Gu(i,d),f=f.createElement("link"),st(f);var v=f;v._p=new Promise(function(w,_){v.onload=w,v.onerror=_}),ft(f,"link",i),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Wl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function TS(){if(cr===null)throw Error(r(475));var e=cr;return e.stylesheets&&e.count===0&&Ku(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Wl(){if(this.count--,this.count===0){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zl=null;function Ku(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zl=new Map,n.forEach(NS,e),Zl=null,Wl.call(e))}function NS(e,n){if(!(n.state.loading&4)){var i=Zl.get(e);if(i)var l=i.get(null);else{i=new Map,Zl.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),l=v)}l&&i.set(null,l)}d=n.instance,v=d.getAttribute("data-precedence"),f=i.get(v)||l,f===l&&i.set(null,d),i.set(v,d),this.count++,l=Wl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ur={$$typeof:D,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ES(e,n,i,l,d,f,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function zg(e,n,i,l,d,f,v,w,_,L,H,K){return e=new ES(e,n,i,v,w,_,L,K),n=1,f===!0&&(n|=24),f=Ot(3,null,null,n),e.current=f,f.stateNode=e,n=Nc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:i,cache:n},Cc(f),e}function Pg(e){return e?(e=hs,e):hs}function qg(e,n,i,l,d,f){d=Pg(d),l.context===null?l.context=d:l.pendingContext=d,l=Gn(n),l.payload={element:i},f=f===void 0?null:f,f!==null&&(l.callback=f),i=Yn(e,l,n),i!==null&&(Vt(i,e,n),Pi(i,e,n))}function Hg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Xu(e,n){Hg(e,n),(e=e.alternate)&&Hg(e,n)}function $g(e){if(e.tag===13){var n=ds(e,67108864);n!==null&&Vt(n,e,67108864),Xu(e,67108864)}}var Jl=!0;function AS(e,n,i,l){var d=q.T;q.T=null;var f=I.p;try{I.p=2,Fu(e,n,i,l)}finally{I.p=f,q.T=d}}function DS(e,n,i,l){var d=q.T;q.T=null;var f=I.p;try{I.p=8,Fu(e,n,i,l)}finally{I.p=f,q.T=d}}function Fu(e,n,i,l){if(Jl){var d=Iu(l);if(d===null)Uu(e,n,l,eo,i),Yg(e,l);else if(RS(d,e,n,i,l))l.stopPropagation();else if(Yg(e,l),n&4&&-1<CS.indexOf(e)){for(;d!==null;){var f=Ja(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=wa(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var _=1<<31-gt(v);w.entanglements[1]|=_,v&=~_}hn(f),(Ee&6)===0&&(Bl=jt()+500,ar(0))}}break;case 13:w=ds(f,2),w!==null&&Vt(w,f,2),zl(),Xu(f,2)}if(f=Iu(l),f===null&&Uu(e,n,l,eo,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else Uu(e,n,l,null,i)}}function Iu(e){return e=ec(e),Qu(e)}var eo=null;function Qu(e){if(eo=null,e=Za(e),e!==null){var n=c(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=u(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return eo=e,null}function Gg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pi()){case Qa:return 2;case yi:return 8;case ba:case Kr:return 32;case xi:return 268435456;default:return 32}default:return 32}}var Wu=!1,sa=null,ia=null,ra=null,dr=new Map,hr=new Map,la=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yg(e,n){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":dr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hr.delete(n.pointerId)}}function fr(e,n,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},n!==null&&(n=Ja(n),n!==null&&$g(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function RS(e,n,i,l,d){switch(n){case"focusin":return sa=fr(sa,e,n,i,l,d),!0;case"dragenter":return ia=fr(ia,e,n,i,l,d),!0;case"mouseover":return ra=fr(ra,e,n,i,l,d),!0;case"pointerover":var f=d.pointerId;return dr.set(f,fr(dr.get(f)||null,e,n,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,hr.set(f,fr(hr.get(f)||null,e,n,i,l,d)),!0}return!1}function Kg(e){var n=Za(e.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=u(i),n!==null){e.blockedOn=n,_b(e.priority,function(){if(i.tag===13){var l=Bt();l=$o(l);var d=ds(i,l);d!==null&&Vt(d,i,l),Xu(i,l)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function to(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Iu(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Jo=l,i.target.dispatchEvent(l),Jo=null}else return n=Ja(i),n!==null&&$g(n),e.blockedOn=i,!1;n.shift()}return!0}function Xg(e,n,i){to(e)&&i.delete(n)}function OS(){Wu=!1,sa!==null&&to(sa)&&(sa=null),ia!==null&&to(ia)&&(ia=null),ra!==null&&to(ra)&&(ra=null),dr.forEach(Xg),hr.forEach(Xg)}function no(e,n){e.blockedOn===n&&(e.blockedOn=null,Wu||(Wu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,OS)))}var ao=null;function Fg(e){ao!==e&&(ao=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ao===e&&(ao=null);for(var n=0;n<e.length;n+=3){var i=e[n],l=e[n+1],d=e[n+2];if(typeof l!="function"){if(Qu(l||i)===null)continue;break}var f=Ja(i);f!==null&&(e.splice(n,3),n-=3,Qc(f,{pending:!0,data:d,method:i.method,action:l},l,d))}}))}function mr(e){function n(_){return no(_,e)}sa!==null&&no(sa,e),ia!==null&&no(ia,e),ra!==null&&no(ra,e),dr.forEach(n),hr.forEach(n);for(var i=0;i<la.length;i++){var l=la[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<la.length&&(i=la[0],i.blockedOn===null);)Kg(i),i.blockedOn===null&&la.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var d=i[l],f=i[l+1],v=d[_t]||null;if(typeof f=="function")v||Fg(i);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[_t]||null)w=v.formAction;else if(Qu(d)!==null)continue}else w=v.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),Fg(i)}}}function Zu(e){this._internalRoot=e}so.prototype.render=Zu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var i=n.current,l=Bt();qg(i,l,e,n,null,null)},so.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;qg(e.current,2,null,e,null,null),zl(),n[Wa]=null}};function so(e){this._internalRoot=e}so.prototype.unstable_scheduleHydration=function(e){if(e){var n=df();e={blockedOn:null,target:e,priority:n};for(var i=0;i<la.length&&n!==0&&n<la[i].priority;i++);la.splice(i,0,e),i===0&&Kg(e)}};var Ig=t.version;if(Ig!=="19.1.1")throw Error(r(527,Ig,"19.1.1"));I.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var MS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{bt=io.inject(MS),Ie=io}catch{}}return pr.createRoot=function(e,n){if(!o(e))throw Error(r(299));var i=!1,l="",d=d0,f=h0,v=f0,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=zg(e,1,!1,null,null,i,l,d,f,v,w,null),e[Wa]=n.current,Mu(e),new Zu(n)},pr.hydrateRoot=function(e,n,i){if(!o(e))throw Error(r(299));var l=!1,d="",f=d0,v=h0,w=f0,_=null,L=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks),i.formState!==void 0&&(L=i.formState)),n=zg(e,1,!0,n,i??null,l,d,f,v,w,_,L),n.context=Pg(null),i=n.current,l=Bt(),l=$o(l),d=Gn(l),d.callback=null,Yn(i,d,l),i=l,n.current.lanes=i,bi(n,i),hn(n),e[Wa]=n.current,Mu(e),new so(n)},pr.version="19.1.1",pr}var ip;function KS(){if(ip)return td.exports;ip=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),td.exports=YS(),td.exports}var XS=KS();/**
 * react-router v7.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rp="popstate";function FS(a={}){function t(r,o){let{pathname:c,search:u,hash:m}=r.location;return Cd("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(r,o){return typeof o=="string"?o:Ar(o)}return QS(t,s,null,a)}function Pe(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function sn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function lp(a,t){return{usr:a.state,key:a.key,idx:t}}function Cd(a,t,s=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?ii(t):t,state:s,key:t&&t.key||r||IS()}}function Ar({pathname:a="/",search:t="",hash:s=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function ii(a){let t={};if(a){let s=a.indexOf("#");s>=0&&(t.hash=a.substring(s),a=a.substring(0,s));let r=a.indexOf("?");r>=0&&(t.search=a.substring(r),a=a.substring(0,r)),a&&(t.pathname=a)}return t}function QS(a,t,s,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,m="POP",g=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function x(){m="POP";let N=y(),C=N==null?null:N-p;p=N,g&&g({action:m,location:T.location,delta:C})}function b(N,C){m="PUSH";let O=Cd(T.location,N,C);p=y()+1;let D=lp(O,p),Y=T.createHref(O);try{u.pushState(D,"",Y)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(Y)}c&&g&&g({action:m,location:T.location,delta:1})}function S(N,C){m="REPLACE";let O=Cd(T.location,N,C);p=y();let D=lp(O,p),Y=T.createHref(O);u.replaceState(D,"",Y),c&&g&&g({action:m,location:T.location,delta:0})}function j(N){return WS(N)}let T={get action(){return m},get location(){return a(o,u)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(rp,x),g=N,()=>{o.removeEventListener(rp,x),g=null}},createHref(N){return t(o,N)},createURL:j,encodeLocation(N){let C=j(N);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:S,go(N){return u.go(N)}};return T}function WS(a,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Pe(s,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Ar(a);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function Jy(a,t,s="/"){return ZS(a,t,s,!1)}function ZS(a,t,s,r){let o=typeof t=="string"?ii(t):t,c=Ln(o.pathname||"/",s);if(c==null)return null;let u=ex(a);JS(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=uk(c);m=ok(u[g],p,r)}return m}function ex(a,t=[],s=[],r="",o=!1){let c=(u,m,g=o,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&g)return;Pe(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let x=Un([r,y.relativePath]),b=s.concat(y);u.children&&u.children.length>0&&(Pe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ex(u.children,t,b,x,g)),!(u.path==null&&!u.index)&&t.push({path:x,score:rk(x,u.index),routesMeta:b})};return a.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let g of tx(u.path))c(u,m,!0,g)}),t}function tx(a){let t=a.split("/");if(t.length===0)return[];let[s,...r]=t,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=tx(r.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>a.startsWith("/")&&g===""?"/":g)}function JS(a){a.sort((t,s)=>t.score!==s.score?s.score-t.score:lk(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var ek=/^:[\w-]+$/,tk=3,nk=2,ak=1,sk=10,ik=-2,op=a=>a==="*";function rk(a,t){let s=a.split("/"),r=s.length;return s.some(op)&&(r+=ik),t&&(r+=nk),s.filter(o=>!op(o)).reduce((o,c)=>o+(ek.test(c)?tk:c===""?ak:sk),r)}function lk(a,t){return a.length===t.length&&a.slice(0,-1).every((r,o)=>r===t[o])?a[a.length-1]-t[t.length-1]:0}function ok(a,t,s=!1){let{routesMeta:r}=a,o={},c="/",u=[];for(let m=0;m<r.length;++m){let g=r[m],p=m===r.length-1,y=c==="/"?t:t.slice(c.length)||"/",x=ko({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),b=g.route;if(!x&&p&&s&&!r[r.length-1].route.index&&(x=ko({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:Un([c,x.pathname]),pathnameBase:mk(Un([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=Un([c,x.pathnameBase]))}return u}function ko(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,r]=ck(a.path,a.caseSensitive,a.end),o=t.match(s);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:x},b)=>{if(y==="*"){let j=m[b]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const S=m[b];return x&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:a}}function ck(a,t=!1,s=!0){sn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(r.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(r.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function uk(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Ln(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=a.charAt(s);return r&&r!=="/"?null:a.slice(s)||"/"}function dk(a,t="/"){let{pathname:s,search:r="",hash:o=""}=typeof a=="string"?ii(a):a;return{pathname:s?s.startsWith("/")?s:hk(s,t):t,search:gk(r),hash:pk(o)}}function hk(a,t){let s=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function id(a,t,s,r){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fk(a){return a.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function fh(a){let t=fk(a);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function mh(a,t,s,r=!1){let o;typeof a=="string"?o=ii(a):(o={...a},Pe(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),Pe(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),Pe(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let c=a===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=s;else{let x=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;o.pathname=b.join("/")}m=x>=0?t[x]:"/"}let g=dk(o,m),p=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var Un=a=>a.join("/").replace(/\/\/+/g,"/"),mk=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),gk=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,pk=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function yk(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var nx=["POST","PUT","PATCH","DELETE"];new Set(nx);var xk=["GET",...nx];new Set(xk);var ri=k.createContext(null);ri.displayName="DataRouter";var Co=k.createContext(null);Co.displayName="DataRouterState";k.createContext(!1);var ax=k.createContext({isTransitioning:!1});ax.displayName="ViewTransition";var vk=k.createContext(new Map);vk.displayName="Fetchers";var bk=k.createContext(null);bk.displayName="Await";var rn=k.createContext(null);rn.displayName="Navigation";var Br=k.createContext(null);Br.displayName="Location";var ln=k.createContext({outlet:null,matches:[],isDataRoute:!1});ln.displayName="Route";var gh=k.createContext(null);gh.displayName="RouteError";function wk(a,{relative:t}={}){Pe(li(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=k.useContext(rn),{hash:o,pathname:c,search:u}=Vr(a,{relative:t}),m=c;return s!=="/"&&(m=c==="/"?s:Un([s,c])),r.createHref({pathname:m,search:u,hash:o})}function li(){return k.useContext(Br)!=null}function ga(){return Pe(li(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Br).location}var sx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ix(a){k.useContext(rn).static||k.useLayoutEffect(a)}function oi(){let{isDataRoute:a}=k.useContext(ln);return a?Uk():Sk()}function Sk(){Pe(li(),"useNavigate() may be used only in the context of a <Router> component.");let a=k.useContext(ri),{basename:t,navigator:s}=k.useContext(rn),{matches:r}=k.useContext(ln),{pathname:o}=ga(),c=JSON.stringify(fh(r)),u=k.useRef(!1);return ix(()=>{u.current=!0}),k.useCallback((g,p={})=>{if(sn(u.current,sx),!u.current)return;if(typeof g=="number"){s.go(g);return}let y=mh(g,JSON.parse(c),o,p.relative==="path");a==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Un([t,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[t,s,c,o,a])}k.createContext(null);function kk(){let{matches:a}=k.useContext(ln),t=a[a.length-1];return t?t.params:{}}function Vr(a,{relative:t}={}){let{matches:s}=k.useContext(ln),{pathname:r}=ga(),o=JSON.stringify(fh(s));return k.useMemo(()=>mh(a,JSON.parse(o),r,t==="path"),[a,o,r,t])}function jk(a,t){return rx(a,t)}function rx(a,t,s,r,o){Pe(li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(rn),{matches:u}=k.useContext(ln),m=u[u.length-1],g=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",x=m&&m.route;{let O=x&&x.path||"";lx(p,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=ga(),S;if(t){let O=typeof t=="string"?ii(t):t;Pe(y==="/"||O.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=b;let j=S.pathname||"/",T=j;if(y!=="/"){let O=y.replace(/^\//,"").split("/");T="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=Jy(a,{pathname:T});sn(x||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),sn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ak(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:Un([y,c.encodeLocation?c.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Un([y,c.encodeLocation?c.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,s,r,o);return t&&C?k.createElement(Br.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},C):C}function _k(){let a=Mk(),t=yk(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",a),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),s?k.createElement("pre",{style:o},s):null,u)}var Tk=k.createElement(_k,null),Nk=class extends k.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?k.createElement(ln.Provider,{value:this.props.routeContext},k.createElement(gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ek({routeContext:a,match:t,children:s}){let r=k.useContext(ri);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(ln.Provider,{value:a},s)}function Ak(a,t=[],s=null,r=null,o=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,u=s?.errors;if(u!=null){let p=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Pe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,g=-1;if(s)for(let p=0;p<c.length;p++){let y=c[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:x,errors:b}=s,S=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((p,y,x)=>{let b,S=!1,j=null,T=null;s&&(b=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||Tk,m&&(g<0&&x===0?(lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):g===x&&(S=!0,T=y.route.hydrateFallbackElement||null)));let N=t.concat(c.slice(0,x+1)),C=()=>{let O;return b?O=j:S?O=T:y.route.Component?O=k.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=p,k.createElement(Ek,{match:y,routeContext:{outlet:p,matches:N,isDataRoute:s!=null},children:O})};return s&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?k.createElement(Nk,{location:s.location,revalidation:s.revalidation,component:j,error:b,children:C(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):C()},null)}function ph(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dk(a){let t=k.useContext(ri);return Pe(t,ph(a)),t}function Ck(a){let t=k.useContext(Co);return Pe(t,ph(a)),t}function Rk(a){let t=k.useContext(ln);return Pe(t,ph(a)),t}function yh(a){let t=Rk(a),s=t.matches[t.matches.length-1];return Pe(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function Ok(){return yh("useRouteId")}function Mk(){let a=k.useContext(gh),t=Ck("useRouteError"),s=yh("useRouteError");return a!==void 0?a:t.errors?.[s]}function Uk(){let{router:a}=Dk("useNavigate"),t=yh("useNavigate"),s=k.useRef(!1);return ix(()=>{s.current=!0}),k.useCallback(async(o,c={})=>{sn(s.current,sx),s.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:t,...c}))},[a,t])}var cp={};function lx(a,t,s){!t&&!cp[a]&&(cp[a]=!0,sn(!1,s))}k.memo(Lk);function Lk({routes:a,future:t,state:s,unstable_onError:r}){return rx(a,void 0,s,r,t)}function Rd({to:a,replace:t,state:s,relative:r}){Pe(li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(rn);sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(ln),{pathname:u}=ga(),m=oi(),g=mh(a,fh(c),u,r==="path"),p=JSON.stringify(g);return k.useEffect(()=>{m(JSON.parse(p),{replace:t,state:s,relative:r})},[m,p,r,t,s]),null}function fn(a){Pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bk({basename:a="/",children:t=null,location:s,navigationType:r="POP",navigator:o,static:c=!1}){Pe(!li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=a.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof s=="string"&&(s=ii(s));let{pathname:g="/",search:p="",hash:y="",state:x=null,key:b="default"}=s,S=k.useMemo(()=>{let j=Ln(g,u);return j==null?null:{location:{pathname:j,search:p,hash:y,state:x,key:b},navigationType:r}},[u,g,p,y,x,b,r]);return sn(S!=null,`<Router basename="${u}"> is not able to match the URL "${g}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(rn.Provider,{value:m},k.createElement(Br.Provider,{children:t,value:S}))}function Vk({children:a,location:t}){return jk(Od(a),t)}function Od(a,t=[]){let s=[];return k.Children.forEach(a,(r,o)=>{if(!k.isValidElement(r))return;let c=[...t,o];if(r.type===k.Fragment){s.push.apply(s,Od(r.props.children,c));return}Pe(r.type===fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Od(r.props.children,c)),s.push(u)}),s}var yo="get",xo="application/x-www-form-urlencoded";function Ro(a){return a!=null&&typeof a.tagName=="string"}function zk(a){return Ro(a)&&a.tagName.toLowerCase()==="button"}function Pk(a){return Ro(a)&&a.tagName.toLowerCase()==="form"}function qk(a){return Ro(a)&&a.tagName.toLowerCase()==="input"}function Hk(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function $k(a,t){return a.button===0&&(!t||t==="_self")&&!Hk(a)}var ro=null;function Gk(){if(ro===null)try{new FormData(document.createElement("form"),0),ro=!1}catch{ro=!0}return ro}var Yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(a){return a!=null&&!Yk.has(a)?(sn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xo}"`),null):a}function Kk(a,t){let s,r,o,c,u;if(Pk(a)){let m=a.getAttribute("action");r=m?Ln(m,t):null,s=a.getAttribute("method")||yo,o=rd(a.getAttribute("enctype"))||xo,c=new FormData(a)}else if(zk(a)||qk(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=a.getAttribute("formaction")||m.getAttribute("action");if(r=g?Ln(g,t):null,s=a.getAttribute("formmethod")||m.getAttribute("method")||yo,o=rd(a.getAttribute("formenctype"))||rd(m.getAttribute("enctype"))||xo,c=new FormData(m,a),!Gk()){let{name:p,type:y,value:x}=a;if(y==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,x)}}else{if(Ro(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=yo,r=null,o=xo,u=a}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xh(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Xk(a,t,s){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&Ln(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function Fk(a,t){if(a.id in t)return t[a.id];try{let s=await import(a.module);return t[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ik(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function Qk(a,t,s){let r=await Promise.all(a.map(async o=>{let c=t.routes[o.route.id];if(c){let u=await Fk(c,s);return u.links?u.links():[]}return[]}));return ej(r.flat(1).filter(Ik).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function up(a,t,s,r,o,c){let u=(g,p)=>s[p]?g.route.id!==s[p].route.id:!0,m=(g,p)=>s[p].pathname!==g.pathname||s[p].route.path?.endsWith("*")&&s[p].params["*"]!==g.params["*"];return c==="assets"?t.filter((g,p)=>u(g,p)||m(g,p)):c==="data"?t.filter((g,p)=>{let y=r.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(u(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let x=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Wk(a,t,{includeHydrateFallback:s}={}){return Zk(a.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Zk(a){return[...new Set(a)]}function Jk(a){let t={},s=Object.keys(a).sort();for(let r of s)t[r]=a[r];return t}function ej(a,t){let s=new Set;return new Set(t),a.reduce((r,o)=>{let c=JSON.stringify(Jk(o));return s.has(c)||(s.add(c),r.push({key:c,link:o})),r},[])}function ox(){let a=k.useContext(ri);return xh(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function tj(){let a=k.useContext(Co);return xh(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var vh=k.createContext(void 0);vh.displayName="FrameworkContext";function cx(){let a=k.useContext(vh);return xh(a,"You must render this element inside a <HydratedRouter> element"),a}function nj(a,t){let s=k.useContext(vh),[r,o]=k.useState(!1),[c,u]=k.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:x}=t,b=k.useRef(null);k.useEffect(()=>{if(a==="render"&&u(!0),a==="viewport"){let T=C=>{C.forEach(O=>{u(O.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[a]),k.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let S=()=>{o(!0)},j=()=>{o(!1),u(!1)};return s?a!=="intent"?[c,b,{}]:[c,b,{onFocus:yr(m,S),onBlur:yr(g,j),onMouseEnter:yr(p,S),onMouseLeave:yr(y,j),onTouchStart:yr(x,S)}]:[!1,b,{}]}function yr(a,t){return s=>{a&&a(s),s.defaultPrevented||t(s)}}function aj({page:a,...t}){let{router:s}=ox(),r=k.useMemo(()=>Jy(s.routes,a,s.basename),[s.routes,a,s.basename]);return r?k.createElement(ij,{page:a,matches:r,...t}):null}function sj(a){let{manifest:t,routeModules:s}=cx(),[r,o]=k.useState([]);return k.useEffect(()=>{let c=!1;return Qk(a,t,s).then(u=>{c||o(u)}),()=>{c=!0}},[a,t,s]),r}function ij({page:a,matches:t,...s}){let r=ga(),{manifest:o,routeModules:c}=cx(),{basename:u}=ox(),{loaderData:m,matches:g}=tj(),p=k.useMemo(()=>up(a,t,g,o,r,"data"),[a,t,g,o,r]),y=k.useMemo(()=>up(a,t,g,o,r,"assets"),[a,t,g,o,r]),x=k.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let j=new Set,T=!1;if(t.forEach(C=>{let O=o.routes[C.route.id];!O||!O.hasLoader||(!p.some(D=>D.route.id===C.route.id)&&C.route.id in m&&c[C.route.id]?.shouldRevalidate||O.hasClientLoader?T=!0:j.add(C.route.id))}),j.size===0)return[];let N=Xk(a,u,"data");return T&&j.size>0&&N.searchParams.set("_routes",t.filter(C=>j.has(C.route.id)).map(C=>C.route.id).join(",")),[N.pathname+N.search]},[u,m,r,o,p,t,a,c]),b=k.useMemo(()=>Wk(y,o),[y,o]),S=sj(y);return k.createElement(k.Fragment,null,x.map(j=>k.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),b.map(j=>k.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),S.map(({key:j,link:T})=>k.createElement("link",{key:j,nonce:s.nonce,...T})))}function rj(...a){return t=>{a.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var ux=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ux&&(window.__reactRouterVersion="7.9.0")}catch{}function lj({basename:a,children:t,window:s}){let r=k.useRef();r.current==null&&(r.current=FS({window:s,v5Compat:!0}));let o=r.current,[c,u]=k.useState({action:o.action,location:o.location}),m=k.useCallback(g=>{k.startTransition(()=>u(g))},[u]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(Bk,{basename:a,children:t,location:c.location,navigationType:c.action,navigator:o})}var dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=k.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:p,preventScrollReset:y,viewTransition:x,...b},S){let{basename:j}=k.useContext(rn),T=typeof p=="string"&&dx.test(p),N,C=!1;if(typeof p=="string"&&T&&(N=p,ux))try{let J=new URL(window.location.href),ie=p.startsWith("//")?new URL(J.protocol+p):new URL(p),Se=Ln(ie.pathname,j);ie.origin===J.origin&&Se!=null?p=Se+ie.search+ie.hash:C=!0}catch{sn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=wk(p,{relative:o}),[D,Y,B]=nj(r,b),M=uj(p,{replace:u,state:m,target:g,preventScrollReset:y,relative:o,viewTransition:x});function P(J){t&&t(J),J.defaultPrevented||M(J)}let F=k.createElement("a",{...b,...B,href:N||O,onClick:C||c?t:P,ref:rj(S,Y),target:g,"data-discover":!T&&s==="render"?"true":void 0});return D&&!T?k.createElement(k.Fragment,null,F,k.createElement(aj,{page:O})):F});hx.displayName="Link";var fx=k.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...p},y){let x=Vr(u,{relative:p.relative}),b=ga(),S=k.useContext(Co),{navigator:j,basename:T}=k.useContext(rn),N=S!=null&&gj(x)&&m===!0,C=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,O=b.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(O=O.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&T&&(D=Ln(D,T)||D);const Y=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let B=O===C||!o&&O.startsWith(C)&&O.charAt(Y)==="/",M=D!=null&&(D===C||!o&&D.startsWith(C)&&D.charAt(C.length)==="/"),P={isActive:B,isPending:M,isTransitioning:N},F=B?t:void 0,J;typeof r=="function"?J=r(P):J=[r,B?"active":null,M?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let ie=typeof c=="function"?c(P):c;return k.createElement(hx,{...p,"aria-current":F,className:J,ref:y,style:ie,to:u,viewTransition:m},typeof g=="function"?g(P):g)});fx.displayName="NavLink";var oj=k.forwardRef(({discover:a="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:o,state:c,method:u=yo,action:m,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:x,...b},S)=>{let j=fj(),T=mj(m,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",C=typeof m=="string"&&dx.test(m),O=D=>{if(g&&g(D),D.defaultPrevented)return;D.preventDefault();let Y=D.nativeEvent.submitter,B=Y?.getAttribute("formmethod")||u;j(Y||D.currentTarget,{fetcherKey:t,method:B,navigate:s,replace:o,state:c,relative:p,preventScrollReset:y,viewTransition:x})};return k.createElement("form",{ref:S,method:N,action:T,onSubmit:r?g:O,...b,"data-discover":!C&&a==="render"?"true":void 0})});oj.displayName="Form";function cj(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(a){let t=k.useContext(ri);return Pe(t,cj(a)),t}function uj(a,{target:t,replace:s,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=oi(),g=ga(),p=Vr(a,{relative:c});return k.useCallback(y=>{if($k(y,t)){y.preventDefault();let x=s!==void 0?s:Ar(g)===Ar(p);m(a,{replace:x,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[g,m,p,s,r,t,a,o,c,u])}var dj=0,hj=()=>`__${String(++dj)}__`;function fj(){let{router:a}=mx("useSubmit"),{basename:t}=k.useContext(rn),s=Ok();return k.useCallback(async(r,o={})=>{let{action:c,method:u,encType:m,formData:g,body:p}=Kk(r,t);if(o.navigate===!1){let y=o.fetcherKey||hj();await a.fetch(y,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,t,s])}function mj(a,{relative:t}={}){let{basename:s}=k.useContext(rn),r=k.useContext(ln);Pe(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Vr(a||".",{relative:t})},u=ga();if(a==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(x=>x).forEach(x=>m.append("index",x));let y=m.toString();c.search=y?`?${y}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:Un([s,c.pathname])),Ar(c)}function gj(a,{relative:t}={}){let s=k.useContext(ax);Pe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mx("useViewTransitionState"),o=Vr(a,{relative:t});if(!s.isTransitioning)return!1;let c=Ln(s.currentLocation.pathname,r)||s.currentLocation.pathname,u=Ln(s.nextLocation.pathname,r)||s.nextLocation.pathname;return ko(o.pathname,u)!=null||ko(o.pathname,c)!=null}const pj="modulepreload",yj=function(a){return"/sippy/"+a},dp={},zr=function(t,s,r){let o=Promise.resolve();if(s&&s.length>0){let p=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=p;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=p(s.map(y=>{if(y=yj(y),y in dp)return;dp[y]=!0;const x=y.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":pj,x||(S.as="script"),S.crossOrigin="",S.href=y,g&&S.setAttribute("nonce",g),document.head.appendChild(S),x)return new Promise((j,T)=>{S.addEventListener("load",j),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return o.then(m=>{for(const g of m||[])g.status==="rejected"&&c(g.reason);return t().catch(c)})},xj=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>ci);return{default:r}},[]).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class bh extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class vj extends bh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hp extends bh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fp extends bh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Md;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Md||(Md={}));var bj=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};class wj{constructor(t,{headers:s={},customFetch:r,region:o=Md.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=xj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return bj(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=s;let m={},{region:g}=s;g||(g=this.region);const p=new URL(`${this.url}/${t}`);g&&g!=="any"&&(m["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(m["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(m["Content-Type"]="application/json",y=JSON.stringify(u)));const x=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:y}).catch(T=>{throw new vj(T)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new hp(x);if(!x.ok)throw new fp(x);let S=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return S==="application/json"?j=yield x.json():S==="application/octet-stream"?j=yield x.blob():S==="text/event-stream"?j=x:S==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof fp||o instanceof hp?o.context:void 0}}})}}var ot={},Ls={},Bs={},Vs={},zs={},Ps={},Sj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ti=Sj();const kj=ti.fetch,gx=ti.fetch.bind(ti),px=ti.Headers,jj=ti.Request,_j=ti.Response,ci=Object.freeze(Object.defineProperty({__proto__:null,Headers:px,Request:jj,Response:_j,default:gx,fetch:kj},Symbol.toStringTag,{value:"Module"})),Tj=BS(ci);var lo={},mp;function yx(){if(mp)return lo;mp=1,Object.defineProperty(lo,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return lo.default=a,lo}var gp;function xx(){if(gp)return Ps;gp=1;var a=Ps&&Ps.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ps,"__esModule",{value:!0});const t=a(Tj),s=a(yx());class r{constructor(c){var u,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,x,b,S;let j=null,T=null,N=null,C=p.status,O=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?T=M:T=JSON.parse(M))}const Y=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");Y&&B&&B.length>1&&(N=parseInt(B[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(j={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,N=null,C=406,O="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const Y=await p.text();try{j=JSON.parse(Y),Array.isArray(j)&&p.status===404&&(T=[],j=null,C=200,O="OK")}catch{p.status===404&&Y===""?(C=204,O="No Content"):j={message:Y}}if(j&&this.isMaybeSingle&&(!((S=j?.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,C=200,O="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:T,count:N,status:C,statusText:O}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,x,b;return{error:{message:`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,details:`${(x=p?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=p?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,u)}returns(){return this}overrideTypes(){return this}}return Ps.default=r,Ps}var pp;function vx(){if(pp)return zs;pp=1;var a=zs&&zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zs,"__esModule",{value:!0});const t=a(xx());class s extends t.default{select(o){let c=!1;const u=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const m=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:m=u}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const x=[o?"analyze":null,c?"verbose":null,u?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${x};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return zs.default=s,zs}var yp;function wh(){if(yp)return Vs;yp=1;var a=Vs&&Vs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vs,"__esModule",{value:!0});const t=a(vx());class s extends t.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${g}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const m=u?`${u}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Vs.default=s,Vs}var xp;function bx(){if(xp)return Bs;xp=1;var a=Bs&&Bs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bs,"__esModule",{value:!0});const t=a(wh());class s{constructor(o,{headers:c={},schema:u,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=u,this.fetch=m}select(o,{head:c=!1,count:u}={}){const m=c?"HEAD":"GET";let g=!1;const p=(o??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",p),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:u=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(p.length>0){const y=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const x=o.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(x.length>0){const b=[...new Set(x)].map(S=>`"${S}"`);this.url.searchParams.set("columns",b.join(","))}}return new t.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:c}={}){var u;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:o}={}){var c;const u="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Bs.default=s,Bs}var vp;function Nj(){if(vp)return Ls;vp=1;var a=Ls&&Ls.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ls,"__esModule",{value:!0});const t=a(bx()),s=a(wh());class r{constructor(c,{headers:u={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(u),this.schemaName=m,this.fetch=g}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:m=!1,get:g=!1,count:p}={}){var y;let x;const b=new URL(`${this.url}/rpc/${c}`);let S;m||g?(x=m?"HEAD":"GET",Object.entries(u).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{b.searchParams.append(T,N)})):(x="POST",S=u);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new s.default({method:x,url:b,headers:j,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Ls.default=r,Ls}var bp;function Ej(){if(bp)return ot;bp=1;var a=ot&&ot.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ot,"__esModule",{value:!0}),ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const t=a(Nj());ot.PostgrestClient=t.default;const s=a(bx());ot.PostgrestQueryBuilder=s.default;const r=a(wh());ot.PostgrestFilterBuilder=r.default;const o=a(vx());ot.PostgrestTransformBuilder=o.default;const c=a(xx());ot.PostgrestBuilder=c.default;const u=a(yx());return ot.PostgrestError=u.default,ot.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},ot}var Aj=Ej();const Dj=LS(Aj),{PostgrestClient:Cj,PostgrestQueryBuilder:ZA,PostgrestFilterBuilder:JA,PostgrestTransformBuilder:eD,PostgrestBuilder:tD,PostgrestError:nD}=Dj;class Rj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Oj="2.15.5",Mj=`realtime-js/${Oj}`,Uj="1.0.0",Ud=1e4,Lj=1e3,Bj=100;var wr;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(wr||(wr={}));var nt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(nt||(nt={}));var an;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(an||(an={}));var Ld;(function(a){a.websocket="websocket"})(Ld||(Ld={}));var Ga;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ga||(Ga={}));class Vj{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const o=s.getUint8(1),c=s.getUint8(2);let u=this.HEADER_LENGTH+2;const m=r.decode(t.slice(u,u+o));u=u+o;const g=r.decode(t.slice(u,u+c));u=u+c;const p=JSON.parse(r.decode(t.slice(u,t.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class wx{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const wp=(a,t,s={})=>{var r;const o=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((c,u)=>(c[u]=zj(u,a,t,o),c),{})},zj=(a,t,s,r)=>{const o=t.find(m=>m.name===a),c=o?.type,u=s[a];return c&&!r.includes(c)?Sx(c,u):Bd(u)},Sx=(a,t)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return $j(t,s)}switch(a){case Le.bool:return Pj(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return qj(t);case Le.json:case Le.jsonb:return Hj(t);case Le.timestamp:return Gj(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Bd(t);default:return Bd(t)}},Bd=a=>a,Pj=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},qj=a=>{if(typeof a=="string"){const t=parseFloat(a);if(!Number.isNaN(t))return t}return a},Hj=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(t){return console.log(`JSON parse error: ${t}`),a}return a},$j=(a,t)=>{if(typeof a!="string")return a;const s=a.length-1,r=a[s];if(a[0]==="{"&&r==="}"){let c;const u=a.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(m=>Sx(t,m))}return a},Gj=a=>typeof a=="string"?a.replace(" ","T"):a,kx=a=>{let t=a;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ld{constructor(t,s,r={},o=Ud){this.channel=t,this.event=s,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sp;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Sp||(Sp={}));class Sr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sr.syncState(this.state,o,c,u),this.pendingDiffs.forEach(g=>{this.state=Sr.syncDiff(this.state,g,c,u)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Sr.syncDiff(this.state,o,c,u),m())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,o){const c=this.cloneDeep(t),u=this.transformState(s),m={},g={};return this.map(c,(p,y)=>{u[p]||(g[p]=y)}),this.map(u,(p,y)=>{const x=c[p];if(x){const b=y.map(N=>N.presence_ref),S=x.map(N=>N.presence_ref),j=y.filter(N=>S.indexOf(N.presence_ref)<0),T=x.filter(N=>b.indexOf(N.presence_ref)<0);j.length>0&&(m[p]=j),T.length>0&&(g[p]=T)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:g},r,o)}static syncDiff(t,s,r,o){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var p;const y=(p=t[m])!==null&&p!==void 0?p:[];if(t[m]=this.cloneDeep(g),y.length>0){const x=t[m].map(S=>S.presence_ref),b=y.filter(S=>x.indexOf(S.presence_ref)<0);t[m].unshift(...b)}r(m,y,g)}),this.map(u,(m,g)=>{let p=t[m];if(!p)return;const y=g.map(x=>x.presence_ref);p=p.filter(x=>y.indexOf(x.presence_ref)<0),t[m]=p,o(m,p,g),p.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const o=t[r];return"metas"in o?s[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kp;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(kp||(kp={}));var kr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(kr||(kr={}));var Mn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Sh{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ld(this,an.join,this.params,this.timeout),this.rejoinTimer=new wx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(an.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Sr(this),this.broadcastEndpointURL=kx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:u,presence:m,private:g}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[kr.PRESENCE]&&this.bindings[kr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},b={broadcast:u,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(Mn.CHANNEL_ERROR,S)),this._onClose(()=>t?.(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){t?.(Mn.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,N=(j=T?.length)!==null&&j!==void 0?j:0,C=[];for(let O=0;O<N;O++){const D=T[O],{filter:{event:Y,schema:B,table:M,filter:P}}=D,F=S&&S[O];if(F&&F.event===Y&&F.schema===B&&F.table===M&&F.filter===P)C.push(Object.assign(Object.assign({},D),{id:F.id}));else{this.unsubscribe(),this.state=nt.errored,t?.(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Mn.SUBSCRIBED);return}}).receive("error",S=>{this.state=nt.errored,t?.(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===nt.joined&&t===kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,s,r)}async send(t,s={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,m,g;const p=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(m=(u=this.params)===null||u===void 0?void 0:u.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(an.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ld(this,an.leave,{},t),r.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),u}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ld(this,t,s,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Bj){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var o,c;const u=t.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=an;if(r&&[m,g,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,s,r);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var j,T,N;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(T=S.filter)===null||T===void 0?void 0:T.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(S=>S.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var j,T,N,C,O,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const Y=S.id,B=(j=S.filter)===null||j===void 0?void 0:j.event;return Y&&((T=s.ids)===null||T===void 0?void 0:T.includes(Y))&&(B==="*"||B?.toLocaleLowerCase()===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const Y=(O=(C=S?.filter)===null||C===void 0?void 0:C.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return Y==="*"||Y===((D=s?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:T,table:N,commit_timestamp:C,type:O,errors:D}=j;b=Object.assign(Object.assign({},{schema:T,table:N,commit_timestamp:C,eventType:O,new:{},old:{},errors:D}),this._getPayloadRecords(j))}S.callback(b,r)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const o=t.toLocaleLowerCase(),c={type:o,filter:s,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Sh.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(an.close,{},t)}_onError(t){this._on(an.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=wp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=wp(t.columns,t.old_record)),s}}const od=()=>{},oo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yj=[1e3,2e3,5e3,1e4],Kj=1e4,Xj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fj{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ud,this.transport=null,this.heartbeatIntervalMs=oo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=od,this.ref=0,this.reconnectTimer=null,this.logger=od,this.conn=null,this.sendBuffer=[],this.serializer=new Vj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>zr(async()=>{const{default:m}=await Promise.resolve().then(()=>ci);return{default:m}},void 0).then(({default:m})=>m(...u)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Ld.websocket}`,this.httpEndpoint=kx(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Uj}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case wr.connecting:return Ga.Connecting;case wr.open:return Ga.Open;case wr.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new Sh(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:r,payload:o,ref:c}=t,u=()=>{this.encode(t,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Lj,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},oo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:c,ref:u}=s,m=u?`(${u})`:"",g=c.status||"";this.log("receive",`${g} ${r} ${o} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,c,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(an.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${r}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([Xj],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s;t?s=t:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const o={access_token:s,version:Mj};s&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(an.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new wx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},oo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,o,c,u,m,g,p,y;if(this.transport=(s=t?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ud,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:oo.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(m=t?.heartbeatCallback)!==null&&m!==void 0?m:od,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(x=>Yj[x-1]||Kj),this.encode=(p=t?.encode)!==null&&p!==void 0?p:((x,b)=>b(JSON.stringify(x))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class kh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function at(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Ij extends kh{constructor(t,s,r){super(t),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vd extends kh{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Qj=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};const jx=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>ci);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Wj=()=>Qj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zr(()=>Promise.resolve().then(()=>ci),void 0)).Response:Response}),zd=a=>{if(Array.isArray(a))return a.map(s=>zd(s));if(typeof a=="function"||a!==Object(a))return a;const t={};return Object.entries(a).forEach(([s,r])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=zd(r)}),t},Zj=a=>{if(typeof a!="object"||a===null)return!1;const t=Object.getPrototypeOf(a);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var Ia=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};const cd=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Jj=(a,t,s)=>Ia(void 0,void 0,void 0,function*(){const r=yield Wj();a instanceof r&&!s?.noResolveJson?a.json().then(o=>{const c=a.status||500,u=o?.statusCode||c+"";t(new Ij(cd(o),c,u))}).catch(o=>{t(new Vd(cd(o),o))}):t(new Vd(cd(a),a))}),e_=(a,t,s,r)=>{const o={method:a,headers:t?.headers||{}};return a==="GET"||!r?o:(Zj(r)?(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(r)):o.body=r,t?.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),s))};function Pr(a,t,s,r,o,c){return Ia(this,void 0,void 0,function*(){return new Promise((u,m)=>{a(s,e_(t,r,o,c)).then(g=>{if(!g.ok)throw g;return r?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>Jj(g,m,r))})})}function jo(a,t,s,r){return Ia(this,void 0,void 0,function*(){return Pr(a,"GET",t,s,r)})}function mn(a,t,s,r,o){return Ia(this,void 0,void 0,function*(){return Pr(a,"POST",t,r,o,s)})}function Pd(a,t,s,r,o){return Ia(this,void 0,void 0,function*(){return Pr(a,"PUT",t,r,o,s)})}function t_(a,t,s,r){return Ia(this,void 0,void 0,function*(){return Pr(a,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function _x(a,t,s,r,o){return Ia(this,void 0,void 0,function*(){return Pr(a,"DELETE",t,r,o,s)})}var St=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};const n_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a_{constructor(t,s={},r,o){this.shouldThrowOnError=!1,this.url=t,this.headers=s,this.bucketId=r,this.fetch=jx(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,s,r,o){return St(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},jp),o);let m=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=r,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(s),y=this._getFinalPath(p),x=yield(t=="PUT"?Pd:mn)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(at(c))return{data:null,error:c};throw c}})}upload(t,s,r){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,o){return St(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${u}`);m.searchParams.set("token",s);try{let g;const p=Object.assign({upsert:jp.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const x=yield Pd(this.fetch,m.toString(),g,{headers:y});return{data:{path:c,fullPath:x.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(at(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(t,s){return St(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const c=yield mn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+c.url),m=u.searchParams.get("token");if(!m)throw new kh("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}update(t,s,r){return St(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return St(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}copy(t,s,r){return St(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}createSignedUrl(t,s,r){return St(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),c=yield mn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}createSignedUrls(t,s,r){return St(this,void 0,void 0,function*(){try{const o=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}download(t,s){return St(this,void 0,void 0,function*(){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),u=c?`?${c}`:"";try{const m=this._getFinalPath(t);return{data:yield(yield jo(this.fetch,`${this.url}/${o}/${m}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(at(m))return{data:null,error:m};throw m}})}info(t){return St(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield jo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:zd(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}exists(t){return St(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield t_(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r)&&r instanceof Vd){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),o=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${p}`)}}}remove(t){return St(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}list(t,s,r){return St(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},n_),s),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(at(o))return{data:null,error:o};throw o}})}listV2(t,s){return St(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const s_="2.12.1",i_={"X-Client-Info":`storage-js/${s_}`};var qs=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};class r_{constructor(t,s={},r,o){this.shouldThrowOnError=!1;const c=new URL(t);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},i_),s),this.fetch=jx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return qs(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(at(t))return{data:null,error:t};throw t}})}getBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return qs(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return qs(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}deleteBucket(t){return qs(this,void 0,void 0,function*(){try{return{data:yield _x(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(at(s))return{data:null,error:s};throw s}})}}class l_ extends r_{constructor(t,s={},r,o){super(t,s,r,o)}from(t){return new a_(this.url,this.headers,t,this.fetch)}}const o_="2.57.4";let vr="";typeof Deno<"u"?vr="deno":typeof document<"u"?vr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vr="react-native":vr="node";const c_={"X-Client-Info":`supabase-js-${vr}/${o_}`},u_={headers:c_},d_={schema:"public"},h_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},f_={};var m_=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};const g_=a=>{let t;return a?t=a:typeof fetch>"u"?t=gx:t=fetch,(...s)=>t(...s)},p_=()=>typeof Headers>"u"?px:Headers,y_=(a,t,s)=>{const r=g_(s),o=p_();return(c,u)=>m_(void 0,void 0,void 0,function*(){var m;const g=(m=yield t())!==null&&m!==void 0?m:a;let p=new o(u?.headers);return p.has("apikey")||p.set("apikey",a),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(c,Object.assign(Object.assign({},u),{headers:p}))})};var x_=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};function v_(a){return a.endsWith("/")?a:a+"/"}function b_(a,t){var s,r;const{db:o,auth:c,realtime:u,global:m}=a,{db:g,auth:p,realtime:y,global:x}=t,b={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),m),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(r=m?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>x_(this,void 0,void 0,function*(){return""})};return a.accessToken?b.accessToken=a.accessToken:delete b.accessToken,b}function w_(a){const t=a?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tx="2.71.1",Xs=30*1e3,qd=3,ud=qd*Xs,S_="http://localhost:9999",k_="supabase.auth.token",j_={"X-Client-Info":`gotrue-js/${Tx}`},Hd="X-Supabase-Api-Version",Nx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},__=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T_=600*1e3;class jh extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function he(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class N_ extends jh{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function E_(a){return he(a)&&a.name==="AuthApiError"}class Ex extends jh{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class pa extends jh{constructor(t,s,r,o){super(t,r,o),this.name=s,this.status=r}}class ua extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A_(a){return he(a)&&a.name==="AuthSessionMissingError"}class co extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uo extends pa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ho extends pa{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D_(a){return he(a)&&a.name==="AuthImplicitGrantRedirectError"}class _p extends pa{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $d extends pa{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function dd(a){return he(a)&&a.name==="AuthRetryableFetchError"}class Tp extends pa{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Gd extends pa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Np=` 	
\r=`.split(""),C_=(()=>{const a=new Array(128);for(let t=0;t<a.length;t+=1)a[t]=-1;for(let t=0;t<Np.length;t+=1)a[Np[t].charCodeAt(0)]=-2;for(let t=0;t<_o.length;t+=1)a[_o[t].charCodeAt(0)]=t;return a})();function Ep(a,t,s){if(a!==null)for(t.queue=t.queue<<8|a,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(_o[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(_o[r]),t.queuedBits-=6}}function Ax(a,t,s){const r=C_[a];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Ap(a){const t=[],s=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{M_(u,r,s)};for(let u=0;u<a.length;u+=1)Ax(a.charCodeAt(u),o,c);return t.join("")}function R_(a,t){if(a<=127){t(a);return}else if(a<=2047){t(192|a>>6),t(128|a&63);return}else if(a<=65535){t(224|a>>12),t(128|a>>6&63),t(128|a&63);return}else if(a<=1114111){t(240|a>>18),t(128|a>>12&63),t(128|a>>6&63),t(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function O_(a,t){for(let s=0;s<a.length;s+=1){let r=a.charCodeAt(s);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(a.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}R_(r,t)}}function M_(a,t,s){if(t.utf8seq===0){if(a<=127){s(a);return}for(let r=1;r<6;r+=1)if((a>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=a&31;else if(t.utf8seq===3)t.codepoint=a&15;else if(t.utf8seq===4)t.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|a&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function U_(a){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<a.length;o+=1)Ax(a.charCodeAt(o),s,r);return new Uint8Array(t)}function L_(a){const t=[];return O_(a,s=>t.push(s)),new Uint8Array(t)}function B_(a){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};return a.forEach(o=>Ep(o,s,r)),Ep(null,s,r),t.join("")}function V_(a){return Math.round(Date.now()/1e3)+a}function z_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const t=Math.random()*16|0;return(a=="x"?t:t&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},Dx=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function P_(a){const t={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return s.searchParams.forEach((r,o)=>{t[o]=r}),t}const Cx=a=>{let t;return a?t=a:typeof fetch>"u"?t=(...s)=>zr(async()=>{const{default:r}=await Promise.resolve().then(()=>ci);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},q_=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Fs=async(a,t,s)=>{await a.setItem(t,JSON.stringify(s))},Pa=async(a,t)=>{const s=await a.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ca=async(a,t)=>{await a.removeItem(t)};class Oo{constructor(){this.promise=new Oo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Oo.promiseConstructor=Promise;function hd(a){const t=a.split(".");if(t.length!==3)throw new Gd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!__.test(t[r]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(Ap(t[0])),payload:JSON.parse(Ap(t[1])),signature:U_(t[2]),raw:{header:t[0],payload:t[1]}}}async function H_(a){return await new Promise(t=>{setTimeout(()=>t(null),a)})}function $_(a,t){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await a(c);if(!t(c,null,u)){r(u);return}}catch(u){if(!t(c,u)){o(u);return}}})()})}function G_(a){return("0"+a.toString(16)).substr(-2)}function Y_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,G_).join("")}async function K_(a){const s=new TextEncoder().encode(a),r=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function X_(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await K_(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hs(a,t,s=!1){const r=Y_();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await Fs(a,`${t}-code-verifier`,o);const c=await X_(r);return[c,r===c?"plain":"s256"]}const F_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I_(a){const t=a.headers.get(Hd);if(!t||!t.match(F_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Q_(a){if(!a)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(a<=t)throw new Error("JWT has expired")}function W_(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $s(a){if(!Z_.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fd(){const a={};return new Proxy(a,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dp(a){return JSON.parse(JSON.stringify(a))}var J_=function(a,t){var s={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(s[r[o]]=a[r[o]]);return s};const Ha=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),e1=[502,503,504];async function Cp(a){var t;if(!q_(a))throw new $d(Ha(a),0);if(e1.includes(a.status))throw new $d(Ha(a),a.status);let s;try{s=await a.json()}catch(c){throw new Ex(Ha(c),c)}let r;const o=I_(a);if(o&&o.getTime()>=Nx["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Tp(Ha(s),a.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ua}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Tp(Ha(s),a.status,s.weak_password.reasons);throw new N_(Ha(s),a.status||500,r)}const t1=(a,t,s,r)=>{const o={method:a,headers:t?.headers||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))};async function be(a,t,s,r){var o;const c=Object.assign({},r?.headers);c[Hd]||(c[Hd]=Nx["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const m=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await n1(a,t,s+m,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(g):{data:Object.assign({},g),error:null}}async function n1(a,t,s,r,o,c){const u=t1(t,r,o,c);let m;try{m=await a(s,Object.assign({},u))}catch(g){throw console.error(g),new $d(Ha(g),0)}if(m.ok||await Cp(m),r?.noResolveJson)return m;try{return await m.json()}catch(g){await Cp(g)}}function On(a){var t;let s=null;r1(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=V_(a.expires_in)));const r=(t=a.user)!==null&&t!==void 0?t:a;return{data:{session:s,user:r},error:null}}function Rp(a){const t=On(a);return!t.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=a.weak_password),t}function ha(a){var t;return{data:{user:(t=a.user)!==null&&t!==void 0?t:a},error:null}}function a1(a){return{data:a,error:null}}function s1(a){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:c}=a,u=J_(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:c},g=Object.assign({},u);return{data:{properties:m,user:g},error:null}}function i1(a){return a}function r1(a){return a.access_token&&a.refresh_token&&a.expires_in}const md=["global","local","others"];var l1=function(a,t){var s={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&t.indexOf(r)<0&&(s[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(a);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(a,r[o])&&(s[r[o]]=a[r[o]]);return s};class o1{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Cx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s=md[0]){if(md.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ha})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=l1(t,["options"]),o=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:s1,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ha})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,o,c,u,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:i1});if(y.error)throw y.error;const x=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);p[`${N}Page`]=T}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(he(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){$s(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ha})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){$s(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:ha})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){$s(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:ha})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){$s(t.userId);try{const{data:s,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:r}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(t){$s(t.userId),$s(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Op(a={}){return{getItem:t=>a[t]||null,setItem:(t,s)=>{a[t]=s},removeItem:t=>{delete a[t]}}}function c1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&Dx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class u1 extends Rx{}async function d1(a,t,s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await s()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(t===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new u1(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Gs.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}c1();const h1={url:S_,storageKey:k_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mp(a,t,s){return await s()}const Ys={};class Dr{constructor(t){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dr.nextInstanceID,Dr.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},h1),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new o1({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Cx(o.fetch),this.lock=o.lock||Mp,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:tn()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=d1:this.lock=Mp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Dx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Op(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Op(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,s;return(s=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Ys[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ys[this.storageKey]=Object.assign(Object.assign({},Ys[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tx}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=P_(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),tn()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),D_(c)){const g=(t=c.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",m),await this._saveSession(u),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new Ex("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,o;try{const c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:On}),{data:u,error:m}=c;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var s,r,o;try{let c;if("email"in t){const{email:y,password:x,options:b}=t;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Hs(this.storage,this.storageKey)),c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:x,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:j},xform:On})}else if("phone"in t){const{phone:y,password:x,options:b}=t;c=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:On})}else throw new uo("You must provide either an email or phone number and a password");const{data:u,error:m}=c;if(m||!u)return{data:{user:null,session:null},error:m};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:u,options:m}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Rp})}else if("phone"in t){const{phone:c,password:u,options:m}=t;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Rp})}else throw new uo("You must provide either an email or phone number and a password");const{data:r,error:o}=s;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new co}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;if(s==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(t){var s,r,o,c,u,m,g,p,y,x,b,S;let j,T;if("message"in t)j=t.message,T=t.signature;else{const{chain:N,wallet:C,statement:O,options:D}=t;let Y;if(tn())if(typeof C=="object")Y=C;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))Y=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=C}const B=new URL((s=D?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Y&&Y.signIn){const M=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),O?{statement:O}:null));let P;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")P=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)P=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)j=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),T=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${B.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(o=(r=D?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=D?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((x=(y=D?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...D.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const M=await Y.signMessage(new TextEncoder().encode(j),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=M}}try{const{data:N,error:C}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:B_(T)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:On});if(C)throw C;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new co}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:C})}catch(N){if(he(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const s=await Pa(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(s??"").split("/");try{const{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:On});if(await ca(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(he(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:s,provider:r,token:o,access_token:c,nonce:u}=t,m=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:On}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new co}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,o,c,u;try{if("email"in t){const{email:m,options:g}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Hs(this.storage,this.storageKey));const{error:x}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(r=g?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:m,options:g}=t,{data:p,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:y}}throw new uo("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(t){var s,r;try{let o,c;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:m}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:On});if(m)throw m;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var s,r,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Hs(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:a1})}catch(c){if(he(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new ua;const{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(he(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:c}=t,{error:u}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:r,type:o,options:c}=t,{data:u,error:m}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:m}}throw new uo("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ud:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await Pa(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=fd()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(g,p,y)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:t},error:null}}const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ha}):await this._useSession(async s=>{var r,o,c;const{data:u,error:m}=s;if(m)throw m;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ua}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ha})})}catch(s){if(he(s))return A_(s)&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new ua;const u=o.session;let m=null,g=null;this.flowType==="pkce"&&t.email!=null&&([m,g]=await Hs(this.storage,this.storageKey));const{data:p,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:g}),jwt:u.access_token,xform:ha});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(he(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ua;const s=Date.now()/1e3;let r=s,o=!0,c=null;const{payload:u}=hd(t.access_token);if(u.exp&&(r=u.exp,o=r<=s),o){const{session:m,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(t.access_token);if(g)throw g;c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:u,error:m}=s;if(m)throw m;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new ua;const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!tn())throw new ho("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ho(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new _p("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _p("No code detected.");const{data:O,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:m,expires_at:g,token_type:p}=t;if(!c||!m||!u||!p)throw new ho("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(m);let b=y+x;g&&(b=parseInt(g));const S=b-y;S*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const j=b-x;y-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,y):y-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,y);const{data:T,error:N}=await this._getUser(c);if(N)throw N;const C={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:x,expires_at:b,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(he(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:o,error:c}=s;if(c)return{error:c};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:m}=await this.admin.signOut(u,t);if(m&&!(E_(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return t!=="others"&&(await this._removeSession(),await ca(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=z_(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,o;try{const{data:{session:c},error:u}=s;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Hs(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(he(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:o}=await this._useSession(async c=>{var u,m,g,p,y;const{data:x,error:b}=c;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return tn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(he(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,o;const{data:c,error:u}=s;if(u)throw u;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await $_(async o=>(o>0&&await H_(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:On})),(o,c)=>{const u=200*Math.pow(2,o);return c&&dd(c)&&Date.now()+u-r<Xs})}catch(r){if(this._debug(s,"error",r),he(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),tn()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Pa(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Fs(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:fd()}else if(o&&!o.user&&!o.user){const u=await Pa(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await ca(this.storage,this.storageKey+"-user"),await Fs(this.storage,this.storageKey,o)):o.user=fd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ud;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${ud}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),dd(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:m}=await this._getUser(o.access_token);!m&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new ua;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Oo;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new ua;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={session:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),he(c)){const u={session:null,error:c};return dd(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(g){c.push(g)}});if(await Promise.all(u),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Fs(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=Dp(o);await Fs(this.storage,this.storageKey,c)}else{const o=Dp(s);await Fs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ca(this.storage,this.storageKey),await ca(this.storage,this.storageKey+"-code-verifier"),await ca(this.storage,this.storageKey+"-user"),this.userStorage&&await ca(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xs}ms, refresh threshold is ${qd} ticks`),o<=qd&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const o=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await Hs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(m.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;return c?{data:null,error:c}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,o;const{data:c,error:u}=s;if(u)return{data:null,error:u};const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:g,error:p}=await be(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:u,error:m}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:m})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;return c?{data:null,error:c}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=t?.factors||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:o},error:c}=t;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=hd(o.access_token);let m=null;u.aal&&(m=u.aal);let g=m;((r=(s=o.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const y=u.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(m=>m.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===t),r&&this.jwks_cached_at+T_>o)return r;const{data:c,error:u}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(m=>m.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:S,error:j}=await this.getSession();if(j||!S.session)return{data:null,error:j};r=S.session.access_token}const{header:o,payload:c,signature:u,raw:{header:m,payload:g}}=hd(r);s?.allowExpired||Q_(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:o,signature:u},error:null}}const y=W_(o.alg),x=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,L_(`${m}.${g}`)))throw new Gd("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}}}Dr.nextInstanceID=0;const f1=Dr;class m1 extends f1{constructor(t){super(t)}}var g1=function(a,t,s,r){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function m(y){try{p(r.next(y))}catch(x){u(x)}}function g(y){try{p(r.throw(y))}catch(x){u(x)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(a,t||[])).next())})};class p1{constructor(t,s,r){var o,c,u;this.supabaseUrl=t,this.supabaseKey=s;const m=w_(t);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:d_,realtime:f_,auth:Object.assign(Object.assign({},h_),{storageKey:g}),global:u_},y=b_(r??{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=y_(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Cj(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new l_(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new wj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return g1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:o,userStorage:c,storageKey:u,flowType:m,lock:g,debug:p},y,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m1({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),y),storageKey:u,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:o,userStorage:c,flowType:m,lock:g,debug:p,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Fj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y1=(a,t,s)=>new p1(a,t,s);function x1(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const t=a.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}x1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v1="https://hgoofyjweiqecmhnqelr.supabase.co",b1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhnb29meWp3ZWlxZWNtaG5xZWxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc2ODUzOTQsImV4cCI6MjA3MzI2MTM5NH0.T4VHRSEU0pdPFpDlfuMPipUE6RJsJM1gYOZ9nfAdfzI",pe=y1(v1,b1),Ox=k.createContext(void 0),w1=({children:a})=>{const[t,s]=k.useState(null),[r,o]=k.useState(!0);k.useEffect(()=>{const{data:{subscription:p}}=pe.auth.onAuthStateChange(async(y,x)=>{s(x?.user??null),o(!1)});return()=>p.unsubscribe()},[]);const g={user:t,loading:r,signUp:async(p,y,x)=>{const{data:b,error:S}=await pe.auth.signUp({email:p,password:y,options:{data:{username:x}}});return!S&&b.user&&await pe.from("users").upsert({id:b.user.id,username:x,created_at:new Date().toISOString()}),{error:S}},signIn:async(p,y)=>{console.log("Attempting login with:",{email:p});const{data:x,error:b}=await pe.auth.signInWithPassword({email:p,password:y});return console.log("Login response:",{data:x,error:b}),{error:b}},signOut:async()=>{const{error:p}=await pe.auth.signOut();return{error:p}}};return h.jsx(Ox.Provider,{value:g,children:a})},Mx=k.createContext(void 0),S1=({children:a})=>{const[t,s]=k.useState(()=>localStorage.getItem("sippy-theme")||"light");k.useEffect(()=>{localStorage.setItem("sippy-theme",t),t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]);const r=()=>{s(o=>o==="light"?"dark":"light")};return h.jsx(Mx.Provider,{value:{theme:t,toggleTheme:r},children:a})},k1=()=>{const a=k.useContext(Mx);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a},Ct=()=>{const a=k.useContext(Ox);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},Ks=({children:a})=>{const{user:t,loading:s}=Ct();return s?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Caricamento..."})]})}):t?h.jsx(h.Fragment,{children:a}):h.jsx(Rd,{to:"/login",replace:!0})},j1=()=>{const a=[{path:"/dashboard",icon:"",activeIcon:"",label:"Tracker"},{path:"/groups",icon:"",activeIcon:"",label:"Squad"},{path:"/analytics",icon:"",activeIcon:"",label:"Analytics"},{path:"/profile",icon:"",activeIcon:"",label:"Profilo"}];return h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-t border-gray-100 dark:border-gray-700 px-4 py-2 shadow-lg",children:h.jsx("div",{className:"max-w-md mx-auto",children:h.jsx("div",{className:"flex justify-around items-center",children:a.map(t=>h.jsx(fx,{to:t.path,className:({isActive:s})=>`
                flex flex-col items-center py-2 px-3 rounded-2xl transition-all duration-200
                ${s?"text-teal-600 dark:text-teal-400 bg-gradient-to-br from-teal-50 to-orange-50 dark:from-teal-900/30 dark:to-orange-900/30 shadow-sm scale-105":"text-gray-600 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 hover:bg-gray-50 dark:hover:bg-gray-700"}
              `,children:({isActive:s})=>h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-xl mb-1 transition-transform duration-200",children:s?t.activeIcon:t.icon}),h.jsx("span",{className:"text-xs font-semibold",children:t.label})]})},t.path))})})})},_h=k.createContext({});function Th(a){const t=k.useRef(null);return t.current===null&&(t.current=a()),t.current}const Nh=typeof window<"u",Ux=Nh?k.useLayoutEffect:k.useEffect,Mo=k.createContext(null);function Eh(a,t){a.indexOf(t)===-1&&a.push(t)}function Ah(a,t){const s=a.indexOf(t);s>-1&&a.splice(s,1)}const Bn=(a,t,s)=>s>t?t:s<a?a:s;let Dh=()=>{};const Vn={},Lx=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Bx(a){return typeof a=="object"&&a!==null}const Vx=a=>/^0[^.\s]+$/u.test(a);function Ch(a){let t;return()=>(t===void 0&&(t=a()),t)}const Qt=a=>a,_1=(a,t)=>s=>t(a(s)),qr=(...a)=>a.reduce(_1),Cr=(a,t,s)=>{const r=t-a;return r===0?1:(s-a)/r};class Rh{constructor(){this.subscriptions=[]}add(t){return Eh(this.subscriptions,t),()=>Ah(this.subscriptions,t)}notify(t,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,r);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gn=a=>a*1e3,pn=a=>a/1e3;function zx(a,t){return t?a*(1e3/t):0}const Px=(a,t,s)=>(((1-3*s+3*t)*a+(3*s-6*t))*a+3*t)*a,T1=1e-7,N1=12;function E1(a,t,s,r,o){let c,u,m=0;do u=t+(s-t)/2,c=Px(u,r,o)-a,c>0?s=u:t=u;while(Math.abs(c)>T1&&++m<N1);return u}function Hr(a,t,s,r){if(a===t&&s===r)return Qt;const o=c=>E1(c,0,1,a,s);return c=>c===0||c===1?c:Px(o(c),t,r)}const qx=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,Hx=a=>t=>1-a(1-t),$x=Hr(.33,1.53,.69,.99),Oh=Hx($x),Gx=qx(Oh),Yx=a=>(a*=2)<1?.5*Oh(a):.5*(2-Math.pow(2,-10*(a-1))),Mh=a=>1-Math.sin(Math.acos(a)),Kx=Hx(Mh),Xx=qx(Mh),A1=Hr(.42,0,1,1),D1=Hr(0,0,.58,1),Fx=Hr(.42,0,.58,1),C1=a=>Array.isArray(a)&&typeof a[0]!="number",Ix=a=>Array.isArray(a)&&typeof a[0]=="number",R1={linear:Qt,easeIn:A1,easeInOut:Fx,easeOut:D1,circIn:Mh,circInOut:Xx,circOut:Kx,backIn:Oh,backInOut:Gx,backOut:$x,anticipate:Yx},O1=a=>typeof a=="string",Up=a=>{if(Ix(a)){Dh(a.length===4);const[t,s,r,o]=a;return Hr(t,s,r,o)}else if(O1(a))return R1[a];return a},fo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function M1(a,t){let s=new Set,r=new Set,o=!1,c=!1;const u=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function g(y){u.has(y)&&(p.schedule(y),a()),y(m)}const p={schedule:(y,x=!1,b=!1)=>{const j=b&&o?s:r;return x&&u.add(y),j.has(y)||j.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(m=y,o){c=!0;return}o=!0,[s,r]=[r,s],s.forEach(g),s.clear(),o=!1,c&&(c=!1,p.process(y))}};return p}const U1=40;function Qx(a,t){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=fo.reduce((D,Y)=>(D[Y]=M1(c),D),{}),{setup:m,read:g,resolveKeyframes:p,preUpdate:y,update:x,preRender:b,render:S,postRender:j}=u,T=()=>{const D=Vn.useManualTiming?o.timestamp:performance.now();s=!1,Vn.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(D-o.timestamp,U1),1)),o.timestamp=D,o.isProcessing=!0,m.process(o),g.process(o),p.process(o),y.process(o),x.process(o),b.process(o),S.process(o),j.process(o),o.isProcessing=!1,s&&t&&(r=!1,a(T))},N=()=>{s=!0,r=!0,o.isProcessing||a(T)};return{schedule:fo.reduce((D,Y)=>{const B=u[Y];return D[Y]=(M,P=!1,F=!1)=>(s||N(),B.schedule(M,P,F)),D},{}),cancel:D=>{for(let Y=0;Y<fo.length;Y++)u[fo[Y]].cancel(D)},state:o,steps:u}}const{schedule:ze,cancel:fa,state:mt,steps:gd}=Qx(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qt,!0);let vo;function L1(){vo=void 0}const Dt={now:()=>(vo===void 0&&Dt.set(mt.isProcessing||Vn.useManualTiming?mt.timestamp:performance.now()),vo),set:a=>{vo=a,queueMicrotask(L1)}},Wx=a=>t=>typeof t=="string"&&t.startsWith(a),Uh=Wx("--"),B1=Wx("var(--"),Lh=a=>B1(a)?V1.test(a.split("/*")[0].trim()):!1,V1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ui={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Rr={...ui,transform:a=>Bn(0,1,a)},mo={...ui,default:1},jr=a=>Math.round(a*1e5)/1e5,Bh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z1(a){return a==null}const P1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vh=(a,t)=>s=>!!(typeof s=="string"&&P1.test(s)&&s.startsWith(a)||t&&!z1(s)&&Object.prototype.hasOwnProperty.call(s,t)),Zx=(a,t,s)=>r=>{if(typeof r!="string")return r;const[o,c,u,m]=r.match(Bh);return{[a]:parseFloat(o),[t]:parseFloat(c),[s]:parseFloat(u),alpha:m!==void 0?parseFloat(m):1}},q1=a=>Bn(0,255,a),pd={...ui,transform:a=>Math.round(q1(a))},Ya={test:Vh("rgb","red"),parse:Zx("red","green","blue"),transform:({red:a,green:t,blue:s,alpha:r=1})=>"rgba("+pd.transform(a)+", "+pd.transform(t)+", "+pd.transform(s)+", "+jr(Rr.transform(r))+")"};function H1(a){let t="",s="",r="",o="";return a.length>5?(t=a.substring(1,3),s=a.substring(3,5),r=a.substring(5,7),o=a.substring(7,9)):(t=a.substring(1,2),s=a.substring(2,3),r=a.substring(3,4),o=a.substring(4,5),t+=t,s+=s,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Yd={test:Vh("#"),parse:H1,transform:Ya.transform},$r=a=>({test:t=>typeof t=="string"&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),da=$r("deg"),yn=$r("%"),ue=$r("px"),$1=$r("vh"),G1=$r("vw"),Lp={...yn,parse:a=>yn.parse(a)/100,transform:a=>yn.transform(a*100)},Is={test:Vh("hsl","hue"),parse:Zx("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(a)+", "+yn.transform(jr(t))+", "+yn.transform(jr(s))+", "+jr(Rr.transform(r))+")"},Ze={test:a=>Ya.test(a)||Yd.test(a)||Is.test(a),parse:a=>Ya.test(a)?Ya.parse(a):Is.test(a)?Is.parse(a):Yd.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?Ya.transform(a):Is.transform(a),getAnimatableNone:a=>{const t=Ze.parse(a);return t.alpha=0,Ze.transform(t)}},Y1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K1(a){return isNaN(a)&&typeof a=="string"&&(a.match(Bh)?.length||0)+(a.match(Y1)?.length||0)>0}const Jx="number",ev="color",X1="var",F1="var(",Bp="${}",I1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Or(a){const t=a.toString(),s=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(I1,g=>(Ze.test(g)?(r.color.push(c),o.push(ev),s.push(Ze.parse(g))):g.startsWith(F1)?(r.var.push(c),o.push(X1),s.push(g)):(r.number.push(c),o.push(Jx),s.push(parseFloat(g))),++c,Bp)).split(Bp);return{values:s,split:m,indexes:r,types:o}}function tv(a){return Or(a).values}function nv(a){const{split:t,types:s}=Or(a),r=t.length;return o=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],o[u]!==void 0){const m=s[u];m===Jx?c+=jr(o[u]):m===ev?c+=Ze.transform(o[u]):c+=o[u]}return c}}const Q1=a=>typeof a=="number"?0:Ze.test(a)?Ze.getAnimatableNone(a):a;function W1(a){const t=tv(a);return nv(a)(t.map(Q1))}const ma={test:K1,parse:tv,createTransformer:nv,getAnimatableNone:W1};function yd(a,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(t-a)*6*s:s<1/2?t:s<2/3?a+(t-a)*(2/3-s)*6:a}function Z1({hue:a,saturation:t,lightness:s,alpha:r}){a/=360,t/=100,s/=100;let o=0,c=0,u=0;if(!t)o=c=u=s;else{const m=s<.5?s*(1+t):s+t-s*t,g=2*s-m;o=yd(g,m,a+1/3),c=yd(g,m,a),u=yd(g,m,a-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function To(a,t){return s=>s>0?t:a}const He=(a,t,s)=>a+(t-a)*s,xd=(a,t,s)=>{const r=a*a,o=s*(t*t-r)+r;return o<0?0:Math.sqrt(o)},J1=[Yd,Ya,Is],eT=a=>J1.find(t=>t.test(a));function Vp(a){const t=eT(a);if(!t)return!1;let s=t.parse(a);return t===Is&&(s=Z1(s)),s}const zp=(a,t)=>{const s=Vp(a),r=Vp(t);if(!s||!r)return To(a,t);const o={...s};return c=>(o.red=xd(s.red,r.red,c),o.green=xd(s.green,r.green,c),o.blue=xd(s.blue,r.blue,c),o.alpha=He(s.alpha,r.alpha,c),Ya.transform(o))},Kd=new Set(["none","hidden"]);function tT(a,t){return Kd.has(a)?s=>s<=0?a:t:s=>s>=1?t:a}function nT(a,t){return s=>He(a,t,s)}function zh(a){return typeof a=="number"?nT:typeof a=="string"?Lh(a)?To:Ze.test(a)?zp:iT:Array.isArray(a)?av:typeof a=="object"?Ze.test(a)?zp:aT:To}function av(a,t){const s=[...a],r=s.length,o=a.map((c,u)=>zh(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)s[u]=o[u](c);return s}}function aT(a,t){const s={...a,...t},r={};for(const o in s)a[o]!==void 0&&t[o]!==void 0&&(r[o]=zh(a[o])(a[o],t[o]));return o=>{for(const c in r)s[c]=r[c](o);return s}}function sT(a,t){const s=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=a.indexes[c][r[c]],m=a.values[u]??0;s[o]=m,r[c]++}return s}const iT=(a,t)=>{const s=ma.createTransformer(t),r=Or(a),o=Or(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Kd.has(a)&&!o.values.length||Kd.has(t)&&!r.values.length?tT(a,t):qr(av(sT(r,o),o.values),s):To(a,t)};function sv(a,t,s){return typeof a=="number"&&typeof t=="number"&&typeof s=="number"?He(a,t,s):zh(a)(a,t)}const rT=a=>{const t=({timestamp:s})=>a(s);return{start:(s=!0)=>ze.update(t,s),stop:()=>fa(t),now:()=>mt.isProcessing?mt.timestamp:Dt.now()}},iv=(a,t,s=10)=>{let r="";const o=Math.max(Math.round(t/s),2);for(let c=0;c<o;c++)r+=Math.round(a(c/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},No=2e4;function Ph(a){let t=0;const s=50;let r=a.next(t);for(;!r.done&&t<No;)t+=s,r=a.next(t);return t>=No?1/0:t}function lT(a,t=100,s){const r=s({...a,keyframes:[0,t]}),o=Math.min(Ph(r),No);return{type:"keyframes",ease:c=>r.next(o*c).value/t,duration:pn(o)}}const oT=5;function rv(a,t,s){const r=Math.max(t-oT,0);return zx(s-a(r),t-r)}const Ye={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vd=.001;function cT({duration:a=Ye.duration,bounce:t=Ye.bounce,velocity:s=Ye.velocity,mass:r=Ye.mass}){let o,c,u=1-t;u=Bn(Ye.minDamping,Ye.maxDamping,u),a=Bn(Ye.minDuration,Ye.maxDuration,pn(a)),u<1?(o=p=>{const y=p*u,x=y*a,b=y-s,S=Xd(p,u),j=Math.exp(-x);return vd-b/S*j},c=p=>{const x=p*u*a,b=x*s+s,S=Math.pow(u,2)*Math.pow(p,2)*a,j=Math.exp(-x),T=Xd(Math.pow(p,2),u);return(-o(p)+vd>0?-1:1)*((b-S)*j)/T}):(o=p=>{const y=Math.exp(-p*a),x=(p-s)*a+1;return-vd+y*x},c=p=>{const y=Math.exp(-p*a),x=(s-p)*(a*a);return y*x});const m=5/a,g=dT(o,c,m);if(a=gn(a),isNaN(g))return{stiffness:Ye.stiffness,damping:Ye.damping,duration:a};{const p=Math.pow(g,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:a}}}const uT=12;function dT(a,t,s){let r=s;for(let o=1;o<uT;o++)r=r-a(r)/t(r);return r}function Xd(a,t){return a*Math.sqrt(1-t*t)}const hT=["duration","bounce"],fT=["stiffness","damping","mass"];function Pp(a,t){return t.some(s=>a[s]!==void 0)}function mT(a){let t={velocity:Ye.velocity,stiffness:Ye.stiffness,damping:Ye.damping,mass:Ye.mass,isResolvedFromDuration:!1,...a};if(!Pp(a,fT)&&Pp(a,hT))if(a.visualDuration){const s=a.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,c=2*Bn(.05,1,1-(a.bounce||0))*Math.sqrt(o);t={...t,mass:Ye.mass,stiffness:o,damping:c}}else{const s=cT(a);t={...t,...s,mass:Ye.mass},t.isResolvedFromDuration=!0}return t}function Eo(a=Ye.visualDuration,t=Ye.bounce){const s=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:t}:a;let{restSpeed:r,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],m={done:!1,value:c},{stiffness:g,damping:p,mass:y,duration:x,velocity:b,isResolvedFromDuration:S}=mT({...s,velocity:-pn(s.velocity||0)}),j=b||0,T=p/(2*Math.sqrt(g*y)),N=u-c,C=pn(Math.sqrt(g/y)),O=Math.abs(N)<5;r||(r=O?Ye.restSpeed.granular:Ye.restSpeed.default),o||(o=O?Ye.restDelta.granular:Ye.restDelta.default);let D;if(T<1){const B=Xd(C,T);D=M=>{const P=Math.exp(-T*C*M);return u-P*((j+T*C*N)/B*Math.sin(B*M)+N*Math.cos(B*M))}}else if(T===1)D=B=>u-Math.exp(-C*B)*(N+(j+C*N)*B);else{const B=C*Math.sqrt(T*T-1);D=M=>{const P=Math.exp(-T*C*M),F=Math.min(B*M,300);return u-P*((j+T*C*N)*Math.sinh(F)+B*N*Math.cosh(F))/B}}const Y={calculatedDuration:S&&x||null,next:B=>{const M=D(B);if(S)m.done=B>=x;else{let P=B===0?j:0;T<1&&(P=B===0?gn(j):rv(D,B,M));const F=Math.abs(P)<=r,J=Math.abs(u-M)<=o;m.done=F&&J}return m.value=m.done?u:M,m},toString:()=>{const B=Math.min(Ph(Y),No),M=iv(P=>Y.next(B*P).value,B,30);return B+"ms "+M},toTransition:()=>{}};return Y}Eo.applyToOptions=a=>{const t=lT(a,100,Eo);return a.ease=t.ease,a.duration=gn(t.duration),a.type="keyframes",a};function Fd({keyframes:a,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:m,max:g,restDelta:p=.5,restSpeed:y}){const x=a[0],b={done:!1,value:x},S=F=>m!==void 0&&F<m||g!==void 0&&F>g,j=F=>m===void 0?g:g===void 0||Math.abs(m-F)<Math.abs(g-F)?m:g;let T=s*t;const N=x+T,C=u===void 0?N:u(N);C!==N&&(T=C-x);const O=F=>-T*Math.exp(-F/r),D=F=>C+O(F),Y=F=>{const J=O(F),ie=D(F);b.done=Math.abs(J)<=p,b.value=b.done?C:ie};let B,M;const P=F=>{S(b.value)&&(B=F,M=Eo({keyframes:[b.value,j(b.value)],velocity:rv(D,F,b.value),damping:o,stiffness:c,restDelta:p,restSpeed:y}))};return P(0),{calculatedDuration:null,next:F=>{let J=!1;return!M&&B===void 0&&(J=!0,Y(F),P(F)),B!==void 0&&F>=B?M.next(F-B):(!J&&Y(F),b)}}}function gT(a,t,s){const r=[],o=s||Vn.mix||sv,c=a.length-1;for(let u=0;u<c;u++){let m=o(a[u],a[u+1]);if(t){const g=Array.isArray(t)?t[u]||Qt:t;m=qr(g,m)}r.push(m)}return r}function pT(a,t,{clamp:s=!0,ease:r,mixer:o}={}){const c=a.length;if(Dh(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=a[0]===a[1];a[0]>a[c-1]&&(a=[...a].reverse(),t=[...t].reverse());const m=gT(t,r,o),g=m.length,p=y=>{if(u&&y<a[0])return t[0];let x=0;if(g>1)for(;x<a.length-2&&!(y<a[x+1]);x++);const b=Cr(a[x],a[x+1],y);return m[x](b)};return s?y=>p(Bn(a[0],a[c-1],y)):p}function yT(a,t){const s=a[a.length-1];for(let r=1;r<=t;r++){const o=Cr(0,t,r);a.push(He(s,1,o))}}function xT(a){const t=[0];return yT(t,a.length-1),t}function vT(a,t){return a.map(s=>s*t)}function bT(a,t){return a.map(()=>t||Fx).splice(0,a.length-1)}function _r({duration:a=300,keyframes:t,times:s,ease:r="easeInOut"}){const o=C1(r)?r.map(Up):Up(r),c={done:!1,value:t[0]},u=vT(s&&s.length===t.length?s:xT(t),a),m=pT(u,t,{ease:Array.isArray(o)?o:bT(t,o)});return{calculatedDuration:a,next:g=>(c.value=m(g),c.done=g>=a,c)}}const wT=a=>a!==null;function qh(a,{repeat:t,repeatType:s="loop"},r,o=1){const c=a.filter(wT),m=o<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!m||r===void 0?c[m]:r}const ST={decay:Fd,inertia:Fd,tween:_r,keyframes:_r,spring:Eo};function lv(a){typeof a.type=="string"&&(a.type=ST[a.type])}class Hh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const kT=a=>a/100;class $h extends Hh{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Dt.now()&&this.tick(Dt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;lv(t);const{type:s=_r,repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:m}=t;const g=s||_r;g!==_r&&typeof m[0]!="number"&&(this.mixKeyframes=qr(kT,sv(m[0],m[1])),m=[0,100]);const p=g({...t,keyframes:m});c==="mirror"&&(this.mirroredGenerator=g({...t,keyframes:[...m].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ph(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=p}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:m,calculatedDuration:g}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:x,repeatType:b,repeatDelay:S,type:j,onUpdate:T,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let D=this.currentTime,Y=r;if(x){const F=Math.min(this.currentTime,o)/m;let J=Math.floor(F),ie=F%1;!ie&&F>=1&&(ie=1),ie===1&&J--,J=Math.min(J,x+1),!!(J%2)&&(b==="reverse"?(ie=1-ie,S&&(ie-=S/m)):b==="mirror"&&(Y=u)),D=Bn(0,1,ie)*m}const B=O?{done:!1,value:y[0]}:Y.next(D);c&&(B.value=c(B.value));let{done:M}=B;!O&&g!==null&&(M=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return P&&j!==Fd&&(B.value=qh(y,this.options,N,this.speed)),T&&T(B.value),P&&this.finish(),B}then(t,s){return this.finished.then(t,s)}get duration(){return pn(this.calculatedDuration)}get time(){return pn(this.currentTime)}set time(t){t=gn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Dt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=pn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=rT,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jT(a){for(let t=1;t<a.length;t++)a[t]??(a[t]=a[t-1])}const Ka=a=>a*180/Math.PI,Id=a=>{const t=Ka(Math.atan2(a[1],a[0]));return Qd(t)},_T={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Id,rotateZ:Id,skewX:a=>Ka(Math.atan(a[1])),skewY:a=>Ka(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Qd=a=>(a=a%360,a<0&&(a+=360),a),qp=Id,Hp=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),$p=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),TT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hp,scaleY:$p,scale:a=>(Hp(a)+$p(a))/2,rotateX:a=>Qd(Ka(Math.atan2(a[6],a[5]))),rotateY:a=>Qd(Ka(Math.atan2(-a[2],a[0]))),rotateZ:qp,rotate:qp,skewX:a=>Ka(Math.atan(a[4])),skewY:a=>Ka(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Wd(a){return a.includes("scale")?1:0}function Zd(a,t){if(!a||a==="none")return Wd(t);const s=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(s)r=TT,o=s;else{const m=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_T,o=m}if(!o)return Wd(t);const c=r[t],u=o[1].split(",").map(ET);return typeof c=="function"?c(u):u[c]}const NT=(a,t)=>{const{transform:s="none"}=getComputedStyle(a);return Zd(s,t)};function ET(a){return parseFloat(a.trim())}const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hi=new Set(di),Gp=a=>a===ui||a===ue,AT=new Set(["x","y","z"]),DT=di.filter(a=>!AT.has(a));function CT(a){const t=[];return DT.forEach(s=>{const r=a.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Xa={width:({x:a},{paddingLeft:t="0",paddingRight:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),height:({y:a},{paddingTop:t="0",paddingBottom:s="0"})=>a.max-a.min-parseFloat(t)-parseFloat(s),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:(a,{transform:t})=>Zd(t,"x"),y:(a,{transform:t})=>Zd(t,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const Fa=new Set;let Jd=!1,eh=!1,th=!1;function ov(){if(eh){const a=Array.from(Fa).filter(r=>r.needsMeasurement),t=new Set(a.map(r=>r.element)),s=new Map;t.forEach(r=>{const o=CT(r);o.length&&(s.set(r,o),r.render())}),a.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),a.forEach(r=>r.measureEndState()),a.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eh=!1,Jd=!1,Fa.forEach(a=>a.complete(th)),Fa.clear()}function cv(){Fa.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(eh=!0)})}function RT(){th=!0,cv(),ov(),th=!1}class Gh{constructor(t,s,r,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fa.add(this),Jd||(Jd=!0,ze.read(cv),ze.resolveKeyframes(ov))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:o}=this;if(t[0]===null){const c=o?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&s){const m=r.readValue(s,u);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}jT(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fa.delete(this)}cancel(){this.state==="scheduled"&&(Fa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OT=a=>a.startsWith("--");function MT(a,t,s){OT(t)?a.style.setProperty(t,s):a.style[t]=s}const UT=Ch(()=>window.ScrollTimeline!==void 0),LT={};function BT(a,t){const s=Ch(a);return()=>LT[t]??s()}const uv=BT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),br=([a,t,s,r])=>`cubic-bezier(${a}, ${t}, ${s}, ${r})`,Yp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:br([0,.65,.55,1]),circOut:br([.55,0,1,.45]),backIn:br([.31,.01,.66,-.59]),backOut:br([.33,1.53,.69,.99])};function dv(a,t){if(a)return typeof a=="function"?uv()?iv(a,t):"ease-out":Ix(a)?br(a):Array.isArray(a)?a.map(s=>dv(s,t)||Yp.easeOut):Yp[a]}function VT(a,t,s,{delay:r=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:m="easeOut",times:g}={},p=void 0){const y={[t]:s};g&&(y.offset=g);const x=dv(m,o);Array.isArray(x)&&(y.easing=x);const b={delay:r,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),a.animate(y,b)}function hv(a){return typeof a=="function"&&"applyToOptions"in a}function zT({type:a,...t}){return hv(a)&&uv()?a.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PT extends Hh{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:m,onComplete:g}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,Dh(typeof t.type!="string");const p=zT(t);this.animation=VT(s,r,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=qh(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(y):MT(s,r,y),this.animation.cancel()}g?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return pn(Number(t))}get time(){return pn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=gn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&UT()?(this.animation.timeline=t,Qt):s(this)}}const fv={anticipate:Yx,backInOut:Gx,circInOut:Xx};function qT(a){return a in fv}function HT(a){typeof a.ease=="string"&&qT(a.ease)&&(a.ease=fv[a.ease])}const Kp=10;class $T extends PT{constructor(t){HT(t),lv(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:o,element:c,...u}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const m=new $h({...u,autoplay:!1}),g=gn(this.finishedTime??this.time);s.setWithVelocity(m.sample(g-Kp).value,m.sample(g).value,Kp),m.stop()}}const Xp=(a,t)=>t==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(ma.test(a)||a==="0")&&!a.startsWith("url("));function GT(a){const t=a[0];if(a.length===1)return!0;for(let s=0;s<a.length;s++)if(a[s]!==t)return!0}function YT(a,t,s,r){const o=a[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=a[a.length-1],u=Xp(o,t),m=Xp(c,t);return!u||!m?!1:GT(a)||(s==="spring"||hv(s))&&r}function nh(a){a.duration=0,a.type}const KT=new Set(["opacity","clipPath","filter","transform"]),XT=Ch(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FT(a){const{motionValue:t,name:s,repeatDelay:r,repeatType:o,damping:c,type:u}=a;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:p}=t.owner.getProps();return XT()&&s&&KT.has(s)&&(s!=="transform"||!p)&&!g&&!r&&o!=="mirror"&&c!==0&&u!=="inertia"}const IT=40;class QT extends Hh{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:m,name:g,motionValue:p,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dt.now();const b={autoplay:t,delay:s,type:r,repeat:o,repeatDelay:c,repeatType:u,name:g,motionValue:p,element:y,...x},S=y?.KeyframeResolver||Gh;this.keyframeResolver=new S(m,(j,T,N)=>this.onKeyframesResolved(j,T,b,!N),g,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,r,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:m,delay:g,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Dt.now(),YT(t,c,u,m)||((Vn.instantAnimations||!g)&&y?.(qh(t,r,s)),t[0]=t[t.length-1],nh(r),r.repeat=0);const b={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>IT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},S=!p&&FT(b)?new $T({...b,element:b.motionValue.owner.current}):new $h(b);S.finished.then(()=>this.notifyFinished()).catch(Qt),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),RT()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const WT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ZT(a){const t=WT.exec(a);if(!t)return[,];const[,s,r,o]=t;return[`--${s??r}`,o]}function mv(a,t,s=1){const[r,o]=ZT(a);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return Lx(u)?parseFloat(u):u}return Lh(o)?mv(o,t,s+1):o}function Yh(a,t){return a?.[t]??a?.default??a}const gv=new Set(["width","height","top","left","right","bottom",...di]),JT={test:a=>a==="auto",parse:a=>a},pv=a=>t=>t.test(a),yv=[ui,ue,yn,da,G1,$1,JT],Fp=a=>yv.find(pv(a));function eN(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Vx(a):!0}const tN=new Set(["brightness","contrast","saturate","opacity"]);function nN(a){const[t,s]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[r]=s.match(Bh)||[];if(!r)return a;const o=s.replace(r,"");let c=tN.has(t)?1:0;return r!==s&&(c*=100),t+"("+c+o+")"}const aN=/\b([a-z-]*)\(.*?\)/gu,ah={...ma,getAnimatableNone:a=>{const t=a.match(aN);return t?t.map(nN).join(" "):a}},Ip={...ui,transform:Math.round},sN={rotate:da,rotateX:da,rotateY:da,rotateZ:da,scale:mo,scaleX:mo,scaleY:mo,scaleZ:mo,skew:da,skewX:da,skewY:da,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:Rr,originX:Lp,originY:Lp,originZ:ue},Kh={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...sN,zIndex:Ip,fillOpacity:Rr,strokeOpacity:Rr,numOctaves:Ip},iN={...Kh,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:ah,WebkitFilter:ah},xv=a=>iN[a];function vv(a,t){let s=xv(a);return s!==ah&&(s=ma),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const rN=new Set(["auto","none","0"]);function lN(a,t,s){let r=0,o;for(;r<a.length&&!o;){const c=a[r];typeof c=="string"&&!rN.has(c)&&Or(c).values.length&&(o=a[r]),r++}if(o&&s)for(const c of t)a[c]=vv(s,o)}class oN extends Gh{constructor(t,s,r,o,c){super(t,s,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<t.length;g++){let p=t[g];if(typeof p=="string"&&(p=p.trim(),Lh(p))){const y=mv(p,s.current);y!==void 0&&(t[g]=y),g===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gv.has(r)||t.length!==2)return;const[o,c]=t,u=Fp(o),m=Fp(c);if(u!==m)if(Gp(u)&&Gp(m))for(let g=0;g<t.length;g++){const p=t[g];typeof p=="string"&&(t[g]=parseFloat(p))}else Xa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let o=0;o<t.length;o++)(t[o]===null||eN(t[o]))&&r.push(o);r.length&&lN(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Xa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,g])=>{t.getValue(m).set(g)}),this.resolveNoneKeyframes()}}function cN(a,t,s){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let r=document;const o=s?.[a]??r.querySelectorAll(a);return o?Array.from(o):[]}return Array.from(a)}const bv=(a,t)=>t&&typeof a=="number"?t.transform(a):a;function wv(a){return Bx(a)&&"offsetHeight"in a}const Qp=30,uN=a=>!isNaN(parseFloat(a));class dN{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=Dt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Dt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Rh);const r=this.events[t].add(s);return t==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Dt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Qp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Qp);return zx(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ni(a,t){return new dN(a,t)}const{schedule:Xh}=Qx(queueMicrotask,!1),nn={x:!1,y:!1};function Sv(){return nn.x||nn.y}function hN(a){return a==="x"||a==="y"?nn[a]?null:(nn[a]=!0,()=>{nn[a]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function kv(a,t){const s=cN(a),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[s,o,()=>r.abort()]}function Wp(a){return!(a.pointerType==="touch"||Sv())}function fN(a,t,s={}){const[r,o,c]=kv(a,s),u=m=>{if(!Wp(m))return;const{target:g}=m,p=t(g,m);if(typeof p!="function"||!g)return;const y=x=>{Wp(x)&&(p(x),g.removeEventListener("pointerleave",y))};g.addEventListener("pointerleave",y,o)};return r.forEach(m=>{m.addEventListener("pointerenter",u,o)}),c}const jv=(a,t)=>t?a===t?!0:jv(a,t.parentElement):!1,Fh=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,mN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gN(a){return mN.has(a.tagName)||a.tabIndex!==-1}const bo=new WeakSet;function Zp(a){return t=>{t.key==="Enter"&&a(t)}}function bd(a,t){a.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pN=(a,t)=>{const s=a.currentTarget;if(!s)return;const r=Zp(()=>{if(bo.has(s))return;bd(s,"down");const o=Zp(()=>{bd(s,"up")}),c=()=>bd(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Jp(a){return Fh(a)&&!Sv()}function yN(a,t,s={}){const[r,o,c]=kv(a,s),u=m=>{const g=m.currentTarget;if(!Jp(m))return;bo.add(g);const p=t(g,m),y=(S,j)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),bo.has(g)&&bo.delete(g),Jp(S)&&typeof p=="function"&&p(S,{success:j})},x=S=>{y(S,g===window||g===document||s.useGlobalTarget||jv(g,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",b,o)};return r.forEach(m=>{(s.useGlobalTarget?window:m).addEventListener("pointerdown",u,o),wv(m)&&(m.addEventListener("focus",p=>pN(p,o)),!gN(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),c}function _v(a){return Bx(a)&&"ownerSVGElement"in a}function xN(a){return _v(a)&&a.tagName==="svg"}const vt=a=>!!(a&&a.getVelocity),vN=[...yv,Ze,ma],bN=a=>vN.find(pv(a)),Ih=k.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class wN extends k.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,o=wv(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function SN({children:a,isPresent:t,anchorX:s,root:r}){const o=k.useId(),c=k.useRef(null),u=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=k.useContext(Ih);return k.useInsertionEffect(()=>{const{width:g,height:p,top:y,left:x,right:b}=u.current;if(t||!c.current||!g||!p)return;const S=s==="left"?`left: ${x}`:`right: ${b}`;c.current.dataset.motionPopId=o;const j=document.createElement("style");m&&(j.nonce=m);const T=r??document.head;return T.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${p}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{T.contains(j)&&T.removeChild(j)}},[t]),h.jsx(wN,{isPresent:t,childRef:c,sizeRef:u,children:k.cloneElement(a,{ref:c})})}const kN=({children:a,initial:t,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:u,anchorX:m,root:g})=>{const p=Th(jN),y=k.useId();let x=!0,b=k.useMemo(()=>(x=!1,{id:y,initial:t,isPresent:s,custom:o,onExitComplete:S=>{p.set(S,!0);for(const j of p.values())if(!j)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[s,p,r]);return c&&x&&(b={...b}),k.useMemo(()=>{p.forEach((S,j)=>p.set(j,!1))},[s]),k.useEffect(()=>{!s&&!p.size&&r&&r()},[s]),u==="popLayout"&&(a=h.jsx(SN,{isPresent:s,anchorX:m,root:g,children:a})),h.jsx(Mo.Provider,{value:b,children:a})};function jN(){return new Map}function Tv(a=!0){const t=k.useContext(Mo);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=t,c=k.useId();k.useEffect(()=>{if(a)return o(c)},[a]);const u=k.useCallback(()=>a&&r&&r(c),[c,r,a]);return!s&&r?[!1,u]:[!0]}const go=a=>a.key||"";function ey(a){const t=[];return k.Children.forEach(a,s=>{k.isValidElement(s)&&t.push(s)}),t}const Uo=({children:a,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left",root:g})=>{const[p,y]=Tv(u),x=k.useMemo(()=>ey(a),[a]),b=u&&!p?[]:x.map(go),S=k.useRef(!0),j=k.useRef(x),T=Th(()=>new Map),[N,C]=k.useState(x),[O,D]=k.useState(x);Ux(()=>{S.current=!1,j.current=x;for(let M=0;M<O.length;M++){const P=go(O[M]);b.includes(P)?T.delete(P):T.get(P)!==!0&&T.set(P,!1)}},[O,b.length,b.join("-")]);const Y=[];if(x!==N){let M=[...x];for(let P=0;P<O.length;P++){const F=O[P],J=go(F);b.includes(J)||(M.splice(P,0,F),Y.push(F))}return c==="wait"&&Y.length&&(M=Y),D(ey(M)),C(x),null}const{forceRender:B}=k.useContext(_h);return h.jsx(h.Fragment,{children:O.map(M=>{const P=go(M),F=u&&!p?!1:x===O||b.includes(P),J=()=>{if(T.has(P))T.set(P,!0);else return;let ie=!0;T.forEach(Se=>{Se||(ie=!1)}),ie&&(B?.(),D(j.current),u&&y?.(),r&&r())};return h.jsx(kN,{isPresent:F,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:g,onExitComplete:F?void 0:J,anchorX:m,children:M},P)})})},Nv=k.createContext({strict:!1}),ty={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ai={};for(const a in ty)ai[a]={isEnabled:t=>ty[a].some(s=>!!t[s])};function _N(a){for(const t in a)ai[t]={...ai[t],...a[t]}}const TN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ao(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||TN.has(a)}let Ev=a=>!Ao(a);function NN(a){typeof a=="function"&&(Ev=t=>t.startsWith("on")?!Ao(t):a(t))}try{NN(require("@emotion/is-prop-valid").default)}catch{}function EN(a,t,s){const r={};for(const o in a)o==="values"&&typeof a.values=="object"||(Ev(o)||s===!0&&Ao(o)||!t&&!Ao(o)||a.draggable&&o.startsWith("onDrag"))&&(r[o]=a[o]);return r}const Lo=k.createContext({});function Bo(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Mr(a){return typeof a=="string"||Array.isArray(a)}const Qh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wh=["initial",...Qh];function Vo(a){return Bo(a.animate)||Wh.some(t=>Mr(a[t]))}function Av(a){return!!(Vo(a)||a.variants)}function AN(a,t){if(Vo(a)){const{initial:s,animate:r}=a;return{initial:s===!1||Mr(s)?s:void 0,animate:Mr(r)?r:void 0}}return a.inherit!==!1?t:{}}function DN(a){const{initial:t,animate:s}=AN(a,k.useContext(Lo));return k.useMemo(()=>({initial:t,animate:s}),[ny(t),ny(s)])}function ny(a){return Array.isArray(a)?a.join(" "):a}const Ur={};function CN(a){for(const t in a)Ur[t]=a[t],Uh(t)&&(Ur[t].isCSSVariable=!0)}function Dv(a,{layout:t,layoutId:s}){return hi.has(a)||a.startsWith("origin")||(t||s!==void 0)&&(!!Ur[a]||a==="opacity")}const RN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ON=di.length;function MN(a,t,s){let r="",o=!0;for(let c=0;c<ON;c++){const u=di[c],m=a[u];if(m===void 0)continue;let g=!0;if(typeof m=="number"?g=m===(u.startsWith("scale")?1:0):g=parseFloat(m)===0,!g||s){const p=bv(m,Kh[u]);if(!g){o=!1;const y=RN[u]||u;r+=`${y}(${p}) `}s&&(t[u]=p)}}return r=r.trim(),s?r=s(t,o?"":r):o&&(r="none"),r}function Zh(a,t,s){const{style:r,vars:o,transformOrigin:c}=a;let u=!1,m=!1;for(const g in t){const p=t[g];if(hi.has(g)){u=!0;continue}else if(Uh(g)){o[g]=p;continue}else{const y=bv(p,Kh[g]);g.startsWith("origin")?(m=!0,c[g]=y):r[g]=y}}if(t.transform||(u||s?r.transform=MN(t,a.transform,s):r.transform&&(r.transform="none")),m){const{originX:g="50%",originY:p="50%",originZ:y=0}=c;r.transformOrigin=`${g} ${p} ${y}`}}const Jh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cv(a,t,s){for(const r in t)!vt(t[r])&&!Dv(r,s)&&(a[r]=t[r])}function UN({transformTemplate:a},t){return k.useMemo(()=>{const s=Jh();return Zh(s,t,a),Object.assign({},s.vars,s.style)},[t])}function LN(a,t){const s=a.style||{},r={};return Cv(r,s,a),Object.assign(r,UN(a,t)),r}function BN(a,t){const s={},r=LN(a,t);return a.drag&&a.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(s.tabIndex=0),s.style=r,s}const VN={offset:"stroke-dashoffset",array:"stroke-dasharray"},zN={offset:"strokeDashoffset",array:"strokeDasharray"};function PN(a,t,s=1,r=0,o=!0){a.pathLength=1;const c=o?VN:zN;a[c.offset]=ue.transform(-r);const u=ue.transform(t),m=ue.transform(s);a[c.array]=`${u} ${m}`}function Rv(a,{attrX:t,attrY:s,attrScale:r,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...m},g,p,y){if(Zh(a,m,p),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:x,style:b}=a;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),r!==void 0&&(x.scale=r),o!==void 0&&PN(x,o,c,u,!1)}const Ov=()=>({...Jh(),attrs:{}}),Mv=a=>typeof a=="string"&&a.toLowerCase()==="svg";function qN(a,t,s,r){const o=k.useMemo(()=>{const c=Ov();return Rv(c,t,Mv(r),a.transformTemplate,a.style),{...c.attrs,style:{...c.style}}},[t]);if(a.style){const c={};Cv(c,a.style,a),o.style={...c,...o.style}}return o}const HN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ef(a){return typeof a!="string"||a.includes("-")?!1:!!(HN.indexOf(a)>-1||/[A-Z]/u.test(a))}function $N(a,t,s,{latestValues:r},o,c=!1){const m=(ef(a)?qN:BN)(t,r,o,a),g=EN(t,typeof a=="string",c),p=a!==k.Fragment?{...g,...m,ref:s}:{},{children:y}=t,x=k.useMemo(()=>vt(y)?y.get():y,[y]);return k.createElement(a,{...p,children:x})}function ay(a){const t=[{},{}];return a?.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function tf(a,t,s,r){if(typeof t=="function"){const[o,c]=ay(r);t=t(s!==void 0?s:a.custom,o,c)}if(typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"){const[o,c]=ay(r);t=t(s!==void 0?s:a.custom,o,c)}return t}function wo(a){return vt(a)?a.get():a}function GN({scrapeMotionValuesFromProps:a,createRenderState:t},s,r,o){return{latestValues:YN(s,r,o,a),renderState:t()}}function YN(a,t,s,r){const o={},c=r(a,{});for(const b in c)o[b]=wo(c[b]);let{initial:u,animate:m}=a;const g=Vo(a),p=Av(a);t&&p&&!g&&a.inherit!==!1&&(u===void 0&&(u=t.initial),m===void 0&&(m=t.animate));let y=s?s.initial===!1:!1;y=y||u===!1;const x=y?m:u;if(x&&typeof x!="boolean"&&!Bo(x)){const b=Array.isArray(x)?x:[x];for(let S=0;S<b.length;S++){const j=tf(a,b[S]);if(j){const{transitionEnd:T,transition:N,...C}=j;for(const O in C){let D=C[O];if(Array.isArray(D)){const Y=y?D.length-1:0;D=D[Y]}D!==null&&(o[O]=D)}for(const O in T)o[O]=T[O]}}}return o}const Uv=a=>(t,s)=>{const r=k.useContext(Lo),o=k.useContext(Mo),c=()=>GN(a,t,r,o);return s?c():Th(c)};function nf(a,t,s){const{style:r}=a,o={};for(const c in r)(vt(r[c])||t.style&&vt(t.style[c])||Dv(c,a)||s?.getValue(c)?.liveStyle!==void 0)&&(o[c]=r[c]);return o}const KN=Uv({scrapeMotionValuesFromProps:nf,createRenderState:Jh});function Lv(a,t,s){const r=nf(a,t,s);for(const o in a)if(vt(a[o])||vt(t[o])){const c=di.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=a[o]}return r}const XN=Uv({scrapeMotionValuesFromProps:Lv,createRenderState:Ov}),FN=Symbol.for("motionComponentSymbol");function Qs(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function IN(a,t,s){return k.useCallback(r=>{r&&a.onMount&&a.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Qs(s)&&(s.current=r))},[t])}const af=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QN="framerAppearId",Bv="data-"+af(QN),Vv=k.createContext({});function WN(a,t,s,r,o){const{visualElement:c}=k.useContext(Lo),u=k.useContext(Nv),m=k.useContext(Mo),g=k.useContext(Ih).reducedMotion,p=k.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(a,{visualState:t,parent:c,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g}));const y=p.current,x=k.useContext(Vv);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&ZN(p.current,s,o,x);const b=k.useRef(!1);k.useInsertionEffect(()=>{y&&b.current&&y.update(s,m)});const S=s[Bv],j=k.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return Ux(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),k.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function ZN(a,t,s,r){const{layoutId:o,layout:c,drag:u,dragConstraints:m,layoutScroll:g,layoutRoot:p,layoutCrossfade:y}=t;a.projection=new s(a.latestValues,t["data-framer-portal-id"]?void 0:zv(a.parent)),a.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||m&&Qs(m),visualElement:a,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:g,layoutRoot:p})}function zv(a){if(a)return a.options.allowProjection!==!1?a.projection:zv(a.parent)}function wd(a,{forwardMotionProps:t=!1}={},s,r){s&&_N(s);const o=ef(a)?XN:KN;function c(m,g){let p;const y={...k.useContext(Ih),...m,layoutId:JN(m)},{isStatic:x}=y,b=DN(m),S=o(m,x);if(!x&&Nh){eE();const j=tE(y);p=j.MeasureLayout,b.visualElement=WN(a,S,y,r,j.ProjectionNode)}return h.jsxs(Lo.Provider,{value:b,children:[p&&b.visualElement?h.jsx(p,{visualElement:b.visualElement,...y}):null,$N(a,m,IN(S,b.visualElement,g),S,x,t)]})}c.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=k.forwardRef(c);return u[FN]=a,u}function JN({layoutId:a}){const t=k.useContext(_h).id;return t&&a!==void 0?t+"-"+a:a}function eE(a,t){k.useContext(Nv).strict}function tE(a){const{drag:t,layout:s}=ai;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t?.isEnabled(a)||s?.isEnabled(a)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function nE(a,t){if(typeof Proxy>"u")return wd;const s=new Map,r=(c,u)=>wd(c,u,a,t),o=(c,u)=>r(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,wd(u,void 0,a,t)),s.get(u))})}function Pv({top:a,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:a,max:r}}}function aE({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function sE(a,t){if(!t)return a;const s=t({x:a.left,y:a.top}),r=t({x:a.right,y:a.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Sd(a){return a===void 0||a===1}function sh({scale:a,scaleX:t,scaleY:s}){return!Sd(a)||!Sd(t)||!Sd(s)}function $a(a){return sh(a)||qv(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function qv(a){return sy(a.x)||sy(a.y)}function sy(a){return a&&a!=="0%"}function Do(a,t,s){const r=a-s,o=t*r;return s+o}function iy(a,t,s,r,o){return o!==void 0&&(a=Do(a,o,r)),Do(a,s,r)+t}function ih(a,t=0,s=1,r,o){a.min=iy(a.min,t,s,r,o),a.max=iy(a.max,t,s,r,o)}function Hv(a,{x:t,y:s}){ih(a.x,t.translate,t.scale,t.originPoint),ih(a.y,s.translate,s.scale,s.originPoint)}const ry=.999999999999,ly=1.0000000000001;function iE(a,t,s,r=!1){const o=s.length;if(!o)return;t.x=t.y=1;let c,u;for(let m=0;m<o;m++){c=s[m],u=c.projectionDelta;const{visualElement:g}=c.options;g&&g.props.style&&g.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Zs(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Hv(a,u)),r&&$a(c.latestValues)&&Zs(a,c.latestValues))}t.x<ly&&t.x>ry&&(t.x=1),t.y<ly&&t.y>ry&&(t.y=1)}function Ws(a,t){a.min=a.min+t,a.max=a.max+t}function oy(a,t,s,r,o=.5){const c=He(a.min,a.max,o);ih(a,t,s,c,r)}function Zs(a,t){oy(a.x,t.x,t.scaleX,t.scale,t.originX),oy(a.y,t.y,t.scaleY,t.scale,t.originY)}function $v(a,t){return Pv(sE(a.getBoundingClientRect(),t))}function rE(a,t,s){const r=$v(a,s),{scroll:o}=t;return o&&(Ws(r.x,o.offset.x),Ws(r.y,o.offset.y)),r}const cy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Js=()=>({x:cy(),y:cy()}),uy=()=>({min:0,max:0}),Fe=()=>({x:uy(),y:uy()}),rh={current:null},Gv={current:!1};function lE(){if(Gv.current=!0,!!Nh)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>rh.current=a.matches;a.addEventListener("change",t),t()}else rh.current=!1}const oE=new WeakMap;function cE(a,t,s){for(const r in t){const o=t[r],c=s[r];if(vt(o))a.addValue(r,o);else if(vt(c))a.addValue(r,ni(o,{owner:a}));else if(c!==o)if(a.hasValue(r)){const u=a.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=a.getStaticValue(r);a.addValue(r,ni(u!==void 0?u:o,{owner:a}))}}for(const r in s)t[r]===void 0&&a.removeValue(r);return t}const dy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uE{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Dt.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ze.render(this.render,!1,!0))};const{latestValues:g,renderState:p}=u;this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=p,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Vo(s),this.isVariantNode=Av(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in x){const S=x[b];g[b]!==void 0&&vt(S)&&S.set(g[b])}}mount(t){this.current=t,oE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Gv.current||lE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fa(this.notifyUpdate),fa(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=hi.has(t);r&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ai){const s=ai[t];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<dy.length;r++){const o=dy[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=cE(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=ni(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lx(r)||Vx(r))?r=parseFloat(r):!bN(r)&&ma.test(s)&&(r=vv(t,s)),this.setBaseTarget(t,vt(r)?r.get():r)),vt(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const c=tf(this.props,s,this.presenceContext?.custom);c&&(r=c[t])}if(s&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vt(o)?o:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Rh),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Xh.render(this.render)}}class Yv extends uE{constructor(){super(...arguments),this.KeyframeResolver=oN}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Kv(a,{style:t,vars:s},r,o){const c=a.style;let u;for(u in t)c[u]=t[u];o?.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function dE(a){return window.getComputedStyle(a)}class hE extends Yv{constructor(){super(...arguments),this.type="html",this.renderInstance=Kv}readValueFromInstance(t,s){if(hi.has(s))return this.projection?.isProjecting?Wd(s):NT(t,s);{const r=dE(t),o=(Uh(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return $v(t,s)}build(t,s,r){Zh(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return nf(t,s,r)}}const Xv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fE(a,t,s,r){Kv(a,t,void 0,r);for(const o in t.attrs)a.setAttribute(Xv.has(o)?o:af(o),t.attrs[o])}class mE extends Yv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(hi.has(s)){const r=xv(s);return r&&r.default||0}return s=Xv.has(s)?s:af(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Lv(t,s,r)}build(t,s,r){Rv(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,o){fE(t,s,r,o)}mount(t){this.isSVGTag=Mv(t.tagName),super.mount(t)}}const gE=(a,t)=>ef(a)?new mE(t):new hE(t,{allowProjection:a!==k.Fragment});function ei(a,t,s){const r=a.getProps();return tf(r,t,s!==void 0?s:r.custom,a)}const lh=a=>Array.isArray(a);function pE(a,t,s){a.hasValue(t)?a.getValue(t).set(s):a.addValue(t,ni(s))}function yE(a){return lh(a)?a[a.length-1]||0:a}function xE(a,t){const s=ei(a,t);let{transitionEnd:r={},transition:o={},...c}=s||{};c={...c,...r};for(const u in c){const m=yE(c[u]);pE(a,u,m)}}function vE(a){return!!(vt(a)&&a.add)}function oh(a,t){const s=a.getValue("willChange");if(vE(s))return s.add(t);if(!s&&Vn.WillChange){const r=new Vn.WillChange("auto");a.addValue("willChange",r),r.add(t)}}function Fv(a){return a.props[Bv]}const bE=a=>a!==null;function wE(a,{repeat:t,repeatType:s="loop"},r){const o=a.filter(bE),c=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[c]}const SE={type:"spring",stiffness:500,damping:25,restSpeed:10},kE=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),jE={type:"keyframes",duration:.8},_E={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TE=(a,{keyframes:t})=>t.length>2?jE:hi.has(a)?a.startsWith("scale")?kE(t[1]):SE:_E;function NE({when:a,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:m,from:g,elapsed:p,...y}){return!!Object.keys(y).length}const sf=(a,t,s,r={},o,c)=>u=>{const m=Yh(r,a)||{},g=m.delay||r.delay||0;let{elapsed:p=0}=r;p=p-gn(g);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-p,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{u(),m.onComplete&&m.onComplete()},name:a,motionValue:t,element:c?void 0:o};NE(m)||Object.assign(y,TE(a,y)),y.duration&&(y.duration=gn(y.duration)),y.repeatDelay&&(y.repeatDelay=gn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(nh(y),y.delay===0&&(x=!0)),(Vn.instantAnimations||Vn.skipAnimations)&&(x=!0,nh(y),y.delay=0),y.allowFlatten=!m.type&&!m.ease,x&&!c&&t.get()!==void 0){const b=wE(y.keyframes,m);if(b!==void 0){ze.update(()=>{y.onUpdate(b),y.onComplete()});return}}return m.isSync?new $h(y):new QT(y)};function EE({protectedKeys:a,needsAnimating:t},s){const r=a.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Iv(a,t,{delay:s=0,transitionOverride:r,type:o}={}){let{transition:c=a.getDefaultTransition(),transitionEnd:u,...m}=t;r&&(c=r);const g=[],p=o&&a.animationState&&a.animationState.getState()[o];for(const y in m){const x=a.getValue(y,a.latestValues[y]??null),b=m[y];if(b===void 0||p&&EE(p,y))continue;const S={delay:s,...Yh(c||{},y)},j=x.get();if(j!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===j&&!S.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=Fv(a);if(C){const O=window.MotionHandoffAnimation(C,y,ze);O!==null&&(S.startTime=O,T=!0)}}oh(a,y),x.start(sf(y,x,b,a.shouldReduceMotion&&gv.has(y)?{type:!1}:S,a,T));const N=x.animation;N&&g.push(N)}return u&&Promise.all(g).then(()=>{ze.update(()=>{u&&xE(a,u)})}),g}function Qv(a,t,s,r=0,o=1){const c=Array.from(a).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=a.size,m=(u-1)*r;return typeof s=="function"?s(c,u):o===1?c*r:m-c*r}function ch(a,t,s={}){const r=ei(a,t,s.type==="exit"?a.presenceContext?.custom:void 0);let{transition:o=a.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(o=s.transitionOverride);const c=r?()=>Promise.all(Iv(a,r,s)):()=>Promise.resolve(),u=a.variantChildren&&a.variantChildren.size?(g=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:x}=o;return AE(a,t,g,p,y,x,s)}:()=>Promise.resolve(),{when:m}=o;if(m){const[g,p]=m==="beforeChildren"?[c,u]:[u,c];return g().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function AE(a,t,s=0,r=0,o=0,c=1,u){const m=[];for(const g of a.variantChildren)g.notify("AnimationStart",t),m.push(ch(g,t,{...u,delay:s+(typeof r=="function"?0:r)+Qv(a.variantChildren,g,r,o,c)}).then(()=>g.notify("AnimationComplete",t)));return Promise.all(m)}function DE(a,t,s={}){a.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(c=>ch(a,c,s));r=Promise.all(o)}else if(typeof t=="string")r=ch(a,t,s);else{const o=typeof t=="function"?ei(a,t,s.custom):t;r=Promise.all(Iv(a,o,s))}return r.then(()=>{a.notify("AnimationComplete",t)})}function Wv(a,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==a.length)return!1;for(let r=0;r<s;r++)if(t[r]!==a[r])return!1;return!0}const CE=Wh.length;function Zv(a){if(!a)return;if(!a.isControllingVariants){const s=a.parent?Zv(a.parent)||{}:{};return a.props.initial!==void 0&&(s.initial=a.props.initial),s}const t={};for(let s=0;s<CE;s++){const r=Wh[s],o=a.props[r];(Mr(o)||o===!1)&&(t[r]=o)}return t}const RE=[...Qh].reverse(),OE=Qh.length;function ME(a){return t=>Promise.all(t.map(({animation:s,options:r})=>DE(a,s,r)))}function UE(a){let t=ME(a),s=hy(),r=!0;const o=g=>(p,y)=>{const x=ei(a,y,g==="exit"?a.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:S,...j}=x;p={...p,...j,...S}}return p};function c(g){t=g(a)}function u(g){const{props:p}=a,y=Zv(a.parent)||{},x=[],b=new Set;let S={},j=1/0;for(let N=0;N<OE;N++){const C=RE[N],O=s[C],D=p[C]!==void 0?p[C]:y[C],Y=Mr(D),B=C===g?O.isActive:null;B===!1&&(j=N);let M=D===y[C]&&D!==p[C]&&Y;if(M&&r&&a.manuallyAnimateOnMount&&(M=!1),O.protectedKeys={...S},!O.isActive&&B===null||!D&&!O.prevProp||Bo(D)||typeof D=="boolean")continue;const P=LE(O.prevProp,D);let F=P||C===g&&O.isActive&&!M&&Y||N>j&&Y,J=!1;const ie=Array.isArray(D)?D:[D];let Se=ie.reduce(o(C),{});B===!1&&(Se={});const{prevResolvedValues:ke={}}=O,ct={...ke,...Se},je=I=>{F=!0,b.has(I)&&(J=!0,b.delete(I)),O.needsAnimating[I]=!0;const te=a.getValue(I);te&&(te.liveStyle=!1)};for(const I in ct){const te=Se[I],fe=ke[I];if(S.hasOwnProperty(I))continue;let E=!1;lh(te)&&lh(fe)?E=!Wv(te,fe):E=te!==fe,E?te!=null?je(I):b.add(I):te!==void 0&&b.has(I)?je(I):O.protectedKeys[I]=!0}O.prevProp=D,O.prevResolvedValues=Se,O.isActive&&(S={...S,...Se}),r&&a.blockInitialAnimation&&(F=!1);const we=M&&P;F&&(!we||J)&&x.push(...ie.map(I=>{const te={type:C};if(typeof I=="string"&&r&&!we&&a.manuallyAnimateOnMount&&a.parent){const{parent:fe}=a,E=ei(fe,I);if(fe.enteringChildren&&E){const{delayChildren:$}=E.transition||{};te.delay=Qv(fe.enteringChildren,a,$)}}return{animation:I,options:te}}))}if(b.size){const N={};if(typeof p.initial!="boolean"){const C=ei(a,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(N.transition=C.transition)}b.forEach(C=>{const O=a.getBaseTarget(C),D=a.getValue(C);D&&(D.liveStyle=!0),N[C]=O??null}),x.push({animation:N})}let T=!!x.length;return r&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(x):Promise.resolve()}function m(g,p){if(s[g].isActive===p)return Promise.resolve();a.variantChildren?.forEach(x=>x.animationState?.setActive(g,p)),s[g].isActive=p;const y=u(g);for(const x in s)s[x].protectedKeys={};return y}return{animateChanges:u,setActive:m,setAnimateFunction:c,getState:()=>s,reset:()=>{s=hy(),r=!0}}}function LE(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!Wv(t,a):!1}function qa(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hy(){return{animate:qa(!0),whileInView:qa(),whileHover:qa(),whileTap:qa(),whileDrag:qa(),whileFocus:qa(),exit:qa()}}class ya{constructor(t){this.isMounted=!1,this.node=t}update(){}}class BE extends ya{constructor(t){super(t),t.animationState||(t.animationState=UE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Bo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VE=0;class zE extends ya{constructor(){super(...arguments),this.id=VE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const PE={animation:{Feature:BE},exit:{Feature:zE}};function Lr(a,t,s,r={passive:!0}){return a.addEventListener(t,s,r),()=>a.removeEventListener(t,s)}function Gr(a){return{point:{x:a.pageX,y:a.pageY}}}const qE=a=>t=>Fh(t)&&a(t,Gr(t));function Tr(a,t,s,r){return Lr(a,t,qE(s),r)}const Jv=1e-4,HE=1-Jv,$E=1+Jv,eb=.01,GE=0-eb,YE=0+eb;function kt(a){return a.max-a.min}function KE(a,t,s){return Math.abs(a-t)<=s}function fy(a,t,s,r=.5){a.origin=r,a.originPoint=He(t.min,t.max,a.origin),a.scale=kt(s)/kt(t),a.translate=He(s.min,s.max,a.origin)-a.originPoint,(a.scale>=HE&&a.scale<=$E||isNaN(a.scale))&&(a.scale=1),(a.translate>=GE&&a.translate<=YE||isNaN(a.translate))&&(a.translate=0)}function Nr(a,t,s,r){fy(a.x,t.x,s.x,r?r.originX:void 0),fy(a.y,t.y,s.y,r?r.originY:void 0)}function my(a,t,s){a.min=s.min+t.min,a.max=a.min+kt(t)}function XE(a,t,s){my(a.x,t.x,s.x),my(a.y,t.y,s.y)}function gy(a,t,s){a.min=t.min-s.min,a.max=a.min+kt(t)}function Er(a,t,s){gy(a.x,t.x,s.x),gy(a.y,t.y,s.y)}function It(a){return[a("x"),a("y")]}const tb=({current:a})=>a?a.ownerDocument.defaultView:null,py=(a,t)=>Math.abs(a-t);function FE(a,t){const s=py(a.x,t.x),r=py(a.y,t.y);return Math.sqrt(s**2+r**2)}class nb{constructor(t,s,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jd(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=FE(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:T}=b,{timestamp:N}=mt;this.history.push({...T,timestamp:N});const{onStart:C,onMove:O}=this.handlers;S||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=kd(S,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:j,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=jd(b.type==="pointercancel"?this.lastMoveEventInfo:kd(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,C),T&&T(b,C)},!Fh(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=o||window;const m=Gr(t),g=kd(m,this.transformPagePoint),{point:p}=g,{timestamp:y}=mt;this.history=[{...p,timestamp:y}];const{onSessionStart:x}=s;x&&x(t,jd(g,this.history)),this.removeListeners=qr(Tr(this.contextWindow,"pointermove",this.handlePointerMove),Tr(this.contextWindow,"pointerup",this.handlePointerUp),Tr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fa(this.updatePoint)}}function kd(a,t){return t?{point:t(a.point)}:a}function yy(a,t){return{x:a.x-t.x,y:a.y-t.y}}function jd({point:a},t){return{point:a,delta:yy(a,ab(t)),offset:yy(a,IE(t)),velocity:QE(t,.1)}}function IE(a){return a[0]}function ab(a){return a[a.length-1]}function QE(a,t){if(a.length<2)return{x:0,y:0};let s=a.length-1,r=null;const o=ab(a);for(;s>=0&&(r=a[s],!(o.timestamp-r.timestamp>gn(t)));)s--;if(!r)return{x:0,y:0};const c=pn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function WE(a,{min:t,max:s},r){return t!==void 0&&a<t?a=r?He(t,a,r.min):Math.max(a,t):s!==void 0&&a>s&&(a=r?He(s,a,r.max):Math.min(a,s)),a}function xy(a,t,s){return{min:t!==void 0?a.min+t:void 0,max:s!==void 0?a.max+s-(a.max-a.min):void 0}}function ZE(a,{top:t,left:s,bottom:r,right:o}){return{x:xy(a.x,s,o),y:xy(a.y,t,r)}}function vy(a,t){let s=t.min-a.min,r=t.max-a.max;return t.max-t.min<a.max-a.min&&([s,r]=[r,s]),{min:s,max:r}}function JE(a,t){return{x:vy(a.x,t.x),y:vy(a.y,t.y)}}function e2(a,t){let s=.5;const r=kt(a),o=kt(t);return o>r?s=Cr(t.min,t.max-r,a.min):r>o&&(s=Cr(a.min,a.max-o,t.min)),Bn(0,1,s)}function t2(a,t){const s={};return t.min!==void 0&&(s.min=t.min-a.min),t.max!==void 0&&(s.max=t.max-a.min),s}const uh=.35;function n2(a=uh){return a===!1?a=0:a===!0&&(a=uh),{x:by(a,"left","right"),y:by(a,"top","bottom")}}function by(a,t,s){return{min:wy(a,t),max:wy(a,s)}}function wy(a,t){return typeof a=="number"?a:a[t]||0}const a2=new WeakMap;class s2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=x=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Gr(x).point)},u=(x,b)=>{const{drag:S,dragPropagation:j,onDragStart:T}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hN(S),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),It(C=>{let O=this.getAxisMotionValue(C).get()||0;if(yn.test(O)){const{projection:D}=this.visualElement;if(D&&D.layout){const Y=D.layout.layoutBox[C];Y&&(O=kt(Y)*(parseFloat(O)/100))}}this.originPoint[C]=O}),T&&ze.postRender(()=>T(x,b)),oh(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},m=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:T,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:C}=b;if(j&&this.currentDirection===null){this.currentDirection=i2(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),N&&N(x,b)},g=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>It(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new nb(t,{onSessionStart:c,onStart:u,onMove:m,onSessionEnd:g,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:tb(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!r)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:m}=this.getProps();m&&ze.postRender(()=>m(r,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:o}=this.getProps();if(!r||!po(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=WE(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Qs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=ZE(r.layoutBox,t):this.constraints=!1,this.elastic=n2(s),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&It(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=t2(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Qs(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=rE(r,o.root,this.visualElement.getTransformPagePoint());let u=JE(o.layout.layoutBox,c);if(s){const m=s(aE(u));this.hasMutatedConstraints=!!m,m&&(u=Pv(m))}return u}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:m}=this.getProps(),g=this.constraints||{},p=It(y=>{if(!po(y,s,this.currentDirection))return;let x=g&&g[y]||{};u&&(x={min:0,max:0});const b=o?200:1e6,S=o?40:1e7,j={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(y,j)});return Promise.all(p).then(m)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return oh(this.visualElement,t),r.start(sf(t,r,0,s,this.visualElement,!1))}stopAnimation(){It(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){It(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){It(s=>{const{drag:r}=this.getProps();if(!po(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:m}=o.layout.layoutBox[s];c.set(t[s]-He(u,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Qs(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};It(u=>{const m=this.getAxisMotionValue(u);if(m&&this.constraints!==!1){const g=m.get();o[u]=e2({min:g,max:g},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),It(u=>{if(!po(u,t,null))return;const m=this.getAxisMotionValue(u),{min:g,max:p}=this.constraints[u];m.set(He(g,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;a2.set(this.visualElement,this);const t=this.visualElement.current,s=Tr(t,"pointerdown",g=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(g)}),r=()=>{const{dragConstraints:g}=this.getProps();Qs(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ze.read(r);const u=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:p})=>{this.isDragging&&p&&(It(y=>{const x=this.getAxisMotionValue(y);x&&(this.originPoint[y]+=g[y].translate,x.set(x.get()+g[y].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=uh,dragMomentum:m=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:m}}}function po(a,t,s){return(t===!0||t===a)&&(s===null||s===a)}function i2(a,t=10){let s=null;return Math.abs(a.y)>t?s="y":Math.abs(a.x)>t&&(s="x"),s}class r2 extends ya{constructor(t){super(t),this.removeGroupControls=Qt,this.removeListeners=Qt,this.controls=new s2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sy=a=>(t,s)=>{a&&ze.postRender(()=>a(t,s))};class l2 extends ya{constructor(){super(...arguments),this.removePointerDownListener=Qt}onPointerDown(t){this.session=new nb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Sy(t),onStart:Sy(s),onMove:r,onEnd:(c,u)=>{delete this.session,o&&ze.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Tr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const So={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ky(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const xr={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(ue.test(a))a=parseFloat(a);else return a;const s=ky(a,t.target.x),r=ky(a,t.target.y);return`${s}% ${r}%`}},o2={correct:(a,{treeScale:t,projectionDelta:s})=>{const r=a,o=ma.parse(a);if(o.length>5)return r;const c=ma.createTransformer(a),u=typeof o[0]!="number"?1:0,m=s.x.scale*t.x,g=s.y.scale*t.y;o[0+u]/=m,o[1+u]/=g;const p=He(m,g,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}};let _d=!1;class c2 extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=t;CN(u2),c&&(s.group&&s.group.add(c),r&&r.register&&o&&r.register(c),_d&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),So.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:o,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,_d=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||ze.postRender(()=>{const m=u.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Xh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=t;_d=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sb(a){const[t,s]=Tv(),r=k.useContext(_h);return h.jsx(c2,{...a,layoutGroup:r,switchLayoutGroup:k.useContext(Vv),isPresent:t,safeToRemove:s})}const u2={borderRadius:{...xr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xr,borderTopRightRadius:xr,borderBottomLeftRadius:xr,borderBottomRightRadius:xr,boxShadow:o2};function d2(a,t,s){const r=vt(a)?a:ni(a);return r.start(sf("",r,t,s)),r.animation}const h2=(a,t)=>a.depth-t.depth;class f2{constructor(){this.children=[],this.isDirty=!1}add(t){Eh(this.children,t),this.isDirty=!0}remove(t){Ah(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(h2),this.isDirty=!1,this.children.forEach(t)}}function m2(a,t){const s=Dt.now(),r=({timestamp:o})=>{const c=o-s;c>=t&&(fa(r),a(c-t))};return ze.setup(r,!0),()=>fa(r)}const ib=["TopLeft","TopRight","BottomLeft","BottomRight"],g2=ib.length,jy=a=>typeof a=="string"?parseFloat(a):a,_y=a=>typeof a=="number"||ue.test(a);function p2(a,t,s,r,o,c){o?(a.opacity=He(0,s.opacity??1,y2(r)),a.opacityExit=He(t.opacity??1,0,x2(r))):c&&(a.opacity=He(t.opacity??1,s.opacity??1,r));for(let u=0;u<g2;u++){const m=`border${ib[u]}Radius`;let g=Ty(t,m),p=Ty(s,m);if(g===void 0&&p===void 0)continue;g||(g=0),p||(p=0),g===0||p===0||_y(g)===_y(p)?(a[m]=Math.max(He(jy(g),jy(p),r),0),(yn.test(p)||yn.test(g))&&(a[m]+="%")):a[m]=p}(t.rotate||s.rotate)&&(a.rotate=He(t.rotate||0,s.rotate||0,r))}function Ty(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const y2=rb(0,.5,Kx),x2=rb(.5,.95,Qt);function rb(a,t,s){return r=>r<a?0:r>t?1:s(Cr(a,t,r))}function Ny(a,t){a.min=t.min,a.max=t.max}function Ft(a,t){Ny(a.x,t.x),Ny(a.y,t.y)}function Ey(a,t){a.translate=t.translate,a.scale=t.scale,a.originPoint=t.originPoint,a.origin=t.origin}function Ay(a,t,s,r,o){return a-=t,a=Do(a,1/s,r),o!==void 0&&(a=Do(a,1/o,r)),a}function v2(a,t=0,s=1,r=.5,o,c=a,u=a){if(yn.test(t)&&(t=parseFloat(t),t=He(u.min,u.max,t/100)-u.min),typeof t!="number")return;let m=He(c.min,c.max,r);a===c&&(m-=t),a.min=Ay(a.min,t,s,m,o),a.max=Ay(a.max,t,s,m,o)}function Dy(a,t,[s,r,o],c,u){v2(a,t[s],t[r],t[o],t.scale,c,u)}const b2=["x","scaleX","originX"],w2=["y","scaleY","originY"];function Cy(a,t,s,r){Dy(a.x,t,b2,s?s.x:void 0,r?r.x:void 0),Dy(a.y,t,w2,s?s.y:void 0,r?r.y:void 0)}function Ry(a){return a.translate===0&&a.scale===1}function lb(a){return Ry(a.x)&&Ry(a.y)}function Oy(a,t){return a.min===t.min&&a.max===t.max}function S2(a,t){return Oy(a.x,t.x)&&Oy(a.y,t.y)}function My(a,t){return Math.round(a.min)===Math.round(t.min)&&Math.round(a.max)===Math.round(t.max)}function ob(a,t){return My(a.x,t.x)&&My(a.y,t.y)}function Uy(a){return kt(a.x)/kt(a.y)}function Ly(a,t){return a.translate===t.translate&&a.scale===t.scale&&a.originPoint===t.originPoint}class k2{constructor(){this.members=[]}add(t){Eh(this.members,t),t.scheduleRender()}remove(t){if(Ah(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j2(a,t,s){let r="";const o=a.x.translate/t.x,c=a.y.translate/t.y,u=s?.z||0;if((o||c||u)&&(r=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:p,rotate:y,rotateX:x,rotateY:b,skewX:S,skewY:j}=s;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),x&&(r+=`rotateX(${x}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),j&&(r+=`skewY(${j}deg) `)}const m=a.x.scale*t.x,g=a.y.scale*t.y;return(m!==1||g!==1)&&(r+=`scale(${m}, ${g})`),r||"none"}const Td=["","X","Y","Z"],_2=1e3;let T2=0;function Nd(a,t,s,r){const{latestValues:o}=t;o[a]&&(s[a]=o[a],t.setStaticValue(a,0),r&&(r[a]=0))}function cb(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:t}=a.options;if(!t)return;const s=Fv(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=a.options;window.MotionCancelOptimisedAnimation(s,"transform",ze,!(o||c))}const{parent:r}=a;r&&!r.hasCheckedOptimisedAppear&&cb(r)}function ub({attachResizeListener:a,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},m=t?.()){this.id=T2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(A2),this.nodes.forEach(O2),this.nodes.forEach(M2),this.nodes.forEach(D2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new f2)}addEventListener(u,m){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Rh),this.eventHandlers.get(u).add(m)}notifyListeners(u,...m){const g=this.eventHandlers.get(u);g&&g.notify(...m)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=_v(u)&&!xN(u),this.instance=u;const{layoutId:m,layout:g,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(g||m)&&(this.isLayoutDirty=!0),a){let y,x=0;const b=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{x=window.innerWidth}),a(u,()=>{const S=window.innerWidth;S!==x&&(x=S,this.root.updateBlockedByResize=!0,y&&y(),y=m2(b,250),So.hasAnimatedSinceResize&&(So.hasAnimatedSinceResize=!1,this.nodes.forEach(zy)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||g)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||z2,{onLayoutAnimationStart:T,onLayoutAnimationComplete:N}=p.getProps(),C=!this.targetLayout||!ob(this.targetLayout,S),O=!x&&b;if(this.options.layoutRoot||this.resumeFrom||O||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Yh(j,"layout"),onPlay:T,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(y,O)}else x||zy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:m,layout:g}=this.options;if(m===void 0&&!g)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(By);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vy);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(R2),this.nodes.forEach(N2),this.nodes.forEach(E2)):this.nodes.forEach(Vy),this.clearAllSnapshots();const m=Dt.now();mt.delta=Bn(0,1e3/60,m-mt.timestamp),mt.timestamp=m,mt.isProcessing=!0,gd.update.process(mt),gd.preRender.process(mt),gd.render.process(mt),mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Xh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(C2),this.sharedNodes.forEach(L2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kt(this.snapshot.measuredBox.x)&&!kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(m=!1),m&&this.instance){const g=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!lb(this.projectionDelta),g=this.getTransformTemplate(),p=g?g(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(m||$a(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const m=this.measurePageBox();let g=this.removeElementScroll(m);return u&&(g=this.removeTransform(g)),P2(g),{animationId:this.root.animationId,measuredBox:m,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Fe();const m=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(q2))){const{scroll:p}=this.root;p&&(Ws(m.x,p.offset.x),Ws(m.y,p.offset.y))}return m}removeElementScroll(u){const m=Fe();if(Ft(m,u),this.scroll?.wasRoot)return m;for(let g=0;g<this.path.length;g++){const p=this.path[g],{scroll:y,options:x}=p;p!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&Ft(m,u),Ws(m.x,y.offset.x),Ws(m.y,y.offset.y))}return m}applyTransform(u,m=!1){const g=Fe();Ft(g,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!m&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Zs(g,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),$a(y.latestValues)&&Zs(g,y.latestValues)}return $a(this.latestValues)&&Zs(g,this.latestValues),g}removeTransform(u){const m=Fe();Ft(m,u);for(let g=0;g<this.path.length;g++){const p=this.path[g];if(!p.instance||!$a(p.latestValues))continue;sh(p.latestValues)&&p.updateSnapshot();const y=Fe(),x=p.measurePageBox();Ft(y,x),Cy(m,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return $a(this.latestValues)&&Cy(m,this.latestValues),m}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(u||g&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!(!this.layout||!(y||x))){if(this.resolvedRelativeTargetAt=mt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Er(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ft(this.target,this.layout.layoutBox),Hv(this.target,this.targetDelta)):Ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Er(this.relativeTargetOrigin,this.target,b.target),Ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||sh(this.parent.latestValues)||qv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),m=!!this.resumingFrom||this!==u;let g=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===mt.timestamp&&(g=!1),g)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ft(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;iE(this.layoutCorrected,this.treeScale,this.path,m),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Fe());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ey(this.prevProjectionDelta.x,this.projectionDelta.x),Ey(this.prevProjectionDelta.y,this.projectionDelta.y)),Nr(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!Ly(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ly(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Js(),this.projectionDelta=Js(),this.projectionDeltaWithTransform=Js()}setAnimationOrigin(u,m=!1){const g=this.snapshot,p=g?g.latestValues:{},y={...this.latestValues},x=Js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Fe(),S=g?g.source:void 0,j=this.layout?this.layout.source:void 0,T=S!==j,N=this.getStack(),C=!N||N.members.length<=1,O=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(V2));this.animationProgress=0;let D;this.mixTargetDelta=Y=>{const B=Y/1e3;Py(x.x,u.x,B),Py(x.y,u.y,B),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Er(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B2(this.relativeTarget,this.relativeTargetOrigin,b,B),D&&S2(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Fe()),Ft(D,this.relativeTarget)),T&&(this.animationValues=y,p2(y,p,this.latestValues,B,O,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{So.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ni(0)),this.currentAnimation=d2(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),u.onUpdate&&u.onUpdate(m)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:m,target:g,layout:p,latestValues:y}=u;if(!(!m||!g||!p)){if(this!==u&&this.layout&&p&&db(this.options.animationType,this.layout.layoutBox,p.layoutBox)){g=this.target||Fe();const x=kt(this.layout.layoutBox.x);g.x.min=u.target.x.min,g.x.max=g.x.min+x;const b=kt(this.layout.layoutBox.y);g.y.min=u.target.y.min,g.y.max=g.y.min+b}Ft(m,g),Zs(m,y),Nr(this.projectionDeltaWithTransform,this.layoutCorrected,m,y)}}registerSharedNode(u,m){this.sharedNodes.has(u)||this.sharedNodes.set(u,new k2),this.sharedNodes.get(u).add(m);const p=m.options.initialPromotionConfig;m.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(m):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:m,preserveFollowOpacity:g}={}){const p=this.getStack();p&&p.promote(this,g),u&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let m=!1;const{latestValues:g}=u;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(m=!0),!m)return;const p={};g.z&&Nd("z",u,p,this.animationValues);for(let y=0;y<Td.length;y++)Nd(`rotate${Td[y]}`,u,p,this.animationValues),Nd(`skew${Td[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const g=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=wo(m?.pointerEvents)||"",u.transform=g?g(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=wo(m?.pointerEvents)||""),this.hasProjected&&!$a(this.latestValues)&&(u.transform=g?g({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=j2(this.projectionDeltaWithTransform,this.treeScale,y);g&&(x=g(y,x)),u.transform=x;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in Ur){if(y[j]===void 0)continue;const{correct:T,applyTo:N,isCSSVariable:C}=Ur[j],O=x==="none"?y[j]:T(y[j],p);if(N){const D=N.length;for(let Y=0;Y<D;Y++)u[N[Y]]=O}else C?this.options.visualElement.renderState.vars[j]=O:u[j]=O}this.options.layoutId&&(u.pointerEvents=p===this?wo(m?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(By),this.root.sharedNodes.clear()}}}function N2(a){a.updateLayout()}function E2(a){const t=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&t&&a.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=a.layout,{animationType:o}=a.options,c=t.source!==a.layout.source;o==="size"?It(y=>{const x=c?t.measuredBox[y]:t.layoutBox[y],b=kt(x);x.min=s[y].min,x.max=x.min+b}):db(o,t.layoutBox,s)&&It(y=>{const x=c?t.measuredBox[y]:t.layoutBox[y],b=kt(s[y]);x.max=x.min+b,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[y].max=a.relativeTarget[y].min+b)});const u=Js();Nr(u,s,t.layoutBox);const m=Js();c?Nr(m,a.applyTransform(r,!0),t.measuredBox):Nr(m,s,t.layoutBox);const g=!lb(u);let p=!1;if(!a.resumeFrom){const y=a.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:b}=y;if(x&&b){const S=Fe();Er(S,t.layoutBox,x.layoutBox);const j=Fe();Er(j,s,b.layoutBox),ob(S,j)||(p=!0),y.options.layoutRoot&&(a.relativeTarget=j,a.relativeTargetOrigin=S,a.relativeParent=y)}}}a.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:g,hasRelativeLayoutChanged:p})}else if(a.isLead()){const{onExitComplete:s}=a.options;s&&s()}a.options.transition=void 0}function A2(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function D2(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function C2(a){a.clearSnapshot()}function By(a){a.clearMeasurements()}function Vy(a){a.isLayoutDirty=!1}function R2(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function zy(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function O2(a){a.resolveTargetDelta()}function M2(a){a.calcProjection()}function U2(a){a.resetSkewAndRotation()}function L2(a){a.removeLeadSnapshot()}function Py(a,t,s){a.translate=He(t.translate,0,s),a.scale=He(t.scale,1,s),a.origin=t.origin,a.originPoint=t.originPoint}function qy(a,t,s,r){a.min=He(t.min,s.min,r),a.max=He(t.max,s.max,r)}function B2(a,t,s,r){qy(a.x,t.x,s.x,r),qy(a.y,t.y,s.y,r)}function V2(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const z2={duration:.45,ease:[.4,0,.1,1]},Hy=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),$y=Hy("applewebkit/")&&!Hy("chrome/")?Math.round:Qt;function Gy(a){a.min=$y(a.min),a.max=$y(a.max)}function P2(a){Gy(a.x),Gy(a.y)}function db(a,t,s){return a==="position"||a==="preserve-aspect"&&!KE(Uy(t),Uy(s),.2)}function q2(a){return a!==a.root&&a.scroll?.wasRoot}const H2=ub({attachResizeListener:(a,t)=>Lr(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ed={current:void 0},hb=ub({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Ed.current){const a=new H2({});a.mount(window),a.setOptions({layoutScroll:!0}),Ed.current=a}return Ed.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),$2={pan:{Feature:l2},drag:{Feature:r2,ProjectionNode:hb,MeasureLayout:sb}};function Yy(a,t,s){const{props:r}=a;a.animationState&&r.whileHover&&a.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=r[o];c&&ze.postRender(()=>c(t,Gr(t)))}class G2 extends ya{mount(){const{current:t}=this.node;t&&(this.unmount=fN(t,(s,r)=>(Yy(this.node,r,"Start"),o=>Yy(this.node,o,"End"))))}unmount(){}}class Y2 extends ya{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qr(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ky(a,t,s){const{props:r}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&r.whileTap&&a.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=r[o];c&&ze.postRender(()=>c(t,Gr(t)))}class K2 extends ya{mount(){const{current:t}=this.node;t&&(this.unmount=yN(t,(s,r)=>(Ky(this.node,r,"Start"),(o,{success:c})=>Ky(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dh=new WeakMap,Ad=new WeakMap,X2=a=>{const t=dh.get(a.target);t&&t(a)},F2=a=>{a.forEach(X2)};function I2({root:a,...t}){const s=a||document;Ad.has(s)||Ad.set(s,{});const r=Ad.get(s),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(F2,{root:a,...t})),r[o]}function Q2(a,t,s){const r=I2(t);return dh.set(a,s),r.observe(a),()=>{dh.delete(a),r.unobserve(a)}}const W2={some:0,all:1};class Z2 extends ya{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:c}=t,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:W2[o]},m=g=>{const{isIntersecting:p}=g;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),b=p?y:x;b&&b(g)};return Q2(this.node.current,u,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(J2(t,s))&&this.startObserver()}unmount(){}}function J2({viewport:a={}},{viewport:t={}}={}){return s=>a[s]!==t[s]}const eA={inView:{Feature:Z2},tap:{Feature:K2},focus:{Feature:Y2},hover:{Feature:G2}},tA={layout:{ProjectionNode:hb,MeasureLayout:sb}},nA={...PE,...eA,...$2,...tA},Q=nE(nA,gE),aA=()=>{const{signIn:a,signUp:t,user:s}=Ct(),r=oi(),[o,c]=k.useState(!0),[u,m]=k.useState(""),[g,p]=k.useState(""),[y,x]=k.useState(""),[b,S]=k.useState(!1),[j,T]=k.useState(""),[N,C]=k.useState({length:!1,uppercase:!1,lowercase:!1,number:!1});k.useEffect(()=>{s&&r("/dashboard",{replace:!0})},[s,r]);const O=M=>{const P={length:M.length>=6,uppercase:/[A-Z]/.test(M),lowercase:/[a-z]/.test(M),number:/\d/.test(M)};return C(P),P},D=M=>{const P=O(M);return P.length&&P.uppercase&&P.lowercase&&P.number},Y=M=>{if(!M?.message)return"Errore imprevisto";const P=M.message.toLowerCase();return P.includes("invalid login credentials")?"Email o password non corretti":P.includes("user already registered")?"Email gi registrata":P.includes("password should be at least")?"Password deve avere almeno 6 caratteri":P.includes("invalid email")?"Email non valida":P.includes("signup is disabled")?"Registrazione temporaneamente disabilitata":M.message},B=async M=>{if(M.preventDefault(),S(!0),T(""),!u.trim()){T("Email richiesta"),S(!1);return}if(!g.trim()){T("Password richiesta"),S(!1);return}if(!o&&!y.trim()){T("Username richiesto"),S(!1);return}if(!o&&!D(g)){T("Password non conforme ai requisiti di sicurezza"),S(!1);return}if(o&&g.length<6){T("Password deve avere almeno 6 caratteri"),S(!1);return}try{if(o){const{error:P}=await a(u,g);P&&T(Y(P))}else{const{error:P}=await t(u,g,y);T(P?Y(P):"Controlla la tua email per confermare la registrazione")}}catch{T("Errore di connessione")}finally{S(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-orange-50 flex items-center justify-center p-4",children:h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" Sippy"}),h.jsx("p",{className:"text-gray-600",children:"Traccia e sfida i tuoi amici"})]}),h.jsxs("form",{onSubmit:B,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:u,onChange:M=>m(M.target.value),required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"la-tua@email.com"})]}),!o&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),h.jsx("input",{type:"text",value:y,onChange:M=>x(M.target.value),required:!o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"il-tuo-username"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:g,onChange:M=>{p(M.target.value),o||O(M.target.value)},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:""}),!o&&g&&h.jsxs("div",{className:"mt-3 space-y-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Requisiti password:"}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:`text-xs flex items-center gap-2 ${N.length?"text-green-600":"text-gray-400"}`,children:[h.jsx("span",{children:N.length?"":""}),"Almeno 6 caratteri"]}),h.jsxs("div",{className:`text-xs flex items-center gap-2 ${N.uppercase?"text-green-600":"text-gray-400"}`,children:[h.jsx("span",{children:N.uppercase?"":""}),"Una lettera maiuscola (A-Z)"]}),h.jsxs("div",{className:`text-xs flex items-center gap-2 ${N.lowercase?"text-green-600":"text-gray-400"}`,children:[h.jsx("span",{children:N.lowercase?"":""}),"Una lettera minuscola (a-z)"]}),h.jsxs("div",{className:`text-xs flex items-center gap-2 ${N.number?"text-green-600":"text-gray-400"}`,children:[h.jsx("span",{children:N.number?"":""}),"Un numero (0-9)"]})]})]})]}),j&&h.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-lg",children:j}),h.jsx("button",{type:"submit",disabled:b,className:"w-full bg-teal-600 text-white py-3 rounded-lg font-semibold hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Caricamento...":o?"Accedi":"Registrati"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("button",{type:"button",onClick:()=>c(!o),className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:o?"Non hai un account? Registrati":"Hai gi un account? Accedi"})})]})})},zo=async(a,t,s)=>{let r=pe.from("drinks").select("*").eq("user_id",a).order("date",{ascending:!1});t&&(r=r.gte("date",t)),s&&(r=r.lte("date",s));const{data:o,error:c}=await r;return{data:o,error:c}},sA=async(a,t)=>{const{data:s,error:r}=await pe.from("drinks").insert({user_id:a,...t}).select().single();return{data:s,error:r}},iA=async a=>{const{error:t}=await pe.from("drinks").delete().eq("id",a);return{error:t}},rA=async a=>{const t=new Date,s=new Date(t);s.setDate(t.getDate()-t.getDay());const r=new Date(s);return r.setDate(s.getDate()+6),zo(a,s.toISOString().split("T")[0],r.toISOString().split("T")[0])},lA=async a=>zo(a),oA=(a=new Date)=>{const t=new Date(a),s=t.getDay(),r=t.getDate()-s;return new Date(t.setDate(r))},cA=a=>{const t=a.endsWith("Z")?a:a+"Z";return new Date(t).toLocaleDateString("it-IT",{timeZone:"Europe/Rome",weekday:"short",day:"numeric",month:"short"})},uA=()=>{const{user:a}=Ct(),[t,s]=k.useState([]),[r,o]=k.useState([]),[c,u]=k.useState(!1),[m,g]=k.useState(null),p=async()=>{if(a){u(!0),g(null);try{const{data:S,error:j}=await zo(a.id);j?g(j.message):s(S||[])}catch{g("Errore nel caricamento dei drink")}finally{u(!1)}}},y=k.useCallback(async()=>{if(a){u(!0),g(null);try{const{data:S,error:j}=await rA(a.id);j?g(j.message):o(S||[])}catch{g("Errore nel caricamento dei drink settimanali")}finally{u(!1)}}},[a]),x=async S=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const{data:j,error:T}=await sA(a.id,S);if(T)return{success:!1,error:T.message};if(j){s([j,...t]);const N=new Date(j.date),C=oA();N>=C&&o([j,...r])}return{success:!0,data:j}}catch{return{success:!1,error:"Errore nella creazione del drink"}}},b=async S=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const{error:j}=await iA(S);return j?{success:!1,error:j.message}:(s(t.filter(T=>T.id!==S)),o(r.filter(T=>T.id!==S)),{success:!0})}catch{return{success:!1,error:"Errore nella rimozione del drink"}}};return k.useEffect(()=>{a&&y()},[a,y]),{drinks:t,weeklyDrinks:r,loading:c,error:m,fetchDrinks:p,fetchWeeklyDrinks:y,addDrink:x,removeDrink:b}},Yr=async a=>{const{data:t,error:s}=await pe.from("objectives").select("*").eq("user_id",a).order("created_at",{ascending:!1}).limit(1).maybeSingle();return{data:t,error:s}},dA=async(a,t)=>{const{data:s,error:r}=await pe.from("objectives").insert({user_id:a,...t}).select().single();return{data:s,error:r}},hA=async(a,t)=>{const{data:s,error:r}=await pe.from("objectives").update(t).eq("id",a).select().single();return{data:s,error:r}},fb=()=>{const{user:a}=Ct(),[t,s]=k.useState(null),[r,o]=k.useState(!1),[c,u]=k.useState(null),m=k.useCallback(async()=>{if(a){o(!0),u(null);try{const{data:p,error:y}=await Yr(a.id);y&&y.code!=="PGRST116"?u(y.message):s(p)}catch{u("Errore nel caricamento dell'obiettivo")}finally{o(!1)}}},[a]),g=async p=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const y={weekly_budget:p};if(t){const{data:x,error:b}=await hA(t.id,y);if(b)return{success:!1,error:b.message};s(x)}else{const{data:x,error:b}=await dA(a.id,y);if(b)return{success:!1,error:b.message};s(x)}return{success:!0}}catch{return{success:!1,error:"Errore nell'impostazione dell'obiettivo"}}};return k.useEffect(()=>{a&&m()},[a,m]),{objective:t,loading:r,error:c,fetchObjective:m,setWeeklyBudget:g}},fA=["Negroni","Campari","Aperol Spritz","Vino Rosso","Vino Bianco","Birra","Cocktail","Whisky","Gin Tonic","Vodka","Altro"],mA=["Casa","Bar","Pub","Ristorante","Discoteca","Festa","Altro"],gA=({onSubmit:a,onCancel:t})=>{const[s,r]=k.useState({type:"",cost:"",date:new Date().toISOString().split("T")[0],location:""}),o=c=>{c.preventDefault(),a({type:s.type,cost:parseFloat(s.cost),date:s.date,location:s.location})};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",children:h.jsxs(Q.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"bg-white dark:bg-gray-800 rounded-t-2xl w-full max-w-md p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Aggiungi Drink"}),h.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 text-2xl",children:""})]}),h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo di drink"}),h.jsxs("select",{value:s.type,onChange:c=>r({...s,type:c.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Seleziona..."}),fA.map(c=>h.jsx("option",{value:c,children:c},c))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Costo ()"}),h.jsx("input",{type:"number",step:"0.01",min:"0",value:s.cost,onChange:c=>r({...s,cost:c.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"5.00"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Data"}),h.jsx("input",{type:"date",value:s.date,onChange:c=>r({...s,date:c.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dove"}),h.jsxs("select",{value:s.location,onChange:c=>r({...s,location:c.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Seleziona..."}),mA.map(c=>h.jsx("option",{value:c,children:c},c))]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg font-semibold hover:bg-gray-50 dark:hover:bg-gray-600",children:"Annulla"}),h.jsx("button",{type:"submit",className:"flex-1 py-3 bg-teal-600 dark:bg-teal-700 text-white rounded-lg font-semibold hover:bg-teal-700 dark:hover:bg-teal-600",children:"Salva"})]})]})]})})},mb=({progress:a,className:t=""})=>{const s=Math.min(Math.max(a,0),100),r=()=>s>70?"bg-green-500":s>30?"bg-yellow-500":"bg-red-500",o=()=>s>70?"":s>30?"":s>0?"":"";return h.jsxs("div",{className:`space-y-2 ${t}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-2xl",children:o()}),h.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s.toFixed(0),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:h.jsx(Q.div,{className:`h-3 rounded-full transition-colors duration-300 ${r()}`,initial:{width:0},animate:{width:`${s}%`},transition:{duration:1,ease:"easeOut"}})}),s<=0&&h.jsx(Q.p,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-sm text-red-600 font-medium text-center",children:"Budget esaurito! "})]})},pA=({weeklyDrinks:a})=>{const t=()=>{const c=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],u=new Date,m=new Date(u.setDate(u.getDate()-u.getDay()));return c.map((g,p)=>{const y=new Date(m);return y.setDate(m.getDate()+p),{name:g,date:y.toISOString().split("T")[0]}})},r=t().map(u=>{const m=a.filter(g=>g.date===u.date);return{...u,count:m.length,drinks:m}}),o=Math.max(...r.map(c=>c.count),1);return h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Drink per giorno"}),h.jsx("div",{className:"flex items-end justify-between gap-2 h-32",children:r.map((c,u)=>h.jsxs(Q.div,{initial:{height:0},animate:{height:"auto"},transition:{delay:u*.1},className:"flex-1 flex flex-col items-center gap-2",children:[h.jsxs("div",{className:"w-full flex flex-col items-center gap-1",children:[h.jsx(Q.div,{initial:{height:0},animate:{height:c.count>0?`${c.count/o*80}px`:"4px"},transition:{delay:u*.1,duration:.6},className:`w-full rounded-t-lg ${c.count>0?"bg-teal-500 dark:bg-teal-600 shadow-sm":"bg-gray-200 dark:bg-gray-600"}`}),c.count>0&&h.jsx(Q.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:u*.1+.3},className:"text-xs font-semibold text-teal-600 dark:text-teal-400",children:c.count})]}),h.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-medium",children:c.name})]},c.date))}),a.length===0&&h.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 text-sm mt-4",children:"Nessun drink registrato questa settimana"})]})},yA=()=>{const{user:a}=Ct(),{weeklyDrinks:t,addDrink:s,removeDrink:r,loading:o}=uA(),{objective:c,loading:u}=fb(),[m,g]=k.useState(!1),p=async N=>{(await s(N)).success&&g(!1)},y=async N=>{window.confirm("Sei sicuro di voler eliminare questo drink?")&&await r(N)},x=t.reduce((N,C)=>N+C.cost,0),b=c?.weekly_budget||0,S=Math.max(0,b-x),j=b>0?S/b*100:100;return o||u?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-32",children:[h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"text-4xl mb-2",children:""}),h.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:["Hey ",a?.user_metadata?.username||"Sippy","!"]}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Come va il tuo consumo responsabile oggi? "})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-orange-50 dark:from-teal-900/30 dark:to-orange-900/30 rounded-2xl p-4 mb-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsxs("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Settimana corrente"]}),h.jsxs("span",{className:"text-sm font-bold text-teal-600 dark:text-teal-400",children:["",S.toFixed(2)," disponibili"]})]}),h.jsx(mb,{progress:j}),h.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2",children:[h.jsxs("span",{children:[" Speso: ",x.toFixed(2)]}),h.jsxs("span",{children:[" Budget: ",b.toFixed(2)]})]})]})}),h.jsxs(Q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(!0),className:"w-full bg-gradient-to-r from-teal-600 to-teal-700 text-white py-4 rounded-2xl font-bold hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("span",{children:"Traccia un drink"}),h.jsx("span",{className:"text-lg",children:""})]})]}),h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:h.jsx(pA,{weeklyDrinks:t})}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"I tuoi drink della settimana"})]}),t.length===0?h.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium mb-2",children:"Settimana pulita!"}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Nessun drink registrato ancora. Keep it up! "})]}):h.jsx("div",{className:"space-y-3",children:t.map(N=>h.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:N.type}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[N.location,"  ",new Date(N.date).toLocaleDateString("it-IT")]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-sm font-semibold text-teal-600 dark:text-teal-400",children:["",N.cost.toFixed(2)]}),h.jsx("button",{onClick:()=>y(N.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 p-1 rounded transition-colors",title:"Elimina drink",children:""})]})]},N.id))})]})]}),m&&h.jsx(gA,{onSubmit:p,onCancel:()=>g(!1)})]})},xA=async a=>{const{data:t,error:s}=await pe.from("group_members").select(`
      groups (
        id,
        name,
        owner_id,
        weekly_budget,
        created_at
      )
    `).eq("user_id",a);return{data:t?.map(o=>Array.isArray(o.groups)?o.groups[0]:o.groups).filter(Boolean)||[],error:s}},vA=async(a,t)=>{const{data:s,error:r}=await pe.from("groups").insert({name:t.name,owner_id:a,weekly_budget:t.weekly_budget}).select().single();if(r)return{data:null,error:r};const{error:o}=await pe.from("group_members").insert({group_id:s.id,user_id:a});return{data:s,error:o}},bA=async(a,t)=>{const{data:s,error:r}=await pe.from("group_members").insert({group_id:t,user_id:a}).select();return{data:s,error:r}},gb=async(a,t)=>{const{data:s,error:r}=await pe.from("groups").select("owner_id").eq("id",t).single();if(r)return{error:r};if(s.owner_id===a){const{data:c,error:u}=await pe.from("group_members").select("user_id, created_at").eq("group_id",t).neq("user_id",a).order("created_at",{ascending:!0}).limit(1);if(u)return{error:u};if(c&&c.length>0){const{error:m}=await pe.from("groups").update({owner_id:c[0].user_id}).eq("id",t);if(m)return{error:m}}}const{error:o}=await pe.from("group_members").delete().eq("group_id",t).eq("user_id",a);return{error:o}},wA=async(a,t)=>{const{data:s,error:r}=await pe.from("groups").select("owner_id").eq("id",t).single();if(r)return{error:r};if(s.owner_id!==a)return{error:{message:"Solo il proprietario pu eliminare il gruppo"}};const{error:o}=await pe.from("group_members").delete().eq("group_id",t);if(o)return{error:o};const{error:c}=await pe.from("drinks").delete().eq("group_id",t);if(c)return{error:c};const{error:u}=await pe.from("groups").delete().eq("id",t);return{error:u}},SA=async a=>{const{data:t,error:s}=await pe.from("group_members").select(`
      users!inner (
        id,
        username
      )
    `).eq("group_id",a);return s?{data:null,error:s}:t?{data:t.map(o=>Array.isArray(o.users)?o.users[0]:o.users).filter(Boolean),error:null}:{data:[],error:null}},kA=async(a,t)=>{if(!a.trim()||a.length<2)return{data:[],error:null};let s=pe.from("users").select("id, username").ilike("username",`%${a}%`);t&&(s=s.neq("id",t));const{data:r,error:o}=await s.limit(10);return{data:r||[],error:o}},pb=async(a,t)=>{try{const{data:s,error:r}=await pe.from("group_members").select("user_id").eq("group_id",a).eq("user_id",t).maybeSingle();return r&&r.code!=="PGRST116"?{data:null,error:r}:s?{data:null,error:{message:"Utente gi nel gruppo"}}:bA(t,a)}catch(s){return console.error("Error in inviteToGroup:",s),{data:null,error:{message:"Errore nell'invito"}}}},jA=async(a,t,s)=>{const{data:r}=await pe.from("groups").select("owner_id").eq("id",a).single();return!r||r.owner_id!==s?{error:{message:"Solo il proprietario pu rimuovere membri"}}:gb(t,a)},_A=async(a,t,s)=>{const{data:r}=await pe.from("groups").select("owner_id").eq("id",a).single();if(!r||r.owner_id!==s)return{error:{message:"Solo il proprietario pu modificare il budget"}};const{data:o,error:c}=await pe.from("groups").update({weekly_budget:t}).eq("id",a).select().single();return{data:o,error:c}},TA=async(a,t=10)=>{try{const{data:s,error:r}=await pe.from("group_members").select("user_id").eq("group_id",a);if(r)return{data:null,error:r};if(!s||s.length===0)return{data:[],error:null};const o=s.map(g=>g.user_id),{data:c,error:u}=await pe.from("drinks").select(`
        id,
        user_id,
        type,
        cost,
        date,
        location,
        created_at,
        users!inner (
          username
        )
      `).in("user_id",o).order("created_at",{ascending:!1}).limit(t);return u?{data:null,error:u}:c?{data:c.map(g=>({id:g.id,user_id:g.user_id,username:Array.isArray(g.users)?g.users[0].username:g.users.username,type:g.type,cost:g.cost,date:g.date,location:g.location,created_at:g.created_at})),error:null}:{data:[],error:null}}catch(s){return console.error("Error getting group recent drinks:",s),{data:null,error:s}}},yb=()=>{const{user:a}=Ct(),[t,s]=k.useState([]),[r,o]=k.useState(!1),[c,u]=k.useState(null),m=k.useCallback(async()=>{if(a){o(!0),u(null);try{const{data:x,error:b}=await xA(a.id);b?u(b.message):s(x||[])}catch{u("Errore nel caricamento dei gruppi")}finally{o(!1)}}},[a]),g=async x=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const{data:b,error:S}=await vA(a.id,x);return S?{success:!1,error:S.message}:(b&&s([b,...t]),{success:!0,data:b})}catch{return{success:!1,error:"Errore nella creazione del gruppo"}}},p=async x=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const{error:b}=await gb(a.id,x);return b?{success:!1,error:b.message}:(s(t.filter(S=>S.id!==x)),{success:!0})}catch{return{success:!1,error:"Errore nell'uscita dal gruppo"}}},y=async x=>{if(!a)return{success:!1,error:"Utente non autenticato"};try{const{error:b}=await wA(a.id,x);return b?{success:!1,error:b.message}:(s(t.filter(S=>S.id!==x)),{success:!0})}catch{return{success:!1,error:"Errore nell'eliminazione del gruppo"}}};return k.useEffect(()=>{a&&m()},[a,m]),{groups:t,loading:r,error:c,fetchGroups:m,addGroup:g,leaveGroup:p,removeGroup:y}},NA=a=>{const[t,s]=k.useState([]),[r,o]=k.useState(!1),[c,u]=k.useState(null),m=k.useCallback(async()=>{if(a){o(!0),u(null);try{const{data:y,error:x}=await SA(a);x?u(x.message):s(y||[])}catch{u("Errore nel caricamento dei membri")}finally{o(!1)}}},[a]),g=async y=>{try{const{data:x,error:b}=await pb(a,y);return b?{success:!1,error:b.message}:(await m(),{success:!0,data:x})}catch{return{success:!1,error:"Errore nell'invito"}}},p=async(y,x)=>{try{const{error:b}=await jA(a,y,x);return b?{success:!1,error:b.message}:(s(t.filter(S=>S.id!==y)),{success:!0})}catch{return{success:!1,error:"Errore nella rimozione"}}};return k.useEffect(()=>{m()},[a,m]),{members:t,loading:r,error:c,fetchMembers:m,inviteMember:g,removeMember:p}},EA=a=>{const[t,s]=k.useState([]),[r,o]=k.useState(!1),[c,u]=k.useState(null),m=k.useCallback(async g=>{if(!g.trim()){s([]),u(null),o(!1);return}o(!0),u(null);try{const{data:p,error:y}=await kA(g,a);y?u(y.message):s(p||[])}catch{u("Errore nella ricerca")}finally{o(!1)}},[a]);return{users:t,loading:r,error:c,search:m}},AA=async a=>{try{const t=new Date,s=new Date(t.setDate(t.getDate()-t.getDay())),r=new Date(t.setDate(t.getDate()-t.getDay()+6)),o=s.toISOString().split("T")[0],c=r.toISOString().split("T")[0],[u,m]=await Promise.all([pe.from("groups").select("*").eq("id",a).single(),pe.from("group_members").select(`
          user_id,
          users!inner (
            id,
            username
          )
        `).eq("group_id",a)]),{data:g,error:p}=u,{data:y,error:x}=m;if(p||!g)return{group:null,progress:[],leaderboard:[],error:p};if(x||!y)return{group:g,progress:[],leaderboard:[],error:x};if(y.length===0)return{group:g,progress:[],leaderboard:[],error:null};const b=g.weekly_budget||0,S=y.map(O=>Array.isArray(O.users)?O.users[0].id:O.users.id),{data:j,error:T}=await pe.from("drinks").select("user_id, cost").in("user_id",S).gte("date",o).lte("date",c);if(T)return{group:g,progress:[],leaderboard:[],error:T};const N=[],C=[];return y.forEach(O=>{const D=Array.isArray(O.users)?O.users[0]:O.users,Y=j?.filter(F=>F.user_id===D.id)||[],B=Y.reduce((F,J)=>F+J.cost,0),M=Y.length,P=b===0||B<=b;N.push({user_id:D.id,username:D.username,weekly_spent:B,drinks_count:M,is_within_budget:P,streak_weeks:0}),C.push({user_id:D.id,username:D.username,drink_count:M,total_cost:B})}),C.sort((O,D)=>D.drink_count!==O.drink_count?D.drink_count-O.drink_count:D.total_cost-O.total_cost),{group:g,progress:N,leaderboard:C,error:null}}catch(t){return console.error("Error in getGroupCompleteData:",t),{group:null,progress:[],leaderboard:[],error:t}}},DA=({member:a,groupBudget:t,isCurrentUser:s,onClick:r})=>{const o=Math.max(0,t-a.weekly_spent),c=t>0?o/t*100:100,u=()=>a.streak_weeks===0?null:a.streak_weeks===1?"":a.streak_weeks<=3?"":"",m=()=>s?"border-teal-500 dark:border-teal-400":a.is_within_budget?"border-green-200 dark:border-green-700":"border-red-200 dark:border-red-700",g=()=>s?"bg-teal-50 dark:bg-teal-900/30":"bg-white dark:bg-gray-800",p=()=>{r&&!s&&r(a.user_id,a.username)};return h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:p,className:`border-2 ${m()} ${g()} rounded-xl p-4 shadow-sm ${r&&!s?"cursor-pointer hover:shadow-md transition-shadow":""}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s?"bg-teal-100 dark:bg-teal-800":"bg-gray-100 dark:bg-gray-700"}`,children:h.jsx("span",{className:`font-semibold ${s?"text-teal-600 dark:text-teal-300":"text-gray-600 dark:text-gray-300"}`,children:a.username.charAt(0).toUpperCase()})}),h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white",children:[a.username,s&&h.jsx("span",{className:"ml-2 text-xs bg-teal-100 dark:bg-teal-800 text-teal-800 dark:text-teal-200 px-2 py-1 rounded-full",children:"Tu"})]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.drinks_count," drink",a.drinks_count!==1?"s":"","  ",a.weekly_spent.toFixed(2)]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[u()&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-lg",children:u()}),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.streak_weeks,"w"]})]}),a.is_within_budget?h.jsx("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:" Nel budget"}):h.jsx("span",{className:"text-red-600 dark:text-red-400 text-sm font-medium",children:" Sforato"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Obiettivo gruppo"}),h.jsxs("span",{className:"text-gray-800 dark:text-white font-medium",children:["",o.toFixed(2)," rimasti"]})]}),h.jsx(mb,{progress:c})]}),a.is_within_budget&&a.streak_weeks>0&&h.jsx(Q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-3 text-center",children:h.jsx("p",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:a.streak_weeks===1?" Prima settimana di successo!":` ${a.streak_weeks} settimane consecutive nel budget!`})})]})},CA=({data:a,currentUserId:t})=>{const s=[...a].sort((c,u)=>u.drink_count-c.drink_count),r=c=>{switch(c){case 0:return"";case 1:return"";case 2:return"";default:return`${c+1}`}},o=c=>{switch(c){case 0:return"text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/30";case 1:return"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700";case 2:return"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30";default:return"text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700"}};return a.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nessun dato disponibile"}),h.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Inizia a registrare i tuoi drink per vedere la classifica!"})]}):h.jsx("div",{className:"space-y-3",children:s.map((c,u)=>h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:`flex items-center p-4 rounded-lg border-2 transition-colors ${c.user_id===t?"border-teal-200 dark:border-teal-700 bg-teal-50 dark:bg-teal-900/30":"border-gray-100 dark:border-gray-600 bg-white dark:bg-gray-700"}`,children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${o(u)}`,children:r(u)}),h.jsxs("div",{className:"flex-1 ml-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:c.username}),c.user_id===t&&h.jsx("span",{className:"text-xs bg-teal-100 dark:bg-teal-800 text-teal-800 dark:text-teal-200 px-2 py-1 rounded-full font-medium",children:"Tu"}),u===0&&c.drink_count>0&&h.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-800 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded-full font-medium",children:"Leader"})]}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["",c.total_cost.toFixed(2)," spesi",c.drink_count>0&&h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:["(",(c.total_cost/c.drink_count).toFixed(1)," per drink)"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:c.drink_count}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"drink"})]})]},c.user_id))})},RA=({isOpen:a,onClose:t,onSubmit:s,currentBudget:r,groupName:o})=>{const[c,u]=k.useState(r.toString()),[m,g]=k.useState(!1),[p,y]=k.useState(""),x=async S=>{S.preventDefault();const j=parseFloat(c);if(isNaN(j)||j<0){y("Inserisci un budget valido");return}g(!0),y("");try{const T=await s(j);T.success?(t(),u(j.toString())):y(T.error||"Errore nel salvataggio")}catch{y("Errore inatteso")}finally{g(!1)}},b=()=>{m||(t(),y(""),u(r.toString()))};return h.jsx(Uo,{children:a&&h.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:b,children:h.jsxs(Q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm shadow-xl",onClick:S=>S.stopPropagation(),children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Imposta Obiettivo Gruppo"}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm",children:["Imposta un budget settimanale per ",o,". Tutti i membri dovranno rimanere sotto questo limite per mantenere la streak."]}),h.jsxs("form",{onSubmit:x,children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{htmlFor:"budget",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Budget settimanale ()"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400",children:""}),h.jsx("input",{id:"budget",type:"number",step:"0.01",min:"0",value:c,onChange:S=>u(S.target.value),className:"w-full pl-8 pr-4 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"0.00",disabled:m,required:!0})]})]}),p&&h.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg",children:h.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:p})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{type:"button",onClick:b,disabled:m,className:"flex-1 py-2 px-4 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Annulla"}),h.jsx("button",{type:"submit",disabled:m,className:"flex-1 py-2 px-4 bg-teal-600 dark:bg-teal-700 text-white rounded-lg hover:bg-teal-700 dark:hover:bg-teal-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:m?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Salvando..."]}):"Salva Obiettivo"})]})]}),h.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-lg",children:h.jsxs("p",{className:"text-blue-800 dark:text-blue-300 text-xs",children:[" ",h.jsx("strong",{children:"Suggerimento:"})," Un budget di 0 disabilita l'obiettivo gruppo. I membri potranno comunque vedere la classifica settimanale."]})})]})})})},OA=({drinks:a,loading:t,currentUserId:s})=>{const r=c=>{const u=new Date(c),g=new Date().getTime()-u.getTime(),p=Math.floor(g/(1e3*60*60)),y=Math.floor(p/24);return p<1?"Ora":p<24?`${p}h fa`:y===1?"Ieri":y<7?`${y}g fa`:cA(c)},o=c=>{const u=c.endsWith("Z")?c:c+"Z";return new Date(u).toLocaleString("it-IT",{hour:"2-digit",minute:"2-digit",timeZone:"Europe/Rome"})};return t?h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:" Ultimi Drink del Gruppo"}),h.jsx("div",{className:"space-y-3",children:[...Array(3)].map((c,u)=>h.jsx("div",{className:"animate-pulse",children:h.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]}),h.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-16"})]})},u))})]}):h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:" Ultimi Drink del Gruppo"}),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.length," drink",a.length!==1?"s":""]})]}),a.length===0?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"text-4xl mb-2",children:""}),h.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nessun drink ancora registrato"})]}):h.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.map((c,u)=>{const m=c.user_id===s;return h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},className:`flex items-center gap-3 p-3 rounded-lg transition-colors ${m?"bg-teal-50 dark:bg-teal-900/30 border border-teal-100 dark:border-teal-700":"bg-gray-50 dark:bg-gray-700"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${m?"bg-teal-100 dark:bg-teal-800 text-teal-600 dark:text-teal-300":"bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"}`,children:c.username.charAt(0).toUpperCase()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:`font-medium ${m?"text-teal-800 dark:text-teal-300":"text-gray-800 dark:text-white"}`,children:m?"Tu":c.username}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r(c.created_at)})]}),h.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-200 font-medium",children:c.type}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[h.jsxs("span",{children:[" ",c.location]}),h.jsx("span",{children:""}),h.jsx("span",{children:o(c.created_at)})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("span",{className:`text-sm font-semibold ${m?"text-teal-600 dark:text-teal-400":"text-gray-700 dark:text-gray-200"}`,children:["",c.cost.toFixed(2)]})})]},c.id)})}),a.length>0&&h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 dark:border-gray-700 text-center",children:h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Aggiornato in tempo reale  ",a.length,"/10 drink mostrati"]})})]})},rf=async a=>{try{const{data:t,error:s}=await pe.from("users").select("created_at").eq("id",a).single();if(s)return{data:null,error:s};const r=new Date(t.created_at),c=Math.floor((new Date().getTime()-r.getTime())/(1e3*60*60*24)),{data:u}=await pe.from("group_members").select("group_id").eq("user_id",a),m=u?.length||0,{data:g,error:p}=await pe.from("drinks").select("cost, date, group_id").eq("user_id",a);if(p)return{data:null,error:p};const y=new Date,x=new Date;y.setDate(y.getDate()-y.getDay()),x.setDate(x.getDate()-x.getDay()+6);const b=y.toISOString().split("T")[0],S=x.toISOString().split("T")[0],j=g?.length||0,T=g?.reduce((J,ie)=>J+ie.cost,0)||0,N=g?.filter(J=>J.date>=b&&J.date<=S)||[],C=N.length,O=N.reduce((J,ie)=>J+ie.cost,0),D=j>0?T/j:0;let Y=0,B=0,M=0;const{data:P}=await pe.from("group_members").select(`
        group_id,
        groups!inner (
          weekly_budget
        )
      `).eq("user_id",a).not("groups.weekly_budget","is",null);if(P&&P.length>0){const ie=P.map(je=>({groupId:je.group_id,budget:je.groups?.weekly_budget||0})).reduce((je,we)=>we.budget>je.budget?we:je);let Se=0,ke=0,ct=0;for(let je=0;je<20;je++){const we=new Date;we.setDate(we.getDate()-je*7-we.getDay());const q=new Date(we);q.setDate(we.getDate()+6);const I=we.toISOString().split("T")[0],te=q.toISOString().split("T")[0];(g?.filter($=>$.date>=I&&$.date<=te&&$.group_id===ie.groupId)?.reduce(($,W)=>$+W.cost,0)||0)<=ie.budget?(ct++,(je===0||Se===je)&&Se++,ke=Math.max(ke,Se)):je===0&&(Se=0)}M=ct,B=Se,Y=ke}return{data:{totalDrinks:j,totalSpent:T,weeklyDrinks:C,weeklySpent:O,averageCostPerDrink:D,joinedDays:c,groupsCount:m,maxStreakWeeks:Y,currentStreakWeeks:B,achievedWeeklyGoals:M},error:null}}catch(t){return console.error("Error getting user stats:",t),{data:null,error:t}}},MA=async(a,t=5)=>{try{const{data:s,error:r}=await pe.from("drinks").select("id, type, cost, date, location, created_at").eq("user_id",a).order("created_at",{ascending:!1}).limit(t);return r?{data:null,error:r}:{data:s||[],error:null}}catch(s){return console.error("Error getting user recent drinks:",s),{data:null,error:s}}},UA=[{id:"first_drink",title:"Prima volta",description:"Il tuo primo drink registrato",icon:"",category:"drink_milestones",requirement:"1 drink",checkUnlocked:a=>a.totalDrinks>=1},{id:"social_drinker",title:"Bevitore sociale",description:"Hai registrato 10 drink",icon:"",category:"drink_milestones",requirement:"10 drinks",checkUnlocked:a=>a.totalDrinks>=10},{id:"experienced",title:"Esperto",description:"Hai registrato 50 drink",icon:"",category:"drink_milestones",requirement:"50 drinks",checkUnlocked:a=>a.totalDrinks>=50},{id:"legend",title:"Leggenda",description:"Hai registrato 100 drink",icon:"",category:"drink_milestones",requirement:"100 drinks",checkUnlocked:a=>a.totalDrinks>=100},{id:"master",title:"Gran Maestro",description:"Hai registrato 250 drink",icon:"",category:"drink_milestones",requirement:"250 drinks",checkUnlocked:a=>a.totalDrinks>=250},{id:"unstoppable_drinker",title:"Inarrestabile",description:"Hai registrato 500 drink",icon:"",category:"drink_milestones",requirement:"500 drinks",checkUnlocked:a=>a.totalDrinks>=500},{id:"budget_conscious",title:"Attento al budget",description:"Media sotto 5 a drink",icon:"",category:"spending",requirement:"Media <5/drink",checkUnlocked:a=>a.averageCostPerDrink<5&&a.totalDrinks>=5},{id:"penny_pincher",title:"Risparmiatore",description:"Media sotto 3 a drink",icon:"",category:"spending",requirement:"Media <3/drink",checkUnlocked:a=>a.averageCostPerDrink<3&&a.totalDrinks>=10},{id:"big_spender",title:"Grande spendaccione",description:"Hai speso pi di 100 totali",icon:"",category:"spending",requirement:"100 spesi",checkUnlocked:a=>a.totalSpent>=100},{id:"premium_taste",title:"Gusti raffinati",description:"Media sopra 15 a drink",icon:"",category:"spending",requirement:"Media >15/drink",checkUnlocked:a=>a.averageCostPerDrink>15&&a.totalDrinks>=10},{id:"luxury_lifestyle",title:"Lifestyle di lusso",description:"Hai speso pi di 500 totali",icon:"",category:"spending",requirement:"500 spesi",checkUnlocked:a=>a.totalSpent>=500},{id:"champagne_taste",title:"Gusti da champagne",description:"Media sopra 25 a drink",icon:"",category:"spending",requirement:"Media >25/drink",checkUnlocked:a=>a.averageCostPerDrink>25&&a.totalDrinks>=20},{id:"team_player",title:"Giocatore di squadra",description:"Ti sei unito al tuo primo gruppo",icon:"",category:"social",requirement:"1 gruppo",checkUnlocked:a=>a.groupsCount>=1},{id:"social_butterfly",title:"Farfalla sociale",description:"Sei membro di 3 o pi gruppi",icon:"",category:"social",requirement:"3 gruppi",checkUnlocked:a=>a.groupsCount>=3},{id:"party_animal",title:"Animale da festa",description:"Sei membro di 5 o pi gruppi",icon:"",category:"social",requirement:"5 gruppi",checkUnlocked:a=>a.groupsCount>=5},{id:"networking_king",title:"Re del networking",description:"Sei membro di 10 o pi gruppi",icon:"",category:"social",requirement:"10 gruppi",checkUnlocked:a=>a.groupsCount>=10},{id:"goal_setter",title:"Obiettivi chiari",description:"Hai impostato il tuo primo obiettivo",icon:"",category:"goals",requirement:"Imposta obiettivo",checkUnlocked:(a,t)=>t},{id:"goal_achiever",title:"Raggiungitore obiettivi",description:"Hai rispettato l'obiettivo settimanale",icon:"",category:"goals",requirement:"1 settimana in budget",checkUnlocked:a=>a.achievedWeeklyGoals>=1},{id:"consistent_saver",title:"Risparmiatore costante",description:"Hai rispettato l'obiettivo per 5 settimane",icon:"",category:"goals",requirement:"5 settimane in budget",checkUnlocked:a=>a.achievedWeeklyGoals>=5},{id:"budget_master",title:"Maestro del budget",description:"Hai rispettato l'obiettivo per 10 settimane",icon:"",category:"goals",requirement:"10 settimane in budget",checkUnlocked:a=>a.achievedWeeklyGoals>=10},{id:"discipline_warrior",title:"Guerriero della disciplina",description:"Hai rispettato l'obiettivo per 20 settimane",icon:"",category:"goals",requirement:"20 settimane in budget",checkUnlocked:a=>a.achievedWeeklyGoals>=20},{id:"streak_starter",title:"Inizio streak",description:"Prima settimana di streak consecutivo",icon:"",category:"streaks",requirement:"1 settimana di streak",checkUnlocked:a=>a.maxStreakWeeks>=1},{id:"on_fire",title:"In fiamme",description:"3 settimane consecutive in budget",icon:"",category:"streaks",requirement:"3 settimane consecutive",checkUnlocked:a=>a.maxStreakWeeks>=3},{id:"unstoppable",title:"Inarrestabile",description:"5 settimane consecutive in budget",icon:"",category:"streaks",requirement:"5 settimane consecutive",checkUnlocked:a=>a.maxStreakWeeks>=5},{id:"legendary_streak",title:"Streak leggendario",description:"10 settimane consecutive in budget",icon:"",category:"streaks",requirement:"10 settimane consecutive",checkUnlocked:a=>a.maxStreakWeeks>=10},{id:"current_champion",title:"Campione corrente",description:"Attualmente in streak",icon:"",category:"streaks",requirement:"Streak attivo",checkUnlocked:a=>a.currentStreakWeeks>=1},{id:"month_warrior",title:"Guerriero del mese",description:"4 settimane consecutive in budget",icon:"",category:"streaks",requirement:"1 mese consecutivo",checkUnlocked:a=>a.maxStreakWeeks>=4},{id:"week_veteran",title:"Una settimana completa",description:"Sei nell'app da 7 giorni",icon:"",category:"time",requirement:"7 giorni",checkUnlocked:a=>a.joinedDays>=7},{id:"month_veteran",title:"Veterano del mese",description:"Sei nell'app da 30 giorni",icon:"",category:"time",requirement:"30 giorni",checkUnlocked:a=>a.joinedDays>=30},{id:"quarter_veteran",title:"Veterano trimestrale",description:"Sei nell'app da 90 giorni",icon:"",category:"time",requirement:"90 giorni",checkUnlocked:a=>a.joinedDays>=90},{id:"year_veteran",title:"Veterano dell'anno",description:"Sei nell'app da 365 giorni",icon:"",category:"time",requirement:"1 anno",checkUnlocked:a=>a.joinedDays>=365},{id:"busy_week",title:"Settimana intensa",description:"Pi di 7 drink in una settimana",icon:"",category:"special",requirement:"7+ drink/settimana",checkUnlocked:a=>a.weeklyDrinks>7},{id:"weekend_warrior",title:"Guerriero del weekend",description:"Attivo durante il fine settimana",icon:"",category:"special",requirement:"Drinks nel weekend",checkUnlocked:a=>a.totalDrinks>=5},{id:"variety_lover",title:"Amante della variet",description:"Hai provato molti tipi diversi",icon:"",category:"special",requirement:"Variet di drinks",checkUnlocked:a=>a.totalDrinks>=25},{id:"explorer",title:"Esploratore",description:"Hai bevuto in molti posti diversi",icon:"",category:"special",requirement:"Posti diversi",checkUnlocked:a=>a.totalDrinks>=30},{id:"loyal_tracker",title:"Tracker fedele",description:"Registri costantemente i tuoi drink",icon:"",category:"special",requirement:"Uso costante app",checkUnlocked:a=>a.totalDrinks>=20&&a.joinedDays>=14},{id:"summer_vibes",title:"Vibes estive",description:"Attivo durante l'estate",icon:"",category:"seasonal",requirement:"Drinks in estate",checkUnlocked:a=>a.totalDrinks>=10},{id:"winter_warmer",title:"Scaldacuore invernale",description:"Drinks caldi in inverno",icon:"",category:"seasonal",requirement:"Drinks invernali",checkUnlocked:a=>a.totalDrinks>=15},{id:"new_year_starter",title:"Nuovo anno, nuovi obiettivi",description:"Hai iniziato l'anno con determinazione",icon:"",category:"seasonal",requirement:"Attivit a gennaio",checkUnlocked:a=>a.totalDrinks>=5}],Po=(a,t=!1)=>UA.map(s=>({...s,unlocked:s.checkUnlocked(a,t)})),xb=(a,t=!1)=>{const s=Po(a,t);return{drink_milestones:s.filter(o=>o.category==="drink_milestones"),spending:s.filter(o=>o.category==="spending"),social:s.filter(o=>o.category==="social"),goals:s.filter(o=>o.category==="goals"),streaks:s.filter(o=>o.category==="streaks"),time:s.filter(o=>o.category==="time"),special:s.filter(o=>o.category==="special"),seasonal:s.filter(o=>o.category==="seasonal")}},vb=a=>({drink_milestones:" Milestone Drinks",spending:" Budget & Spesa",social:" Social & Gruppi",goals:" Obiettivi",streaks:" Streak",time:" Tempo",special:" Speciali",seasonal:" Stagionali"})[a]||a,si=({badge:a,delay:t=0})=>h.jsx(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:t},className:`p-4 rounded-lg border-2 transition-all ${a.unlocked?"border-teal-200 dark:border-teal-700 bg-teal-50 dark:bg-teal-900/30":"border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 opacity-60"}`,children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:`text-3xl ${a.unlocked?"":"grayscale"}`,children:a.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:`font-semibold ${a.unlocked?"text-gray-800 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:a.title}),h.jsx("p",{className:`text-sm ${a.unlocked?"text-gray-600 dark:text-gray-300":"text-gray-400 dark:text-gray-500"}`,children:a.description}),!a.unlocked&&h.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:["Requisito: ",a.requirement]})]}),a.unlocked&&h.jsx(Q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:t+.2},className:"text-teal-600 dark:text-teal-400 text-xl",children:""})]})}),LA=({isOpen:a,onClose:t,userId:s,username:r})=>{const[o,c]=k.useState(null),[u,m]=k.useState(null),[g,p]=k.useState([]),[y,x]=k.useState([]),[b,S]=k.useState(!1),[j,T]=k.useState("stats");k.useEffect(()=>{a&&s&&N()},[a,s]);const N=async()=>{S(!0);try{const[B,M,P]=await Promise.all([rf(s),Yr(s),MA(s,5)]);if(B.data){c(B.data);const F=!!M.data,J=Po(B.data,F);p(J)}M.data&&m(M.data),P.data&&x(P.data)}catch(B){console.error("Error loading user profile:",B)}finally{S(!1)}},C=()=>{c(null),m(null),p([]),x([]),T("stats"),t()},O=g.filter(B=>B.unlocked),D=g.filter(B=>!B.unlocked),Y=o?xb(o,!!u):null;return h.jsx(Uo,{children:a&&h.jsxs(h.Fragment,{children:[h.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:C}),h.jsx(Q.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"bg-teal-600 dark:bg-teal-700 text-white p-6 pb-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-white bg-opacity-20 flex items-center justify-center",children:h.jsx("span",{className:"font-bold text-lg",children:r.charAt(0).toUpperCase()})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold",children:r}),h.jsx("p",{className:"text-teal-100 dark:text-teal-200 text-sm",children:"Profilo utente"})]})]}),h.jsx("button",{onClick:C,className:"text-white hover:bg-white hover:bg-opacity-20 w-8 h-8 rounded-full flex items-center justify-center transition-colors",children:""})]}),h.jsxs("div",{className:"flex bg-white dark:bg-gray-700 bg-opacity-20 dark:bg-opacity-100 rounded-lg p-1",children:[h.jsx("button",{onClick:()=>T("stats"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${j==="stats"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-white hover:bg-white hover:bg-gray-600 hover:bg-opacity-10 dark:hover:bg-opacity-100"}`,children:" Statistiche"}),h.jsxs("button",{onClick:()=>T("badges"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${j==="badges"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-white hover:bg-white hover:bg-gray-600 hover:bg-opacity-10 dark:hover:bg-opacity-100"}`,children:[" Badge (",O.length,")"]}),h.jsx("button",{onClick:()=>T("drinks"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-colors ${j==="drinks"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-white hover:bg-white hover:bg-gray-600 hover:bg-opacity-10 dark:hover:bg-opacity-100"}`,children:" Drinks"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-6",style:{minHeight:0},children:b?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento profilo..."})]}):h.jsxs(h.Fragment,{children:[j==="stats"&&o&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsx("p",{className:"text-2xl font-bold text-teal-600",children:o.totalDrinks}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Drink totali"})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("p",{className:"text-2xl font-bold text-teal-600",children:["",o.totalSpent.toFixed(2)]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Spesa totale"})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o.weeklyDrinks}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Questa settimana"})]}),h.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",o.weeklySpent.toFixed(2)]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Spesa settimanale"})]})]}),h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:["",o.averageCostPerDrink.toFixed(2)]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Costo medio"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o.joinedDays}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Giorni nell'app"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o.groupsCount}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Gruppi"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:o.achievedWeeklyGoals}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Obiettivi raggiunti"})]})]})}),(o.currentStreakWeeks>0||o.maxStreakWeeks>0)&&h.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 rounded-xl p-4 border border-orange-200 dark:border-orange-700",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:[o.currentStreakWeeks," settimane"]})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Streak corrente"})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:[o.maxStreakWeeks," settimane"]})]}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Record streak"})]})]}),o.currentStreakWeeks>0&&h.jsx("div",{className:"mt-3 text-center",children:h.jsxs("p",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:[" In streak da ",o.currentStreakWeeks," settimana",o.currentStreakWeeks!==1?"e":"","!"]})})]})]}),j==="badges"&&Y&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[h.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-orange-50 dark:from-teal-900/30 dark:to-orange-900/30 rounded-xl p-4 border border-teal-200 dark:border-teal-700",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-teal-600",children:O.length}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Sbloccati"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-orange-600",children:D.length}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Da sbloccare"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-2xl font-bold text-gray-800",children:g.length}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Totali"})]})]})}),h.jsx("div",{className:"space-y-6 max-h-[40vh] overflow-y-auto pr-2",children:Object.entries(Y).map(([B,M])=>{const P=M.filter(J=>J.unlocked),F=M.filter(J=>!J.unlocked);return M.length===0?null:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"sticky top-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm py-2 -mx-2 px-2 border-b border-gray-100 dark:border-gray-700",children:h.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center justify-between",children:[vb(B),h.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[P.length,"/",M.length]})]})}),P.length>0&&h.jsx("div",{className:"space-y-3",children:P.map((J,ie)=>h.jsx(si,{badge:J,delay:ie*.05},J.id))}),F.length>0&&h.jsxs("div",{className:"space-y-3",children:[F.slice(0,3).map((J,ie)=>h.jsx(si,{badge:J,delay:ie*.05},J.id)),F.length>3&&h.jsx("div",{className:"text-center py-2",children:h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",F.length-3," altri badge da sbloccare"]})})]})]},B)})}),g.length===0&&h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Nessun badge disponibile"})]}),j==="drinks"&&h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:y.length>0?y.map(B=>h.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-800 dark:text-white",children:B.type}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[new Date(B.date).toLocaleDateString("it-IT"),"  ",B.location]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"font-semibold text-teal-600",children:["",B.cost.toFixed(2)]}),h.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(B.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})]})]})},B.id)):h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Nessun drink registrato di recente"})})]})})]})})]})})},Be=({className:a})=>h.jsx(Q.div,{className:`bg-gray-200 animate-pulse rounded ${a}`,initial:{opacity:.5},animate:{opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:.8}}),BA=()=>h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx(Be,{className:"h-8 w-48"}),h.jsx(Be,{className:"h-8 w-24"})]}),h.jsxs("div",{className:"mb-4 space-y-2",children:[h.jsx(Be,{className:"h-4 w-64"}),h.jsx(Be,{className:"h-3 w-32"})]}),h.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[h.jsx(Be,{className:"flex-1 h-8 mx-1"}),h.jsx(Be,{className:"flex-1 h-8 mx-1"}),h.jsx(Be,{className:"flex-1 h-8 mx-1"})]})]}),Dd=()=>h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6 mb-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Be,{className:"w-10 h-10 rounded-full"}),h.jsxs("div",{children:[h.jsx(Be,{className:"h-4 w-24 mb-1"}),h.jsx(Be,{className:"h-3 w-16"})]})]}),h.jsx(Be,{className:"h-6 w-16 rounded-full"})]}),h.jsx("div",{className:"mb-3",children:h.jsx(Be,{className:"h-2 w-full rounded-full"})}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx(Be,{className:"h-4 w-20"}),h.jsx(Be,{className:"h-4 w-16"})]})]}),VA=()=>h.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(a=>h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},className:"bg-gray-50 rounded-xl p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Be,{className:"w-8 h-8 rounded-full"}),h.jsxs("div",{children:[h.jsx(Be,{className:"h-4 w-20 mb-1"}),h.jsx(Be,{className:"h-3 w-16"})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx(Be,{className:"h-4 w-12 mb-1"}),h.jsx(Be,{className:"h-3 w-16"})]})]})},a))}),zA=()=>h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx(Be,{className:"h-6 w-40 mb-2"}),h.jsx(Be,{className:"h-4 w-64"})]}),h.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>h.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:a*.1},className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Be,{className:"w-6 h-6 rounded"}),h.jsxs("div",{children:[h.jsx(Be,{className:"h-4 w-16 mb-1"}),h.jsx(Be,{className:"h-3 w-24"})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx(Be,{className:"h-4 w-12 mb-1"}),h.jsx(Be,{className:"h-3 w-16"})]})]},a))})]}),PA=()=>{const{groupId:a}=kk(),{user:t}=Ct(),s=oi(),{leaveGroup:r,removeGroup:o}=yb(),[c,u]=k.useState(null),[m,g]=k.useState([]),[p,y]=k.useState([]),[x,b]=k.useState(null),[S,j]=k.useState([]),[T,N]=k.useState(!0),[C,O]=k.useState(!1),[D]=k.useState({}),[Y,B]=k.useState(!1),[M,P]=k.useState(!1),[F,J]=k.useState(null),[ie,Se]=k.useState("progress"),[ke,ct]=k.useState(null),je=k.useCallback(async()=>{if(!(!a||!t))try{N(!0);const[X,ne]=await Promise.allSettled([AA(a),TA(a,10)]);if(X.status==="fulfilled"){const{group:de,progress:oe,leaderboard:ut,error:De}=X.value;!De&&de?(u(de),g(oe),y(ut),b(null)):b("Errore nel caricamento dei dati gruppo")}else b("Errore nel caricamento dei dati gruppo"),y([]);if(ne.status==="fulfilled"){const{data:de}=ne.value;de&&j(de)}}catch(X){console.error("Error loading group data:",X),b("Errore nel caricamento")}finally{N(!1),O(!1),ct(new Date)}},[a,t]),we=async X=>{if(!t||!a||!c)return{success:!1,error:"Dati mancanti"};try{const ne=await _A(a,X,t.id);return ne.error?{success:!1,error:ne.error.message}:(ne.data&&(u(ne.data),await je()),{success:!0})}catch{return{success:!1,error:"Errore nel salvataggio"}}};k.useEffect(()=>{je()},[je]),k.useEffect(()=>{const X=setInterval(()=>{document.visibilityState==="visible"&&!C&&je()},3e5);return()=>clearInterval(X)},[je,C]),k.useEffect(()=>{const X=()=>{document.visibilityState==="visible"&&ke&&Date.now()-ke.getTime()>6e4&&!C&&je()};return document.addEventListener("visibilitychange",X),()=>document.removeEventListener("visibilitychange",X)},[je,ke,C]);const q=()=>{O(!0),je()},I=(X,ne)=>{J({id:X,username:ne}),P(!0)},te=()=>{P(!1),J(null)},fe=async()=>{if(!a||!c)return;const X=c.owner_id===t?.id;let ne="Sei sicuro di voler uscire da questo gruppo?";if(X&&(ne="Sei il proprietario di questo gruppo. Se esci, la propriet verr trasferita al membro pi anziano. Continuare?"),window.confirm(ne)){const de=await r(a);de.success?s("/groups"):alert(`Errore: ${de.error}`)}},E=async()=>{if(!(!a||!c)&&window.confirm("Sei sicuro di voler eliminare questo gruppo? Questa azione non pu essere annullata e tutti i dati del gruppo verranno persi.")){const X=await o(a);X.success?s("/groups"):alert(`Errore: ${X.error}`)}};if(T)return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-20",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx(BA,{}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Dd,{}),h.jsx(Dd,{}),h.jsx(Dd,{})]})]})});if(!c)return h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gruppo non trovato"})})});const $=c.weekly_budget||0,W=c.owner_id===t?.id;return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-20",children:[h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:c.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:q,disabled:C,className:"text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200 text-sm hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded-lg transition-colors disabled:opacity-50",title:"Aggiorna dati",children:h.jsx("span",{className:`text-lg ${C?"animate-spin":""}`,children:""})}),W?h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>B(!0),className:"text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 text-sm font-medium hover:bg-teal-50 dark:hover:bg-teal-900 px-3 py-1 rounded-lg transition-colors",children:" Obiettivo"}),h.jsx("button",{onClick:E,className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm font-medium hover:bg-red-50 dark:hover:bg-red-900 px-3 py-1 rounded-lg transition-colors",title:"Elimina gruppo",children:" Elimina"})]}):h.jsx("button",{onClick:fe,className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium hover:bg-orange-50 dark:hover:bg-orange-900 px-3 py-1 rounded-lg transition-colors",title:"Esci dal gruppo",children:" Esci"})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-1",children:$>0?`Obiettivo settimanale: ${$.toFixed(2)}`:"Nessun obiettivo impostato"}),ke&&h.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Ultimo aggiornamento: ",ke.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]}),h.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[h.jsx("button",{onClick:()=>Se("progress"),className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${ie==="progress"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-gray-600 dark:text-gray-300"}`,children:" Progresso"}),h.jsx("button",{onClick:()=>Se("leaderboard"),className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${ie==="leaderboard"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-gray-600 dark:text-gray-300"}`,children:" Classifica"}),h.jsx("button",{onClick:()=>Se("drinks"),className:`flex-1 py-2 px-2 rounded-md text-xs font-medium transition-colors ${ie==="drinks"?"bg-white dark:bg-gray-800 text-teal-600 dark:text-teal-400 shadow-sm":"text-gray-600 dark:text-gray-300"}`,children:" Attivit"})]})]}),ie==="leaderboard"&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:" Classifica Settimanale"}),C&&h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-600"})]}),D.leaderboard?h.jsx(VA,{}):x?h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-xl p-4 text-center",children:[h.jsxs("p",{className:"text-red-800 dark:text-red-300 font-medium",children:[" ",x]}),h.jsx("button",{onClick:q,className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm font-medium mt-2 hover:underline",children:"Riprova"})]}):h.jsx(CA,{data:p,currentUserId:t?.id})]}),ie==="progress"&&h.jsxs("div",{className:"space-y-4",children:[$===0?h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-xl p-4 text-center",children:[h.jsx("p",{className:"text-yellow-800 dark:text-yellow-300 font-medium",children:" Nessun obiettivo gruppo impostato"}),h.jsx("p",{className:"text-yellow-700 dark:text-yellow-400 text-sm mt-1",children:"Il proprietario del gruppo deve impostare un budget settimanale"})]}):h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-xl p-4 text-center",children:[h.jsxs("p",{className:"text-blue-800 dark:text-blue-300 font-medium",children:[" Obiettivo gruppo: ",$.toFixed(2)," a settimana"]}),h.jsx("p",{className:"text-blue-700 dark:text-blue-400 text-sm mt-1",children:"Mantieniti sotto questo limite per rimanere in streak! "})]}),m.map(X=>h.jsx(DA,{member:X,groupBudget:$,isCurrentUser:X.user_id===t?.id,onClick:I},X.user_id))]}),ie==="drinks"&&(D.drinks?h.jsx(zA,{}):h.jsx(OA,{drinks:S,loading:!1,currentUserId:t?.id}))]}),h.jsx(RA,{isOpen:Y,onClose:()=>B(!1),onSubmit:we,currentBudget:$,groupName:c.name}),F&&h.jsx(LA,{isOpen:M,onClose:te,userId:F.id,username:F.username})]})},qA=({isOpen:a,onClose:t,onSubmit:s})=>{const[r,o]=k.useState(""),[c,u]=k.useState(!1),[m,g]=k.useState(""),p=async x=>{if(x.preventDefault(),u(!0),g(""),!r.trim()){g("Nome del gruppo richiesto"),u(!1);return}try{const b=await s({name:r.trim()});b.success?(o(""),t()):g(b.error||"Errore nella creazione del gruppo")}catch{g("Errore imprevisto")}finally{u(!1)}},y=()=>{o(""),g(""),t()};return h.jsx(Uo,{children:a&&h.jsxs(h.Fragment,{children:[h.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:y}),h.jsx(Q.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Crea nuovo gruppo"}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nome del gruppo"}),h.jsx("input",{type:"text",value:r,onChange:x=>o(x.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Es. Amici del bar",maxLength:50})]}),m&&h.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:m}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{type:"button",onClick:y,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Annulla"}),h.jsx("button",{type:"submit",disabled:c,className:"flex-1 px-4 py-2 bg-teal-600 dark:bg-teal-700 text-white rounded-lg hover:bg-teal-700 dark:hover:bg-teal-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Creazione...":"Crea gruppo"})]})]})]})})]})})},HA=({isOpen:a,onClose:t,onInvite:s})=>{const{user:r}=Ct(),[o,c]=k.useState(""),[u,m]=k.useState(!1),[g,p]=k.useState(""),{users:y,search:x,loading:b}=EA(r?.id);k.useEffect(()=>{if(o.trim().length>=2){const T=setTimeout(()=>{x(o)},300);return()=>clearTimeout(T)}else x("")},[o,x]);const S=async T=>{m(!0),p("");try{console.log("Inviting user:",T);const N=await s(T);console.log("Invite result:",N),N.success?(c(""),t()):p(N.error||"Errore nell'invito")}catch(N){console.error("Invite error:",N),p("Errore imprevisto")}finally{m(!1)}},j=()=>{c(""),p(""),t()};return h.jsx(Uo,{children:a&&h.jsxs(h.Fragment,{children:[h.jsx(Q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50",onClick:j}),h.jsx(Q.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Invita utente"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cerca utente per username"}),h.jsx("input",{type:"text",value:o,onChange:T=>c(T.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"Inserisci username..."})]}),g&&h.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm bg-red-50 dark:bg-red-900/30 p-3 rounded-lg",children:g}),h.jsx("div",{className:"max-h-60 overflow-y-auto",children:b?h.jsx("div",{className:"text-center py-4",children:h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600 mx-auto"})}):y.length>0?h.jsx("div",{className:"space-y-2",children:y.map(T=>h.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:[h.jsx("div",{children:h.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:T.username})}),h.jsx("button",{onClick:()=>S(T.id),disabled:u,className:"px-3 py-1 text-sm bg-teal-600 dark:bg-teal-700 text-white rounded hover:bg-teal-700 dark:hover:bg-teal-600 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Invito...":"Invita"})]},T.id))}):o.trim().length>=2?h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Nessun utente trovato"}):h.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"Inserisci almeno 2 caratteri per cercare"})}),h.jsx("div",{className:"flex space-x-3",children:h.jsx("button",{type:"button",onClick:j,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Chiudi"})})]})]})})]})})},$A=()=>{const{user:a}=Ct(),{groups:t,loading:s,addGroup:r}=yb(),o=oi(),[c,u]=k.useState(!1),[m,g]=k.useState(null),[p,y]=k.useState(!1),x=async S=>await r(S),b=async S=>{if(!m)return{success:!1,error:"Gruppo non selezionato"};try{const{data:j,error:T}=await pb(m,S);return T?{success:!1,error:T.message}:{success:!0,data:j}}catch(j){return console.error("Invite error:",j),{success:!1,error:"Errore nell'invito"}}};return s?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento gruppi..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-32",children:[h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsx("div",{className:"text-4xl mb-2",children:""}),h.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Sippy Squad"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-6",children:"I tuoi gruppi di sfida  Bevi responsabilmente, competi intelligentemente"}),h.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center gap-2 mx-auto",children:[h.jsx("span",{className:"text-lg",children:""}),"Crea nuovo squad"]})]}),t.length===0?h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-orange-50 to-teal-50 rounded-3xl shadow-lg p-8 text-center border border-orange-100",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:"Pronto per la sfida?"}),h.jsx("p",{className:"text-gray-600 mb-2 leading-relaxed",children:" Monitora i tuoi consumi con gli amici"}),h.jsx("p",{className:"text-gray-600 mb-2 leading-relaxed",children:" Competi in classifiche settimanali"}),h.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:" Mantieni streak di consumo responsabile"}),h.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 mb-6",children:h.jsxs("p",{className:"text-sm text-gray-700 font-medium",children:[" ",h.jsx("strong",{children:"Primo squad?"})," Invita 2-3 amici e iniziate a tracciare insieme!"]})}),h.jsx(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"bg-gradient-to-r from-orange-500 to-teal-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:shadow-xl transition-all duration-200 text-lg",children:" Iniziamo!"})]}):h.jsx("div",{className:"space-y-4",children:t.map((S,j)=>h.jsx(GA,{group:S,isOwner:S.owner_id===a?.id,onInvite:()=>{g(S.id),y(!0)},onClick:()=>o(`/group/${S.id}`),delay:j*.1},S.id))})]}),h.jsx(qA,{isOpen:c,onClose:()=>u(!1),onSubmit:x}),h.jsx(HA,{isOpen:p,onClose:()=>{y(!1),g(null)},onInvite:b})]})},GA=({group:a,isOwner:t,onInvite:s,onClick:r,delay:o})=>{const{members:c,loading:u}=NA(a.id),m=g=>{g.stopPropagation(),s()};return h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o},className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-3xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-600 hover:border-teal-200 dark:hover:border-teal-400",onClick:r,whileHover:{y:-2},children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:a.name})]}),t&&h.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 hover:bg-teal-200 dark:hover:bg-teal-800 text-xs font-semibold px-3 py-1 rounded-full transition-colors",children:[h.jsx("span",{className:"mr-1",children:""}),"Invita"]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center text-sm",children:[h.jsx("span",{className:"text-lg mr-2",children:t?"":""}),h.jsx("span",{className:`font-medium ${t?"text-yellow-600 dark:text-yellow-400":"text-teal-600 dark:text-teal-400"}`,children:t?"Squad Leader":"Squad Member"})]}),a.weekly_budget&&h.jsxs("div",{className:"text-xs text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/30 px-3 py-1 rounded-full font-semibold",children:[" ",a.weekly_budget,"/week"]})]}),h.jsxs("div",{className:"bg-gray-50/70 dark:bg-gray-600/30 rounded-2xl p-4 mb-4",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsxs("p",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Squad Members (",u?"...":c.length,")"]})}),u?h.jsx("div",{className:"text-center py-2",children:h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-600 mx-auto"})}):h.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.slice(0,3).map(g=>h.jsx("div",{className:"bg-white dark:bg-gray-700 px-3 py-1 rounded-full text-xs font-medium text-gray-700 dark:text-gray-300",children:g.username},g.id)),c.length>3&&h.jsxs("div",{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 px-3 py-1 rounded-full text-xs font-medium",children:["+",c.length-3," altri"]})]})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-2",children:[h.jsx("span",{children:""}),h.jsx("span",{children:"Tocca per vedere statistiche e classifiche"})]}),h.jsxs("div",{className:"flex justify-center gap-1",children:[h.jsx("div",{className:"w-2 h-1 bg-teal-400 rounded-full"}),h.jsx("div",{className:"w-2 h-1 bg-orange-400 rounded-full"}),h.jsx("div",{className:"w-2 h-1 bg-teal-400 rounded-full"})]})]})]})},YA=()=>{const{user:a}=Ct(),[t,s]=k.useState(null),[r,o]=k.useState(null),[c,u]=k.useState([]),[m,g]=k.useState(!0),p=k.useCallback(async()=>{if(a)try{const[b,S]=await Promise.all([rf(a.id),Yr(a.id)]);if(b.data){s(b.data);const j=!!S.data,T=Po(b.data,j);u(T)}S.data&&o(S.data)}catch(b){console.error("Error loading achievements:",b)}finally{g(!1)}},[a]);k.useEffect(()=>{p()},[p]);const y=c.filter(b=>b.unlocked),x=t?xb(t,!!r):null;return m?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento achievements..."})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-32",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-4",children:" I tuoi Achievement"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-teal-600",children:t?.totalDrinks||0}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Drink totali"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.length}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Badge sbloccati"})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[r?.weekly_budget||"-",""]}),h.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Spesa massima settimanale"})]})]}),t&&h.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"text-lg font-semibold text-teal-600",children:["",t.totalSpent.toFixed(2)]}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Spesa totale"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-orange-600",children:t.groupsCount}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Gruppi"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.achievedWeeklyGoals}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Obiettivi raggiunti"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-semibold text-red-600",children:t.maxStreakWeeks}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Record streak"})]})]})]}),x&&Object.entries(x).map(([b,S],j)=>{const T=S.filter(C=>C.unlocked),N=S.filter(C=>!C.unlocked);return S.length===0?null:h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+j*.1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:vb(b)}),h.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:[T.length,"/",S.length]})]}),T.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:""}),"Sbloccati (",T.length,")"]}),h.jsx("div",{className:"space-y-3",children:T.map((C,O)=>h.jsx(si,{badge:C,delay:O*.05},C.id))})]}),N.length>0&&h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:""}),"Da sbloccare (",N.length,")"]}),h.jsxs("div",{className:"space-y-3",children:[N.slice(0,3).map((C,O)=>h.jsx(si,{badge:C,delay:O*.05},C.id)),N.length>3&&h.jsxs("div",{className:"text-center py-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",N.length-3," altri badge da sbloccare"]}),h.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Continua a raggiungere obiettivi per vederli tutti!"})]})]})]})]},b)}),c.length===0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8 text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Nessun badge disponibile"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Inizia a registrare i tuoi drink per sbloccare i primi badge!"})]})]})})},KA=()=>{const{user:a}=Ct(),[t,s]=k.useState(null),[r,o]=k.useState(null),[c,u]=k.useState(null),[m,g]=k.useState(null),[p,y]=k.useState(null),[x,b]=k.useState(null),[S,j]=k.useState(!0),[T,N]=k.useState(null),C=k.useCallback(async()=>{if(a)try{j(!0),N(null);const{data:D,error:Y}=await zo(a.id);if(Y)throw new Error(Y.message);const{data:B}=await Yr(a.id);if(!D||D.length===0){s({totalDrinks:0,weeklyTrends:[],monthlyTrends:[]}),o({topLocation:"N/A",locations:[]}),u({peakHour:0,peakDay:"N/A",hourlyPattern:[],dailyPattern:[]}),g({totalSpent:0,averageWeeklyCost:0,averageDrinkCost:0,costByType:[],costByLocation:[]}),y({goalsAchieved:0,currentStreak:0,longestStreak:0,weeklyGoalProgress:[]}),b({thisWeekVsLast:{drinks:{current:0,previous:0,change:0},cost:{current:0,previous:0,change:0}},thisMonthVsLast:{drinks:{current:0,previous:0,change:0},cost:{current:0,previous:0,change:0}}});return}const M=D.length,P=D.reduce((Z,ee)=>Z+ee.cost,0),F=new Map,J=new Map;D.forEach(Z=>{const ee=new Date(Z.date),bt=`${ee.getFullYear()}-W${Math.ceil((ee.getDate()-ee.getDay())/7)}`,Ie=`${ee.getFullYear()}-${String(ee.getMonth()+1).padStart(2,"0")}`;F.has(bt)||F.set(bt,{drinks:0,cost:0});const Wt=F.get(bt);Wt.drinks++,Wt.cost+=Z.cost,J.has(Ie)||J.set(Ie,{drinks:0,cost:0});const gt=J.get(Ie);gt.drinks++,gt.cost+=Z.cost});const ie=Array.from(F.entries()).map(([Z,ee])=>({week:Z,...ee})).sort((Z,ee)=>Z.week.localeCompare(ee.week)),Se=Array.from(J.entries()).map(([Z,ee])=>({month:Z,...ee})).sort((Z,ee)=>Z.month.localeCompare(ee.month));s({totalDrinks:M,weeklyTrends:ie,monthlyTrends:Se});const ke=new Map;D.forEach(Z=>{ke.has(Z.location)||ke.set(Z.location,{count:0,totalCost:0});const ee=ke.get(Z.location);ee.count++,ee.totalCost+=Z.cost});const ct=Array.from(ke.entries()).map(([Z,ee])=>({name:Z,count:ee.count,totalCost:ee.totalCost,percentage:ee.count/M*100})).sort((Z,ee)=>ee.count-Z.count),je=ct[0]?.name||"N/A";o({topLocation:je,locations:ct});const we=new Map,q=new Map,I=["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"];D.forEach(Z=>{const ee=new Date(Z.created_at),bt=ee.getHours(),Ie=I[ee.getDay()];we.set(bt,(we.get(bt)||0)+1),q.set(Ie,(q.get(Ie)||0)+1)});const te=Array.from(we.entries()).map(([Z,ee])=>({hour:Z,count:ee})).sort((Z,ee)=>Z.hour-ee.hour),fe=Array.from(q.entries()).map(([Z,ee])=>({day:Z,count:ee})).sort((Z,ee)=>ee.count-Z.count),E=te.reduce((Z,ee)=>ee.count>Z.count?ee:Z,{hour:0,count:0}).hour,$=fe[0]?.day||"N/A";u({peakHour:E,peakDay:$,hourlyPattern:te,dailyPattern:fe});const W=new Map,X=new Map;D.forEach(Z=>{W.has(Z.type)||W.set(Z.type,{total:0,count:0});const ee=W.get(Z.type);ee.total+=Z.cost,ee.count++,X.has(Z.location)||X.set(Z.location,{total:0,count:0});const bt=X.get(Z.location);bt.total+=Z.cost,bt.count++});const ne=Array.from(W.entries()).map(([Z,ee])=>({type:Z,total:ee.total,count:ee.count,average:ee.total/ee.count})).sort((Z,ee)=>ee.total-Z.total),de=Array.from(X.entries()).map(([Z,ee])=>({location:Z,total:ee.total,count:ee.count,average:ee.total/ee.count})).sort((Z,ee)=>ee.total-Z.total),oe=P/(ie.length||1),ut=P/M;g({totalSpent:P,averageWeeklyCost:oe,averageDrinkCost:ut,costByType:ne,costByLocation:de});const De=B?.weekly_budget?ie.filter(Z=>Z.cost<=B.weekly_budget).length:0;y({goalsAchieved:De,currentStreak:0,longestStreak:0,weeklyGoalProgress:ie.map(Z=>({week:Z.week,budgetUsed:Z.cost,budget:B?.weekly_budget||0,achieved:B?.weekly_budget?Z.cost<=B.weekly_budget:!1}))});const Je=new Date,xa=new Date(Je.getFullYear(),Je.getMonth(),Je.getDate()-Je.getDay()),zn=new Date(xa);zn.setDate(zn.getDate()-7);const va=new Date(xa);va.setDate(va.getDate()-1);const fi=new Date(Je.getFullYear(),Je.getMonth(),1),mi=new Date(Je.getFullYear(),Je.getMonth()-1,1),qo=new Date(Je.getFullYear(),Je.getMonth(),0),gi=D.filter(Z=>new Date(Z.date)>=xa),jt=D.filter(Z=>{const ee=new Date(Z.date);return ee>=zn&&ee<=va}),pi=D.filter(Z=>new Date(Z.date)>=fi),Qa=D.filter(Z=>{const ee=new Date(Z.date);return ee>=mi&&ee<=qo}),yi=gi.reduce((Z,ee)=>Z+ee.cost,0),ba=jt.reduce((Z,ee)=>Z+ee.cost,0),Kr=pi.reduce((Z,ee)=>Z+ee.cost,0),xi=Qa.reduce((Z,ee)=>Z+ee.cost,0);b({thisWeekVsLast:{drinks:{current:gi.length,previous:jt.length,change:gi.length-jt.length},cost:{current:yi,previous:ba,change:yi-ba}},thisMonthVsLast:{drinks:{current:pi.length,previous:Qa.length,change:pi.length-Qa.length},cost:{current:Kr,previous:xi,change:Kr-xi}}})}catch(D){console.error("Analytics error:",D),N(D instanceof Error?D.message:"Errore nel caricamento analytics")}finally{j(!1)}},[a]);k.useEffect(()=>{C()},[C]);const O=k.useCallback(()=>{C()},[C]);return{trendsData:t,locationData:r,timeData:c,financialData:m,progressData:p,comparisonData:x,loading:S,error:T,refreshData:O}},Xy=({data:a})=>{if(!a||a.weeklyTrends.length===0&&a.monthlyTrends.length===0)return h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Nessun dato disponibile"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Inizia a registrare drink per vedere i tuoi trend nel tempo"})]});const t=Math.max(...a.weeklyTrends.map(r=>r.drinks),1),s=Math.max(...a.monthlyTrends.map(r=>r.cost),1);return h.jsxs("div",{className:"space-y-6",children:[a.weeklyTrends.length>0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Trend Settimanali"})]}),h.jsx("div",{className:"space-y-4",children:a.weeklyTrends.slice(-8).map((r,o)=>h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+o*.1},className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-16 text-sm text-gray-600 dark:text-gray-300 font-medium",children:r.week}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.drinks," drink"]}),h.jsxs("span",{className:"text-sm text-teal-600 dark:text-teal-400 font-medium",children:["",r.cost.toFixed(2)]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${r.drinks/t*100}%`},transition:{delay:.5+o*.1,duration:.5},className:"bg-gradient-to-r from-teal-500 to-teal-600 rounded-full h-2"})})]})]},r.week))})]}),a.monthlyTrends.length>0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Trend Mensili (Spesa)"})]}),h.jsx("div",{className:"space-y-4",children:a.monthlyTrends.slice(-6).map((r,o)=>h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+o*.1},className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-16 text-sm text-gray-600 dark:text-gray-300 font-medium",children:r.month}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[r.drinks," drink"]}),h.jsxs("span",{className:"text-sm text-orange-600 dark:text-orange-400 font-medium",children:["",r.cost.toFixed(2)]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${r.cost/s*100}%`},transition:{delay:.6+o*.1,duration:.5},className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-full h-2"})})]})]},r.month))})]})]})},Fy=({data:a})=>{if(!a||a.locations.length===0)return h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Nessun dato disponibile"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Registra drink in diversi luoghi per vedere le statistiche"})]});const t=Math.max(...a.locations.map(s=>s.count));return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-teal-50 to-orange-50 dark:from-teal-900/30 dark:to-orange-900/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Il tuo posto del cuore"}),h.jsx("div",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400 mb-1",children:a.topLocation}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[a.locations[0]?.count," drink (",a.locations[0]?.percentage.toFixed(1),"%)"]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white flex items-center gap-2",children:[h.jsx("span",{children:""}),"Tutti i tuoi luoghi"]}),a.locations.map((s,r)=>h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1},className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:r===0?"":r===1?"":r===2?"":""}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:s.name}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[s.count," drink  ",s.totalCost.toFixed(2)," totali"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-teal-600 dark:text-teal-400",children:[s.percentage.toFixed(1),"%"]}),h.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["",(s.totalCost/s.count).toFixed(2)," media"]})]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${s.count/t*100}%`},transition:{delay:.2+r*.1,duration:.5},className:`rounded-full h-2 ${r===0?"bg-gradient-to-r from-teal-500 to-teal-600":r===1?"bg-gradient-to-r from-orange-500 to-orange-600":r===2?"bg-gradient-to-r from-purple-500 to-purple-600":"bg-gradient-to-r from-gray-400 to-gray-500"}`})})]},s.name))]})]})},Iy=({data:a})=>!a||a.totalSpent===0?h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Nessun dato finanziario"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Registra drink con i costi per vedere il breakdown finanziario"})]}):h.jsxs("div",{className:"space-y-6",children:[a.costByType.length>0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Spesa per Tipo di Drink"})]}),h.jsx("div",{className:"space-y-4",children:a.costByType.slice(0,8).map((t,s)=>{const r=t.total/a.totalSpent*100;return h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+s*.1},className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:t.type}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.count," drink  ",t.average.toFixed(2)," media"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-teal-600 dark:text-teal-400",children:["",t.total.toFixed(2)]}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.toFixed(1),"%"]})]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${r}%`},transition:{delay:.5+s*.1,duration:.5},className:`rounded-full h-2 ${s%4===0?"bg-gradient-to-r from-teal-500 to-teal-600":s%4===1?"bg-gradient-to-r from-orange-500 to-orange-600":s%4===2?"bg-gradient-to-r from-purple-500 to-purple-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`})})]},t.type)})})]}),a.costByLocation.length>0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Spesa per Luogo"})]}),h.jsx("div",{className:"space-y-4",children:a.costByLocation.slice(0,6).map((t,s)=>{const r=t.total/a.totalSpent*100;return h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+s*.1},className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:s===0?"":s===1?"":s===2?"":""}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white",children:t.location}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[t.count," drink  ",t.average.toFixed(2)," media"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["",t.total.toFixed(2)]}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.toFixed(1),"%"]})]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${r}%`},transition:{delay:.6+s*.1,duration:.5},className:`rounded-full h-2 ${s===0?"bg-gradient-to-r from-yellow-500 to-yellow-600":s===1?"bg-gradient-to-r from-gray-400 to-gray-500":s===2?"bg-gradient-to-r from-orange-600 to-orange-700":"bg-gradient-to-r from-gray-400 to-gray-500"}`})})]},t.location)})})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Insights Finanziari"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Drink pi costoso"}),h.jsx("p",{className:"text-lg font-bold text-indigo-600 dark:text-indigo-400",children:a.costByType[0]?.type||"N/A"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["",a.costByType[0]?.average.toFixed(2)||"0.00"," in media"]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Luogo pi costoso"}),h.jsx("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:a.costByLocation[0]?.location||"N/A"}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["",a.costByLocation[0]?.average.toFixed(2)||"0.00"," in media"]})]})]})]})]}),Qy=({data:a})=>{if(!a)return h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Nessun dato di progresso"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Imposta un budget settimanale per tracciare i tuoi progressi"})]});const t=a.weeklyGoalProgress.length,s=t>0?a.goalsAchieved/t*100:0;return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:a.goalsAchieved}),h.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Obiettivi raggiunti"})]}),h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/30 dark:to-red-900/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:a.currentStreak}),h.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Streak attuale"})]}),h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/30 dark:to-violet-900/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:a.longestStreak}),h.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Record streak"})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/30 dark:to-blue-900/30 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Tasso di Successo"})]}),h.jsxs("div",{className:"text-center mb-6",children:[h.jsxs("div",{className:"text-4xl font-bold text-teal-600 dark:text-teal-400 mb-2",children:[s.toFixed(1),"%"]}),h.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[a.goalsAchieved," di ",t," settimane con obiettivo raggiunto"]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-4 mb-4",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${s}%`},transition:{delay:.4,duration:1},className:"bg-gradient-to-r from-teal-500 to-teal-600 rounded-full h-4"})}),h.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-300",children:[h.jsx("span",{children:"0%"}),h.jsx("span",{children:"50%"}),h.jsx("span",{children:"100%"})]})]}),a.weeklyGoalProgress.length>0&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Progressi Settimanali"})]}),h.jsx("div",{className:"space-y-3",children:a.weeklyGoalProgress.slice(-8).map((r,o)=>{const c=r.budget>0?r.budgetUsed/r.budget*100:0,u=c>100;return h.jsxs(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+o*.1},className:"bg-gray-50 dark:bg-gray-700 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-xl",children:r.achieved?"":u?"":""}),h.jsxs("div",{children:[h.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-white",children:["Settimana ",r.week]}),h.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Budget: ",r.budget.toFixed(2)]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:`text-lg font-bold ${r.achieved?"text-green-600 dark:text-green-400":u?"text-red-600 dark:text-red-400":"text-orange-600 dark:text-orange-400"}`,children:["",r.budgetUsed.toFixed(2)]}),h.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[c.toFixed(1),"% usato"]})]})]}),h.jsx("div",{className:"bg-gray-200 dark:bg-gray-600 rounded-full h-3",children:h.jsx(Q.div,{initial:{width:0},animate:{width:`${Math.min(c,100)}%`},transition:{delay:.6+o*.1,duration:.5},className:`rounded-full h-3 ${r.achieved?"bg-gradient-to-r from-green-500 to-green-600":u?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-orange-500 to-orange-600"}`})}),u&&h.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400 text-center",children:["Superamento di ",(r.budgetUsed-r.budget).toFixed(2)]})]},r.week)})})]}),s>=80&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"p-6 bg-green-100 dark:bg-green-900/30 rounded-2xl text-center",children:[h.jsx("div",{className:"text-3xl mb-3",children:""}),h.jsx("p",{className:"text-green-800 dark:text-green-300 font-semibold text-lg",children:"Eccellente controllo del budget!"}),h.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm mt-2",children:"Stai raggiungendo i tuoi obiettivi con costanza"})]}),s<50&&t>2&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl text-center",children:[h.jsx("div",{className:"text-3xl mb-3",children:""}),h.jsx("p",{className:"text-orange-800 dark:text-orange-300 font-semibold text-lg",children:"Continua cos!"}),h.jsx("p",{className:"text-orange-700 dark:text-orange-400 text-sm mt-2",children:"Ogni piccolo passo conta verso i tuoi obiettivi"})]})]})},Wy=({data:a})=>{if(!a)return h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Confronti non disponibili"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Servono almeno 2 settimane di dati per mostrare i confronti"})]});const t=({title:s,icon:r,current:o,previous:c,change:u,type:m,delay:g=0})=>{const p=u>0,y=u<0,x=c>0?Math.abs(u/c*100):0,b=N=>m==="cost"?`${N.toFixed(2)}`:N.toString(),S=()=>m==="cost"?p?"text-red-600 dark:text-red-400":y?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400":p?"text-orange-600 dark:text-orange-400":y?"text-teal-600 dark:text-teal-400":"text-gray-600 dark:text-gray-400",j=()=>u===0?"":p?"":"",T=()=>u===0?"Stabile":`${p?"Aumento":"Diminuzione"} ${x.toFixed(1)}%`;return h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:r}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:s})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"text-center p-4 bg-teal-50 dark:bg-teal-900/30 rounded-xl",children:[h.jsx("div",{className:"text-sm text-teal-700 dark:text-teal-300 mb-1",children:"Attuale"}),h.jsx("div",{className:"text-2xl font-bold text-teal-800 dark:text-teal-200",children:b(o)})]}),h.jsxs("div",{className:"text-center p-4 bg-gray-100 dark:bg-gray-600 rounded-xl",children:[h.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-1",children:"Precedente"}),h.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:b(c)})]})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx("span",{className:"text-xl",children:j()}),h.jsx("span",{className:`font-semibold ${S()}`,children:b(Math.abs(u))})]}),h.jsx("div",{className:`text-sm ${S()}`,children:T()})]})]})};return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Questa Settimana vs Settimana Scorsa"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(t,{title:"Drink Consumati",icon:"",current:a.thisWeekVsLast.drinks.current,previous:a.thisWeekVsLast.drinks.previous,change:a.thisWeekVsLast.drinks.change,type:"drinks",delay:0}),h.jsx(t,{title:"Spesa Totale",icon:"",current:a.thisWeekVsLast.cost.current,previous:a.thisWeekVsLast.cost.previous,change:a.thisWeekVsLast.cost.change,type:"cost",delay:.1})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Questo Mese vs Mese Scorso"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(t,{title:"Drink Consumati",icon:"",current:a.thisMonthVsLast.drinks.current,previous:a.thisMonthVsLast.drinks.previous,change:a.thisMonthVsLast.drinks.change,type:"drinks",delay:.2}),h.jsx(t,{title:"Spesa Totale",icon:"",current:a.thisMonthVsLast.cost.current,previous:a.thisMonthVsLast.cost.previous,change:a.thisMonthVsLast.cost.change,type:"cost",delay:.3})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/30 dark:to-purple-900/30 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Riepilogo Tendenze"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-white/50 dark:bg-gray-600/50 rounded-xl",children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:" Tendenza settimanale"}),a.thisWeekVsLast.drinks.change===0&&a.thisWeekVsLast.cost.change===0?h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"I tuoi consumi sono rimasti stabili rispetto alla settimana scorsa."}):h.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[a.thisWeekVsLast.drinks.change>0?"Hai consumato pi drink":a.thisWeekVsLast.drinks.change<0?"Hai ridotto il consumo di drink":"Stesso numero di drink"," ","e"," ",a.thisWeekVsLast.cost.change>0?"hai speso di pi":a.thisWeekVsLast.cost.change<0?"hai risparmiato":"hai speso uguale"," ","rispetto alla settimana scorsa."]})]}),h.jsxs("div",{className:"p-4 bg-white/50 dark:bg-gray-600/50 rounded-xl",children:[h.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:" Tendenza mensile"}),a.thisMonthVsLast.drinks.change===0&&a.thisMonthVsLast.cost.change===0?h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Su base mensile, i tuoi pattern sono rimasti consistenti."}):h.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Su base mensile,"," ",a.thisMonthVsLast.drinks.change>0?"c' stato un aumento dei consumi":a.thisMonthVsLast.drinks.change<0?"hai ridotto i consumi":"i consumi sono stabili"," ","e"," ",a.thisMonthVsLast.cost.change>0?"un incremento della spesa":a.thisMonthVsLast.cost.change<0?"un risparmio":"la spesa  rimasta uguale","."]})]}),a.thisWeekVsLast.cost.change<0&&a.thisMonthVsLast.cost.change<0&&h.jsxs("div",{className:"p-4 bg-green-100 dark:bg-green-900/30 rounded-xl text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsx("p",{className:"text-green-800 dark:text-green-300 font-semibold",children:"Ottimo lavoro! Stai risparmiando sia settimanalmente che mensilmente!"})]}),a.thisWeekVsLast.drinks.change<0&&h.jsxs("div",{className:"p-4 bg-teal-100 dark:bg-teal-900/30 rounded-xl text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsx("p",{className:"text-teal-800 dark:text-teal-300 font-semibold",children:"Bene! Hai ridotto il consumo questa settimana. Continua cos!"})]})]})]})]})},Zy=({data:a})=>{if(!a)return h.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-700 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Caricamento panoramica..."})]});const{trendsData:t,locationData:s,financialData:r,progressData:o,comparisonData:c}=a;return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:0},className:"bg-gradient-to-br from-teal-50 to-teal-100 dark:from-teal-900/30 dark:to-teal-800/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-2xl font-bold text-teal-700 dark:text-teal-300",children:t?.totalDrinks||0}),h.jsx("div",{className:"text-sm text-teal-600 dark:text-teal-400",children:"Drink totali"})]}),h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsxs("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:["",r?.totalSpent?.toFixed(2)||"0.00"]}),h.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Spesa totale"})]}),h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-xl font-bold text-purple-700 dark:text-purple-300",children:s?.topLocation||"N/A"}),h.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Luogo preferito"})]}),h.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 rounded-2xl p-6 text-center",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:o?.goalsAchieved||0}),h.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Obiettivi raggiunti"})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Riepilogo Situazione"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4",children:[h.jsxs("h4",{className:"font-semibold text-blue-800 dark:text-blue-300 mb-3 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Situazione Finanziaria"]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-700 dark:text-blue-400",children:"Media settimanale:"}),h.jsxs("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:["",r?.averageWeeklyCost?.toFixed(2)||"0.00"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-700 dark:text-blue-400",children:"Costo medio drink:"}),h.jsxs("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:["",r?.averageDrinkCost?.toFixed(2)||"0.00"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-700 dark:text-blue-400",children:"Tipo pi costoso:"}),h.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:r?.costByType?.[0]?.type||"N/A"})]})]})]}),h.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 rounded-xl p-4",children:[h.jsxs("h4",{className:"font-semibold text-indigo-800 dark:text-indigo-300 mb-3 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Tendenze Recenti"]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-indigo-700 dark:text-indigo-400",children:"Settimane attive:"}),h.jsx("span",{className:"font-medium text-indigo-800 dark:text-indigo-300",children:t?.weeklyTrends?.length||0})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-indigo-700 dark:text-indigo-400",children:"Media settimanale:"}),h.jsxs("span",{className:"font-medium text-indigo-800 dark:text-indigo-300",children:[t&&t.weeklyTrends.length>0?Math.round(t.totalDrinks/t.weeklyTrends.length):0," drink"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-indigo-700 dark:text-indigo-400",children:"Luoghi visitati:"}),h.jsx("span",{className:"font-medium text-indigo-800 dark:text-indigo-300",children:s?.locations?.length||0})]})]})]})]})]}),c&&h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-700 dark:to-gray-600 rounded-2xl p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"text-2xl",children:""}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"Questa Settimana vs Precedente"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-teal-50 dark:bg-teal-900/40 rounded-xl p-4 text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsxs("div",{className:"text-lg font-bold text-teal-700 dark:text-teal-300",children:[c.thisWeekVsLast.drinks.current," drink"]}),h.jsxs("div",{className:`text-sm ${c.thisWeekVsLast.drinks.change>0?"text-orange-600":c.thisWeekVsLast.drinks.change<0?"text-green-600":"text-gray-600"}`,children:[c.thisWeekVsLast.drinks.change>0?"":c.thisWeekVsLast.drinks.change<0?"":"",c.thisWeekVsLast.drinks.change!==0&&` ${Math.abs(c.thisWeekVsLast.drinks.change)} rispetto alla settimana scorsa`,c.thisWeekVsLast.drinks.change===0&&" Stabile"]})]}),h.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/40 rounded-xl p-4 text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsxs("div",{className:"text-lg font-bold text-orange-700 dark:text-orange-300",children:["",c.thisWeekVsLast.cost.current.toFixed(2)]}),h.jsxs("div",{className:`text-sm ${c.thisWeekVsLast.cost.change>0?"text-red-600":c.thisWeekVsLast.cost.change<0?"text-green-600":"text-gray-600"}`,children:[c.thisWeekVsLast.cost.change>0?"":c.thisWeekVsLast.cost.change<0?"":"",c.thisWeekVsLast.cost.change!==0&&` ${Math.abs(c.thisWeekVsLast.cost.change).toFixed(2)} rispetto alla settimana scorsa`,c.thisWeekVsLast.cost.change===0&&" Stabile"]})]})]})]})]})},XA=()=>{const[a,t]=k.useState("overview"),{trendsData:s,locationData:r,financialData:o,progressData:c,comparisonData:u,loading:m,error:g,refreshData:p}=KA(),y=[{id:"overview",label:"Panoramica",icon:"",component:Zy},{id:"trends",label:"Trends",icon:"",component:Xy},{id:"locations",label:"Luoghi",icon:"",component:Fy},{id:"financial",label:"Finanze",icon:"",component:Iy},{id:"progress",label:"Progressi",icon:"",component:Qy},{id:"comparisons",label:"Confronti",icon:"",component:Wy}],x=y.find(b=>b.id===a);return m?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento analytics..."})]})}):g?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Errore nel caricamento"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:g}),h.jsx("button",{onClick:p,className:"bg-teal-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-teal-700 transition-colors",children:"Riprova"})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-32",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[h.jsx("div",{className:"text-4xl mb-2",children:""}),h.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white mb-2",children:"Analytics & Insights"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Analizza i tuoi pattern di consumo  Scopri tendenze e insights"})]}),h.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-6",children:h.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:y.map(b=>h.jsxs("button",{onClick:()=>t(b.id),className:`
                  flex flex-col items-center p-3 rounded-xl transition-all duration-200
                  ${a===b.id?"bg-gradient-to-br from-teal-50 to-orange-50 dark:from-teal-900/30 dark:to-orange-900/30 text-teal-600 dark:text-teal-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
                `,children:[h.jsx("span",{className:"text-2xl mb-1",children:b.icon}),h.jsx("span",{className:"text-xs font-medium",children:b.label})]},b.id))})}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("span",{className:"text-3xl",children:x?.icon}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:x?.label})]}),a==="overview"&&h.jsx(Zy,{data:{trendsData:s,locationData:r,financialData:o,progressData:c,comparisonData:u}}),a==="trends"&&h.jsx(Xy,{data:s}),a==="locations"&&h.jsx(Fy,{data:r}),a==="financial"&&h.jsx(Iy,{data:o}),a==="progress"&&h.jsx(Qy,{data:c}),a==="comparisons"&&h.jsx(Wy,{data:u})]},a)]})})},FA=()=>{const{user:a}=Ct(),[t,s]=k.useState(null),[r,o]=k.useState(!0),[c,u]=k.useState(null),m=g=>{if(g.length===0)return{totalSpent:0,favoriteDrink:"Nessun drink registrato",mostFrequentLocation:"Nessuna location registrata",peakDrinkingDay:"Nessun dato disponibile",totalDrinks:0,averageWeeklyCost:0};const p=g.reduce((M,P)=>M+P.cost,0),y=g.reduce((M,P)=>(M[P.type]=(M[P.type]||0)+1,M),{}),x=Object.entries(y).sort(([,M],[,P])=>P-M)[0]?.[0]||"Nessun drink registrato",b=g.reduce((M,P)=>(M[P.location]=(M[P.location]||0)+1,M),{}),S=Object.entries(b).sort(([,M],[,P])=>P-M)[0]?.[0]||"Nessuna location registrata",j=["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"],T=g.reduce((M,P)=>{const F=new Date(P.date).getDay();return M[F]=(M[F]||0)+1,M},{}),N=Object.entries(T).sort(([,M],[,P])=>P-M)[0]?.[0],C=N!==void 0?j[parseInt(N)]:"Nessun dato disponibile",O=new Date(g[g.length-1]?.date),D=new Date(g[0]?.date),Y=Math.max(1,Math.ceil((D.getTime()-O.getTime())/(10080*60*1e3))),B=p/Y;return{totalSpent:p,favoriteDrink:x,mostFrequentLocation:S,peakDrinkingDay:C,totalDrinks:g.length,averageWeeklyCost:B}};return k.useEffect(()=>{(async()=>{if(a?.id){o(!0),u(null);try{const{data:p,error:y}=await lA(a.id);if(y){u(y.message);return}const x=m(p||[]);s(x)}catch(p){u(p instanceof Error?p.message:"Errore nel caricamento statistiche")}finally{o(!1)}}})()},[a?.id]),{stats:t,loading:r,error:c}},IA=()=>{const{user:a,signOut:t}=Ct(),s=oi(),{objective:r,setWeeklyBudget:o,loading:c}=fb(),{loading:u}=FA(),{theme:m,toggleTheme:g}=k1(),[p,y]=k.useState(r?.weekly_budget?.toString()||""),[x,b]=k.useState(!1),[S,j]=k.useState(!1),[T,N]=k.useState([]),[C,O]=k.useState(!1),D=k.useCallback(async()=>{if(a)try{O(!0);const[M,P]=await Promise.all([rf(a.id),Yr(a.id)]);if(M.data){const F=!!P.data,J=Po(M.data,F);N(J)}}catch(M){console.error("Error loading achievements:",M)}finally{O(!1)}},[a]);k.useEffect(()=>{D()},[D]);const Y=async()=>{const M=parseFloat(p);if(isNaN(M)||M<0){alert("Inserisci un budget valido");return}j(!0);const P=await o(M);j(!1),P.success?b(!1):alert(P.error||"Errore nel salvataggio")},B=async()=>{confirm("Sei sicuro di voler uscire?")&&await t()};return c||u?h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Caricamento..."})]})}):h.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-4 pb-32",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Profilo"}),h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-teal-100 dark:bg-teal-900 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-2xl",children:""})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:a?.user_metadata?.username||"Utente"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:a?.email})]})]}),h.jsxs("div",{className:"border-t dark:border-gray-700 pt-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Budget Settimanale"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Budget attuale:"}),h.jsxs("span",{className:"font-medium text-teal-600 dark:text-teal-400",children:["",r?.weekly_budget?.toFixed(2)||"0.00"]})]}),x?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nuovo budget ()"}),h.jsx("input",{type:"number",min:"0",step:"0.01",value:p,onChange:M=>y(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"es. 50.00"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:Y,disabled:S,className:"flex-1 bg-teal-600 text-white py-2 rounded-lg font-medium hover:bg-teal-700 transition-colors disabled:opacity-50",children:S?"Salvataggio...":"Salva"}),h.jsx("button",{onClick:()=>{b(!1),y(r?.weekly_budget?.toString()||"")},className:"flex-1 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300 py-2 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors",children:"Annulla"})]})]}):h.jsx("button",{onClick:()=>b(!0),className:"w-full bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Modifica Budget"})]})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-2xl shadow-lg p-6 mb-6 border-2 border-yellow-200/50 dark:border-yellow-700/30",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-3xl",children:""}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"I Tuoi Trofei"}),h.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Celebra i tuoi successi!"})]})]}),h.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("/achievements"),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 w-full sm:w-auto",children:[h.jsx("span",{children:"Vedi tutti"}),h.jsx("span",{className:"text-lg",children:""})]})]}),C?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto mb-3"}),h.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm",children:"Caricamento trofei..."})]}):T.length===0?h.jsxs("div",{className:"text-center py-8 bg-white/50 dark:bg-gray-700/50 rounded-2xl",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("h4",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Inizia la tua collezione!"}),h.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Registra drink e raggiungi obiettivi per sbloccare trofei incredibili"})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[h.jsxs("div",{className:"text-center bg-white/70 dark:bg-gray-700/70 rounded-xl p-3",children:[h.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:T.filter(M=>M.unlocked).length}),h.jsx("div",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Sbloccati"})]}),h.jsxs("div",{className:"text-center bg-white/70 dark:bg-gray-700/70 rounded-xl p-3",children:[h.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:T.length}),h.jsx("div",{className:"text-xs text-orange-700 dark:text-orange-300",children:"Totali"})]}),h.jsxs("div",{className:"text-center bg-white/70 dark:bg-gray-700/70 rounded-xl p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[Math.round(T.filter(M=>M.unlocked).length/T.length*100)||0,"%"]}),h.jsx("div",{className:"text-xs text-red-700 dark:text-red-300",children:"Progresso"})]})]}),T.filter(M=>M.unlocked).length>0&&h.jsxs("div",{children:[h.jsxs("h4",{className:"text-md font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Ultimi trofei sbloccati"]}),h.jsx("div",{className:"space-y-3",children:T.filter(M=>M.unlocked).slice(-3).map((M,P)=>h.jsx(Q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:P*.1},children:h.jsx(si,{badge:M,delay:0})},M.id))}),T.filter(M=>M.unlocked).length>3&&h.jsx("div",{className:"text-center mt-4",children:h.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["+",T.filter(M=>M.unlocked).length-3," altri trofei sbloccati"]})})]}),T.filter(M=>!M.unlocked).length>0&&h.jsxs("div",{className:"mt-6 pt-6 border-t border-yellow-200 dark:border-yellow-700",children:[h.jsxs("h4",{className:"text-md font-semibold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[h.jsx("span",{children:""}),"Prossimo obiettivo"]}),h.jsx(si,{badge:T.filter(M=>!M.unlocked)[0],delay:0})]})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-teal-50 to-blue-50 dark:from-teal-900/20 dark:to-blue-900/20 rounded-2xl shadow-lg p-6 mb-6 text-center",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"Analizza i Tuoi Consumi"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Scopri pattern, tendenze e insights dettagliati sui tuoi drink"}),h.jsxs(Q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("/analytics"),className:"bg-gradient-to-r from-teal-600 to-blue-600 text-white px-6 py-3 rounded-full font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center gap-2 mx-auto",children:[h.jsx("span",{children:"Vai agli Analytics"}),h.jsx("span",{className:"text-lg",children:""})]})]}),h.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Impostazioni"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-2xl",children:m==="dark"?"":""}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:"Tema"}),h.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:m==="dark"?"Scuro":"Chiaro"})]})]}),h.jsx("button",{onClick:g,className:"bg-teal-500 hover:bg-teal-600 text-white px-4 py-2 rounded-lg transition-colors font-medium",children:"Cambia"})]}),h.jsxs("button",{onClick:B,className:"w-full bg-red-500 text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[h.jsx("span",{children:""}),"Esci dall'Account"]})]})]})]})})},QA=({children:a})=>{const{user:t}=Ct();return h.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[a,t&&h.jsx(j1,{})]})};function WA(){return h.jsx(S1,{children:h.jsx(w1,{children:h.jsx(lj,{basename:"/sippy",children:h.jsx(QA,{children:h.jsxs(Vk,{children:[h.jsx(fn,{path:"/login",element:h.jsx(aA,{})}),h.jsx(fn,{path:"/dashboard",element:h.jsx(Ks,{children:h.jsx(yA,{})})}),h.jsx(fn,{path:"/groups",element:h.jsx(Ks,{children:h.jsx($A,{})})}),h.jsx(fn,{path:"/group/:groupId",element:h.jsx(Ks,{children:h.jsx(PA,{})})}),h.jsx(fn,{path:"/achievements",element:h.jsx(Ks,{children:h.jsx(YA,{})})}),h.jsx(fn,{path:"/analytics",element:h.jsx(Ks,{children:h.jsx(XA,{})})}),h.jsx(fn,{path:"/profile",element:h.jsx(Ks,{children:h.jsx(IA,{})})}),h.jsx(fn,{path:"/",element:h.jsx(Rd,{to:"/dashboard",replace:!0})}),h.jsx(fn,{path:"*",element:h.jsx(Rd,{to:"/dashboard",replace:!0})})]})})})})})}XS.createRoot(document.getElementById("root")).render(h.jsx(k.StrictMode,{children:h.jsx(WA,{})}));
